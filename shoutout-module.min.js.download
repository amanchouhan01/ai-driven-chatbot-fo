!function(){var e,t,n,a,s={51570:function(e){e.exports={DEFAULT_LOCALE:"en",MOMENT_LOCALES:["pt","vi","lv","gl","pl","mr","el","et","is","sl","nn","ko","hr","ms","fi","th","jv","ru","eu","mk","sq","si","ja","ka","he","bg","my","uz","ne","af","id","az","me","lb","ca","ta","cy","nb","be","da","fa","de","fy","bs","sv","hi","uk","cs","km","fr","nl","sr","hu","lt","ml","bo","fo","ar","cv","sk","it","es","bn","eo","ro","br","tr"]}},15323:function(e,t,n){var a={"./messages_ar.json":[98424,1081],"./messages_bg.json":[32677,5380],"./messages_ca.json":[50575,5215],"./messages_cs.json":[15809,789],"./messages_da.json":[75142,5151],"./messages_de.json":[37895,1722],"./messages_el.json":[90270,909],"./messages_en.json":[78592,5012],"./messages_es.json":[7043,8757],"./messages_fi.json":[5072,3030],"./messages_fr.json":[69163,8736],"./messages_he.json":[44224,2244],"./messages_hi.json":[15563,6757],"./messages_hr.json":[95112,8111],"./messages_hu.json":[9595,9082],"./messages_id.json":[66751,4667],"./messages_it.json":[59109,3134],"./messages_ja.json":[84313,3968],"./messages_ko.json":[25540,9248],"./messages_lt.json":[35943,4178],"./messages_lv.json":[34268,5123],"./messages_ms.json":[67637,4060],"./messages_nl.json":[24986,3166],"./messages_no.json":[57473,4103],"./messages_pl.json":[35483,5954],"./messages_pt.json":[50094,7168],"./messages_ro.json":[99821,300],"./messages_ru.json":[15699,5528],"./messages_sk.json":[99645,1784],"./messages_sl.json":[82218,4634],"./messages_sv.json":[65675,2928],"./messages_th.json":[33701,627],"./messages_tl.json":[79482,2730],"./messages_tr.json":[1417,9],"./messages_uk.json":[26485,6644],"./messages_vi.json":[4091,485],"./messages_zh.json":[16392,3949],"./messages_zu.json":[3165,5818]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return n.e(t[1]).then(function(){return n.t(s,19)})}s.keys=function(){return Object.keys(a)},s.id=15323,e.exports=s}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return s[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=s,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var s=Object.create(null);i.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var r=2&a&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach(function(e){o[e]=function(){return n[e]}});return o.default=function(){return n},i.d(s,o),s},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce(function(t,n){return i.f[n](e,t),t},[]))},i.u=function(e){return({9:"i18n-33",300:"i18n-26",485:"i18n-35",627:"i18n-31",789:"i18n-3",909:"i18n-6",1081:"i18n-0",1722:"i18n-5",1784:"i18n-28",2244:"i18n-11",2730:"i18n-32",2928:"i18n-30",3030:"i18n-9",3134:"i18n-16",3166:"i18n-22",3949:"i18n-36",3968:"i18n-17",4060:"i18n-21",4103:"i18n-23",4178:"i18n-19",4634:"i18n-29",4667:"i18n-15",5012:"i18n-7",5123:"i18n-20",5151:"i18n-4",5215:"i18n-2",5380:"i18n-1",5528:"i18n-27",5599:"http-client",5818:"i18n-37",5954:"i18n-24",6644:"i18n-34",6757:"i18n-12",7168:"i18n-25",8111:"i18n-13",8736:"i18n-10",8757:"i18n-8",9082:"i18n-14",9248:"i18n-18",9753:"ambassador-linguist-web-proxy"}[e]||e)+".js"},i.miniCssF=function(e){},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},a="@wix/shoutout:",i.l=function(e,t,s,o){if(n[e])n[e].push(t);else{var r,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+s){r=d;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",a+s),r.src=e),n[e]=[t];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(g);var s=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach(function(e){return e(a)}),t)return t(a)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.p="",function(){var e={4836:0};i.f.j=function(t,n){var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise(function(n,s){a=e[t]=[n,s]});n.push(a[2]=s);var o=i.p+i.u(t),r=new Error;i.l(o,function(n){if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",r.name="ChunkLoadError",r.type=s,r.request=o,a[1](r)}},"chunk-"+t,t)}};var t=function(t,n){var a,s,o=n[0],r=n[1],l=n[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(l)l(i)}for(t&&t(n);c<o.length;c++)s=o[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunk_wix_shoutout=self.webpackChunk_wix_shoutout||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=BusinessManagerAPI,t=reactModuleContainer,n=angular,a=i(51570);new Set(["CONTACT_ID","contact.Name.First","contact.Name.Last","CONTACT_NAME","CONTACT_EMAIL","contact.Email","CONTACT_UNSUBSCRIBE_URL","SITE_URL","siteUrl","website.Name","website.Name","LANDING_PAGE_URL","PLAIN_LANDING_PAGE_URL"]);const s=e=>((e="string"==typeof e?JSON.parse(e):e)&&e.data&&e.data.composerData&&(e.data.composerData=JSON.parse(e.data.composerData),e.data.composerData=(e=>{const t=["text","mix","button","html","item_grid"];return e.regions=e.regions.map(function(e){if(!t.includes(e.type)){var n=JSON.stringify(e.data).replace(/</g,"&lt;").replace(/>/g,"&gt;");return e.data=JSON.parse(n),e}return e}),e})(e.data.composerData)),e),o=e=>{for(var t in e)e[t]="true"===e[t]||"false"!==e[t]&&e[t];return e};function r(e,t=a.DEFAULT_LOCALE){return e!==t&&-1!==a.MOMENT_LOCALES.indexOf(e)}const l="shoutout-analytics";const c=e=>{const t=window.location.search.substring(1).split("&");for(const n of t){const[t,a]=n.split("=");if(decodeURIComponent(t)===e)return decodeURIComponent(a)}};function u(){this.getInstance=function(){return(0,e.getCurrentInstance)(e.appDefIds.shoutout)}}function d(e){(0,n.module)("so.analytics").component("soReactAnalytics",{bindings:{biProps:"=",biDefaults:"=",message:"=",context:"=",shareEnabled:"=",enablePrivacyNotification:"=",messageSource:"="},template:`<module-registry\n      component="${l}"\n      props="{\n        messageId: $ctrl.messageId,\n        soProps: $ctrl.soProps,\n        biDefaults: $ctrl.biDefaults,\n        translationContext: $ctrl.context,\n        shareEnabled: $ctrl.shareEnabled,\n        enablePrivacyNotification: $ctrl.enablePrivacyNotification,\n        messageSource: $ctrl.messageSource,\n      }">\n    </module-registry>`,controller:function(){this.soProps={config:e.config,accountLanguage:e.accountLanguage,metaSiteId:e.metaSiteId,biProps:this.biProps},this.messageId=this.message.messageId},controllerAs:"$ctrl"})}async function m({staticsUrl:e,locale:t}){i.p=e;const a=await async function(e){const{default:t}=await i(15323)("./messages_"+e+".json");return t}(t);!function(e,t){try{n.module("wixShoutoutTranslations")}catch(e){n.module("wixShoutoutTranslations",["pascalprecht.translate"])}n.module("wixShoutoutTranslations").config(["$translateProvider",function(n){n.translations(t,e),n.preferredLanguage&&n.preferredLanguage(t)}])}(a,t)}var g,p,h;!function(e){e[e.EmailMarketing=0]="EmailMarketing",e[e.Automations=1]="Automations",e[e.Apes=2]="Apes",e[e.TriggeredEmails=3]="TriggeredEmails"}(g||(g={})),function(e){e[e.User=0]="User",e[e.PM=1]="PM",e[e.Writer=2]="Writer",e[e.Partner=3]="Partner"}(p||(p={})),function(e){e.Apes="apes",e.Automations="transactional-emails-automations",e.EmailMarketing="business-manager",e.TriggeredEmails="transactional-emails",e.Shoutout="shoutout"}(h||(h={}));const b={[g.EmailMarketing]:function({props:n,data:a,apiUrl:s,experiments:o,instance:i,crmApiUrl:r}){const l=JSON.parse(a.userPackage),c=-1!==n.metasiteNamespaces.indexOf("HEADLESS"),u=!!o["specs.so.ui.DesignerMode"],d=!!(0,e.isAppInstalled)(e.appDefIds.socialBlog),m=!!(0,e.isAppInstalled)(e.appDefIds.wixStores);return{apiUrl:s,biHost:"frog.wix.com",backLeadsToAutomations:!1,clientId:a.clientId||"",instance:i,instanceId:n.instanceId,locale:n.accountLanguage,mandatoryBiFields:t.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:a.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:n.metaSiteId,pageType:"so-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:n.config.topology.senderSetupStaticsUrl,siteUrl:a.userSiteUrl||(c?"":"https://wix.com"),staticsUrl:(n.config.topology||n.topology).shoutoutStaticsUrl,translationPrefix:"",dynamicFieldsNoteKey:"TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:JSON.parse(a.userData)||{footer:null,logo:"{}"},userId:n.userId,userPackage:l,version:a.clientTopology.version,isSchedulingEnabled:!0,messageTranslations:!1,crmApiUrl:r,isComposerBackButtonEnabled:!0,payload:t.ModuleRegistry.getModule(e.ModuleId.Shoutout)?.getConfigPayload()||[],verticalPriorities:e.ModulePriorities,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!0,showOnboardingHelpers:!0,showPlansUiAndFirstTimeExperience:!0,autoSaveStrategy:"DEFAULT",biContext:h.EmailMarketing,saveMessageBaseUrl:"",coBranding:n.coBranding,isBackAlwaysVisible:!1,enableLogoDynamicOptions:!1,isDynamicImageEnabled:!1,isDynamicLinkEnabled:!1,isSubjectLineInComposer:!1,isTitleRegionHtmlEnabled:!1,isTransactionalEmails:!1,enablePreheader:!1,keepTrackOfApplicationState:!0,resetToInitialMessageDataOnLeave:!1,headerType:"default",splitAutoEmailsNavigation:!1,useExternalBacklinkConfigForComposerNavigation:!1,defaultStylesContainMargins:!1,showPlaceholdersPreviewType:!1,showAd:!l?.features?.RemoveWixBranding,forceHideAdOnShowAd:!1,showUnsubscribeNote:!0,showHtmlPreviewNote:!1,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableFreeTextPlaceholders:!1,replaceDeepLinkLocation:!1,enableConditionsManagement:!1,enableConditionsActions:!1,enableConditions:!1,enableConditionNameTranslation:!1,enableConditionViewing:!1,passLanguageToHtmlPreview:!1,enableRegionUpDown:!0,enableDragEvent:!0,canConnectRepeaters:!1,allowFallbacksManagement:!1,showTMobileNotification:o["specs.so.ui.ShowTMobileNotification"],enableSegments:!0,isStandaloneFormEnabled:!c,isLogoBuilderEnabled:!0,blogFirstTimeExperience:d,useNewMessageListApi:!0,enableFooterAdForPremiums:!u,enablePreheaderInReactComposer:!1,enableReusingEmails:!1,cleanUpSiteUrls:!0,enableProductSection:m,enableMultipleArraySamples:!1,showHomeButtonLabel:!1,aiMessagesEnabled:!0,translateSingleLanguage:!1,asyncUserData:!0,activeLanguageResolutionPolicy:null,canCustomizeColumnRegions:!0,isAdvancedAdvancedMode:!1}},[g.Automations]:function({props:e,data:n,apiUrl:a,businessSettings:s,instance:o,crmApiUrl:i,injectedMessage:r,experiments:l}){const u=JSON.parse(n.userPackage),d=-1!==e.metasiteNamespaces.indexOf("HEADLESS");return{apiUrl:a,backLeadsToAutomations:!0,biHost:"frog.wix.com",clientId:n.clientId||"",instance:o,instanceId:e.instanceId,isBackAlwaysVisible:!0,locale:e.accountLanguage,mandatoryBiFields:t.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:n.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:e.metaSiteId,pageType:"transactional-emails-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:e.config.topology.senderSetupStaticsUrl,siteUrl:n.userSiteUrl||(d?"":"https://wix.com"),staticsUrl:(e.config.topology||e.topology).shoutoutStaticsUrl,translationPrefix:"TE.",dynamicFieldsNoteKey:"TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:n.userData?JSON.parse(n.userData):null,userId:e.userId,userPackage:u,version:n.clientTopology.version,messageTranslations:!0,businessSettings:s,enableLogoDynamicOptions:!0,crmApiUrl:i,payload:"",verticalPriorities:[],biContext:h.Automations,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,saveMessageBaseUrl:a+"transactional/",isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,coBranding:e.coBranding,enablePreheader:!0,isSchedulingEnabled:!1,isComposerBackButtonEnabled:!1,isEmPersonalized:!1,importContactsThroughContactsApp:!1,showThemesPanel:!0,showOnboardingHelpers:!1,showPlansUiAndFirstTimeExperience:!1,autoSaveStrategy:"DEFAULT",keepTrackOfApplicationState:!1,resetToInitialMessageDataOnLeave:!0,initialMessageStorageKey:`cachedMessage:${e.metaSiteId}:${r?.messageId}`,messageSavedStorageKey:`isMessageSavedAtLeastOnce:${e.metaSiteId}:${r?.messageId}`,headerType:"automations-header",splitAutoEmailsNavigation:!0,useExternalBacklinkConfigForComposerNavigation:!0,defaultStylesContainMargins:!1,showPlaceholdersPreviewType:!1,showAd:l["specs.so.app.AllowForceHidingAdInMessageParams"]?"true"===c("showAd")&&!u?.features?.RemoveWixBranding:!u?.features?.RemoveWixBranding,forceHideAdOnShowAd:!0,showUnsubscribeNote:!0,canControlMandatoryRegions:!0,canEditMandatoryRegions:!0,enableFreeTextPlaceholders:!1,replaceDeepLinkLocation:!1,enableConditionsManagement:!0,enableConditionsActions:!0,enableConditions:!0,enableConditionNameTranslation:!0,enableConditionViewing:!0,passLanguageToHtmlPreview:!0,canConnectRepeaters:!0,allowFallbacksManagement:!1,enableRegionUpDown:!0,showTMobileNotification:!1,enableSegments:!1,isStandaloneFormEnabled:!d,isLogoBuilderEnabled:!0,useNewMessageListApi:!1,enablePreheaderInReactComposer:!0,showHtmlPreviewNote:!1,blogFirstTimeExperience:!1,enableFooterAdForPremiums:!1,enableReusingEmails:!0,cleanUpSiteUrls:!1,enableProductSection:!1,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!1,translateSingleLanguage:!0,asyncUserData:!1,activeLanguageResolutionPolicy:"automations",canCustomizeColumnRegions:!0,isAdvancedAdvancedMode:"true"===c("isAdvAdv")}},[g.Apes]:function({props:e,data:n,apiUrl:a,businessSettings:s,instance:o,crmApiUrl:i,injectedMessage:r}){const l=JSON.parse(n.userPackage),u=-1!==e.metasiteNamespaces.indexOf("HEADLESS");return{apiUrl:a,biHost:"frog.wix.com",backLeadsToAutomations:!0,clientId:n.clientId||"",instance:o,instanceId:e.instanceId,isBackAlwaysVisible:!0,locale:e.accountLanguage,mandatoryBiFields:t.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:n.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:e.metaSiteId,pageType:"transactional-emails-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:e.config.topology.senderSetupStaticsUrl,siteUrl:n.userSiteUrl||(u?"":"https://wix.com"),staticsUrl:(e.config.topology||e.topology).shoutoutStaticsUrl,translationPrefix:"TE.",dynamicFieldsNoteKey:"APES.TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:n.userData?JSON.parse(n.userData):null,userId:e.userId,userPackage:l,version:n.clientTopology.version,messageTranslations:!0,businessSettings:s,enableLogoDynamicOptions:!0,crmApiUrl:i,payload:"",verticalPriorities:[],biContext:h.Apes,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,saveMessageBaseUrl:a,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,coBranding:e.coBranding,enablePreheader:!0,isSchedulingEnabled:!1,isComposerBackButtonEnabled:!1,isEmPersonalized:!1,importContactsThroughContactsApp:!1,showThemesPanel:!1,showOnboardingHelpers:!1,showPlansUiAndFirstTimeExperience:!1,autoSaveStrategy:"ON_DEMAND",keepTrackOfApplicationState:!1,resetToInitialMessageDataOnLeave:!0,initialMessageStorageKey:`cachedMessage:${e.metaSiteId}:${r?.messageId}`,messageSavedStorageKey:`isMessageSavedAtLeastOnce:${e.metaSiteId}:${r?.messageId}`,headerType:"apes-header",splitAutoEmailsNavigation:!0,useExternalBacklinkConfigForComposerNavigation:!0,defaultStylesContainMargins:!0,showPlaceholdersPreviewType:!0,showAd:"true"===c("showAd")&&!l?.features?.RemoveWixBranding,forceHideAdOnShowAd:!1,showUnsubscribeNote:"true"===c("showUnsubscribe"),showHtmlPreviewNote:!0,canControlMandatoryRegions:!0,canEditMandatoryRegions:!0,enableFreeTextPlaceholders:!0,replaceDeepLinkLocation:!0,skipMixRegionMutation:!0,enableConditionsManagement:!0,enableConditionsActions:!0,enableConditions:!0,enableConditionNameTranslation:!1,enableConditionViewing:!1,passLanguageToHtmlPreview:!0,canConnectRepeaters:!0,allowFallbacksManagement:!0,useBackToast:!!c("useBackToast"),isMultilingualApeFlow:"true"===c("isMultilingualApeFlow"),postApePublishAction:c("postApePublishAction"),apeRuleId:c("apeRuleId"),showTMobileNotification:!1,enableSegments:!1,isStandaloneFormEnabled:!u,isLogoBuilderEnabled:!0,useNewMessageListApi:!1,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!1,enableFooterAdForPremiums:!1,enableReusingEmails:!1,cleanUpSiteUrls:!1,enableProductSection:!1,enableMultipleArraySamples:!1,showHomeButtonLabel:!0,aiMessagesEnabled:!1,translateSingleLanguage:!1,asyncUserData:!1,activeLanguageResolutionPolicy:"apes",canCustomizeColumnRegions:!1,isAdvancedAdvancedMode:!1}},[g.TriggeredEmails]:function({props:e,data:n,apiUrl:a,businessSettings:s,instance:o,crmApiUrl:i}){const r=JSON.parse(n.userPackage),l=-1!==e.metasiteNamespaces.indexOf("HEADLESS");return{apiUrl:a,backLeadsToAutomations:!1,biHost:"frog.wix.com",clientId:n.clientId||"",instance:o,instanceId:e.instanceId,isBackAlwaysVisible:!0,locale:e.accountLanguage,mandatoryBiFields:t.ModuleRegistry.invoke("businessManager.getMandatoryBIFields"),mediaGalleryStaticUrl:n.clientTopology.mediaGalleryG5StaticsPartialsUrl,metaSiteId:e.metaSiteId,pageType:"transactional-emails-app",privateMediaSiteToken:window.__MEDIA_TOKEN__,senderSetupStaticsUrl:e.config.topology.senderSetupStaticsUrl,siteUrl:n.userSiteUrl||(l?"":"https://wix.com"),staticsUrl:(e.config.topology||e.topology).shoutoutStaticsUrl,translationPrefix:"TE.",dynamicFieldsNoteKey:"TEST_MAIL.NOTE_DYNAMIC_FIELDS_TEST",userData:n.userData?JSON.parse(n.userData):null,userId:e.userId,userPackage:r,version:n.clientTopology.version,messageTranslations:!1,businessSettings:s,enableLogoDynamicOptions:!0,crmApiUrl:i,payload:"",verticalPriorities:[],biContext:h.TriggeredEmails,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,saveMessageBaseUrl:a+"transactional/",isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,coBranding:e.coBranding,enablePreheader:!1,isSchedulingEnabled:!1,isComposerBackButtonEnabled:!1,isEmPersonalized:!1,importContactsThroughContactsApp:!1,showThemesPanel:!0,showOnboardingHelpers:!1,showPlansUiAndFirstTimeExperience:!1,autoSaveStrategy:"DEFAULT",keepTrackOfApplicationState:!1,resetToInitialMessageDataOnLeave:!1,headerType:"te-header",splitAutoEmailsNavigation:!0,useExternalBacklinkConfigForComposerNavigation:!1,defaultStylesContainMargins:!1,showPlaceholdersPreviewType:!1,showAd:!r?.features?.RemoveWixBranding,forceHideAdOnShowAd:!1,showUnsubscribeNote:!0,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableFreeTextPlaceholders:!1,replaceDeepLinkLocation:!1,enableConditionsManagement:!1,enableConditionsActions:!1,enableConditions:!1,enableConditionNameTranslation:!1,enableConditionViewing:!1,passLanguageToHtmlPreview:!1,canConnectRepeaters:!1,allowFallbacksManagement:!1,enableRegionUpDown:!0,showTMobileNotification:!1,enableSegments:!1,isStandaloneFormEnabled:!l,isLogoBuilderEnabled:!0,useNewMessageListApi:!1,enablePreheaderInReactComposer:!0,showHtmlPreviewNote:!1,blogFirstTimeExperience:!1,enableFooterAdForPremiums:!1,enableReusingEmails:!1,cleanUpSiteUrls:!1,enableProductSection:!1,enableMultipleArraySamples:!1,showHomeButtonLabel:!0,aiMessagesEnabled:!1,translateSingleLanguage:!1,asyncUserData:!0,activeLanguageResolutionPolicy:null,canCustomizeColumnRegions:!1,isAdvancedAdvancedMode:!1}}},f={[p.User]:()=>({isBackAlwaysVisible:!0,isSchedulingEnabled:!0,messageTranslations:!0,enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!0,showOnboardingHelpers:!0,showPlansUiAndFirstTimeExperience:!0,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!0,showPlaceholdersPreviewType:!1,showUnsubscribeNote:!0,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableConditionsManagement:!0,enableConditionViewing:!0,enableConditionsActions:!1,enableConditions:!0,enableConditionNameTranslation:!1,passLanguageToHtmlPreview:!0,canConnectRepeaters:!1,allowFallbacksManagement:!1,showTMobileNotification:!0,enableSegments:!0,isStandaloneFormEnabled:!0,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableFooterAdForPremiums:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!1,asyncUserData:!0,canCustomizeColumnRegions:!0,isAdvancedAdvancedMode:!1}),[p.PM]:()=>({isBackAlwaysVisible:!0,isSchedulingEnabled:!0,messageTranslations:!0,enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!1,showOnboardingHelpers:!0,showPlansUiAndFirstTimeExperience:!0,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!0,showPlaceholdersPreviewType:!0,showUnsubscribeNote:!1,canControlMandatoryRegions:!0,canEditMandatoryRegions:!0,enableConditionsManagement:!0,enableConditionsActions:!0,enableConditions:!0,enableConditionNameTranslation:!1,enableConditionViewing:!1,passLanguageToHtmlPreview:!0,canConnectRepeaters:!0,allowFallbacksManagement:!0,showTMobileNotification:!0,enableSegments:!0,isStandaloneFormEnabled:!0,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableFooterAdForPremiums:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!1,asyncUserData:!0,canCustomizeColumnRegions:!0,isAdvancedAdvancedMode:!0}),[p.Writer]:()=>({isBackAlwaysVisible:!0,isSchedulingEnabled:!0,messageTranslations:!0,enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!1,showOnboardingHelpers:!0,showPlansUiAndFirstTimeExperience:!0,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!1,showPlaceholdersPreviewType:!1,showUnsubscribeNote:!1,canControlMandatoryRegions:!1,canEditMandatoryRegions:!0,enableConditionsManagement:!0,enableConditionsActions:!1,enableConditions:!0,enableConditionNameTranslation:!0,enableConditionViewing:!1,passLanguageToHtmlPreview:!0,canConnectRepeaters:!1,allowFallbacksManagement:!0,showTMobileNotification:!0,enableSegments:!0,isStandaloneFormEnabled:!0,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableFooterAdForPremiums:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!0,asyncUserData:!0,canCustomizeColumnRegions:!0,isAdvancedAdvancedMode:!0}),[p.Partner]:({data:e})=>{const t=JSON.parse(e.userPackage);return{isBackAlwaysVisible:!0,isSchedulingEnabled:t?.features?.Scheduling||!1,messageTranslations:!0,enableLogoDynamicOptions:!0,isComposerBackButtonEnabled:!0,isEmPersonalized:!0,importContactsThroughContactsApp:!0,showThemesPanel:!0,showOnboardingHelpers:!0,showPlansUiAndFirstTimeExperience:!1,isDynamicImageEnabled:!0,isDynamicLinkEnabled:!0,isSubjectLineInComposer:!0,isTitleRegionHtmlEnabled:!0,isTransactionalEmails:!0,enablePreheader:!0,backLeadsToAutomations:!0,useExternalBacklinkConfigForComposerNavigation:!0,showPlaceholdersPreviewType:!1,showUnsubscribeNote:!0,canControlMandatoryRegions:!1,canEditMandatoryRegions:!1,enableConditionsManagement:!1,enableConditionsActions:!1,enableConditions:!0,enableConditionNameTranslation:!1,enableConditionViewing:!1,passLanguageToHtmlPreview:!0,canConnectRepeaters:!1,allowFallbacksManagement:!1,showTMobileNotification:!0,enableSegments:!1,isStandaloneFormEnabled:!1,isLogoBuilderEnabled:!0,useNewMessageListApi:!0,enableFooterAdForPremiums:!1,showHtmlPreviewNote:!0,enablePreheaderInReactComposer:!0,blogFirstTimeExperience:!0,enableReusingEmails:!0,cleanUpSiteUrls:!0,enableProductSection:!0,enableMultipleArraySamples:!0,showHomeButtonLabel:!0,aiMessagesEnabled:!0,translateSingleLanguage:!1,asyncUserData:!0,canCustomizeColumnRegions:!0,isAdvancedAdvancedMode:!1}}};function y(e,t){return n=>{const a=b[e](n);return function(e,t){for(const n in t)t[n]||(e[n]=!1)}(a,f[t](n)),a}}function S(e,a,s){(0,n.module)(e,["fedops"]).config(["fedopsLoggerProvider",function(e){e.setAppName(a),e.setDisableAutoLoadFinish()}]).directive(s,function(){return{template:"<div></div>",controller:["fedopsLogger",function(e){e.appLoaded(),t.ModuleRegistry.invoke("businessManager.navigateTo",{pageComponentId:"shoutout-compliance",viewId:"shoutoutComplianceView"})}]}})}function w(e,t,a,s){(0,n.module)(e,["wixShoutoutTranslations","fedops","ngSanitize"]).config(["fedopsLoggerProvider",function(e){e.setAppName(t),e.setDisableAutoLoadFinish()}]).directive(a,function(){return{template:['<div class="shoutout">','<div class="so-grid-container">','<div class="so-grid-row">','<div class="so-grid-col12">','<div class="so-dashboard-widget-error">','<div class="so-h1">{{"SHOUTOUT.FATAL.HEADING" | translate}}</div>','<div class="so-body1" ng-bind-html="\'SHOUTOUT.FATAL.DESCRIPTION\' | translate"></div>','<button class="so-button so-button-primary-small" onclick="window.location.reload()">{{"SHOUTOUT.FATAL.CTA" | translate}}</button>',"</div>","</div>","</div>","</div>","</div>"].join(""),controller:["$window","fedopsLogger",function(e,t){t.appLoaded(),e.ModuleRegistry.notifyListeners("businessManager.viewStartLoading",s),e.ModuleRegistry.notifyListeners("businessManager.viewFinishedLoading",s)}]}})}function A(e){e&&(console.error(e),e.response&&console.error(e.response.data))}function v(e){return"ACCOUNT_SUSPENDED"===((((e||{}).response||{}).data||{}).errorCode||"UNKNOWN")}const T=({httpClient:e,apiUrl:t})=>e.get(`${t}indexData`).then(({data:e})=>e),C=({httpClient:e,apiUrl:t,messageId:n,language:a})=>{const s=`${t}messages/${n}/details`;return e.get(s,{params:{language:a}}).then(({data:e})=>e)};async function E({apiUrl:e,httpClient:t}){const n=c("messageId");let a=c("translation");const s="true"===c("resetToEnglish");a&&s&&(a="en");const[o,i]=await Promise.all([T({httpClient:t,apiUrl:e}),n?C({httpClient:t,apiUrl:e,messageId:n,language:a}):null]);return{indexData:o,message:i}}const M="41d8c51c-55fb-4909-ab3d-8b8d6d513336";var P=_;function I(e){(0,n.module)(e).component("senderSetupModal",{bindings:{isShown:"=",onCancel:"=",onClose:"=",onDone:"=",biOptions:"=",biDefaults:"="},template:'<module-registry\n      component="EmailMarketingSenderSetupWidget"\n      props="{\n        isOpen:$ctrl.isShown,\n        onCancel:$ctrl.onCancel,\n        onClose:$ctrl.onClose,\n        onDone:$ctrl.onDone,\n        biOptions: $ctrl.biData,\n        biDefaults: $ctrl.biDefaults\n      }">\n    </module-registry>',controller:["clientConfig",function(e){const t=(0,P.get)(this,"biOptions.referal_info","transactional-emails"),n=(0,P.get)(this,"biOptions.appState",null);this.biData={app:t,appState:n,context:e.biContext,package_group:e.userPackage.group,package_id:e.userPackage.vendorProductId}}],controllerAs:"$ctrl"})}const L=e=>e.split("#");const U=/{(.*)}/,O=new RegExp(`\\.(${["wix.com","editorx.com"].join("|")})$`),k=new RegExp(`\\.(${["42.wixprod.net","uw2-edt-1.wixprod.net"].join("|")})$`),N=new RegExp(".*\\.dev.wix-code.com$");function x(e){const t=function(e,t){const n=t[e]||t._;if(n)return n;const a=function(e,t){return Object.entries(t).find(([t])=>{const[n,...a]=e.split(".");return a.join(".")===t})?.[1]}(e,t);if(!a&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[D];return a??[]}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(O,"._base_domain_").replace(k,"._api_base_domain_").replace(N,"*.dev.wix-code.com"),e.domainToMappings);var n,a;return function(e,t){const n=t?.find(t=>e.startsWith(t.destPath));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}((n=e.protoPath,a=e.data||{},n.split("/").map(e=>function(e,t){const n=e.match(U)||[],a=n[1];if(a){const s=e.replace(n[0],"");return function(e,t,n,a){let s=e;for(const e of t.split(".")){if(!s)return n;s=s[e]}return`${s}${a}`}(t,a,e,s)}return e}(e,a)).join("/")),t)}const D="www._base_domain_",R="function"==typeof Buffer,F=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),j=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),B=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(j),$=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,H=String.fromCharCode.bind(String),z=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_")),J=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),W=e=>{let t,n,a,s,o="";const i=e.length%3;for(let i=0;i<e.length;){if((n=e.charCodeAt(i++))>255||(a=e.charCodeAt(i++))>255||(s=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=n<<16|a<<8|s,o+=j[t>>18&63]+j[t>>12&63]+j[t>>6&63]+j[63&t]}return i?o.slice(0,i-3)+"===".substring(i):o},G="function"==typeof btoa?e=>btoa(e):R?e=>Buffer.from(e,"binary").toString("base64"):W,V=R?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,a=e.length;n<a;n+=4096)t.push(H.apply(null,e.subarray(n,n+4096)));return G(t.join(""))},q=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?H(192|t>>>6)+H(128|63&t):H(224|t>>>12&15)+H(128|t>>>6&63)+H(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return H(240|t>>>18&7)+H(128|t>>>12&63)+H(128|t>>>6&63)+H(128|63&t)},K=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Y=e=>e.replace(K,q),Z=R?e=>Buffer.from(e,"utf8").toString("base64"):F?e=>V(F.encode(e)):e=>G(Y(e)),Q=(e,t=!1)=>t?z(Z(e)):Z(e),X=e=>{if(e=e.replace(/\s+/g,""),!$.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,a,s="";for(let o=0;o<e.length;)t=B[e.charAt(o++)]<<18|B[e.charAt(o++)]<<12|(n=B[e.charAt(o++)])<<6|(a=B[e.charAt(o++)]),s+=64===n?H(t>>16&255):64===a?H(t>>16&255,t>>8&255):H(t>>16&255,t>>8&255,255&t);return s};function ee(e,t=""){const n={};return Object.entries(e).forEach(([e,a])=>{const s=null!==a&&"object"==typeof a&&!Array.isArray(a),o=function(e,t){return`${e}${e?".":""}${t}`}(t,e);if(s){const e=ee(a,o);Object.assign(n,e)}else n[o]=a}),n}function te(e,t){const n=ee(e),a=Object.entries(n).some(([e,t])=>e.includes(".")||Array.isArray(t)&&t.some(e=>"object"==typeof e));return t&&a?new URLSearchParams({".r":Q(JSON.stringify(e),!0)}):Object.entries(n).reduce((e,[t,n])=>((Array.isArray(n)?n:[n]).forEach(a=>{null==a||Array.isArray(n)&&"object"==typeof a||e.append(t,a)}),e),new URLSearchParams)}var ne;function ae(e,t={},n){return function(a={},s){return"string"==typeof a?a:o(e,a);function o(e,t){const n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach(([t,a])=>{const s=e[t],{schemaName:o,schemaType:l}=function(e=""){const[t,n]=L(e);return n?{schemaName:n,schemaType:t}:{schemaName:t}}(s),c="Map"===l;let u;u=r(o)?.checkRepetable?.(a)??Array.isArray(a)?a.map(e=>i(e,o)):c?function(e,t){return Object.entries(e).reduce((e,[n,a])=>(e[n]=i(a,t),e),{})}(a,o):i(a,o),n[t]=u}),n)}function i(e,n){if(!n)return e;const a=t[n];if(r(n))return r(n).transform(e);if(a)return o(a,e);throw new Error(`${n} is neither schema nor serializable type`)}function r(e){return n[e]?.[s]}}}!function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(ne||(ne={}));const se={types:["google.protobuf.Timestamp"],[ne.TO_JSON]:{transform:e=>"string"!=typeof e&&e?e.toISOString():e},[ne.FROM_JSON]:{transform:e=>e?new Date(e):e}},oe={types:["google.protobuf.FieldMask"],[ne.TO_JSON]:{transform:e=>e.join(","),checkRepetable:e=>e.some(e=>Array.isArray(e))},[ne.FROM_JSON]:{transform:e=>"object"==typeof e?e.paths:e.split(",")}},ie={types:["google.protobuf.BytesValue","BYTES"],[ne.TO_JSON]:{transform:e=>{const t=e.reduce((e,t)=>e+String.fromCharCode(t),"");return btoa(t)}},[ne.FROM_JSON]:{transform:e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0))}},re={types:["google.protobuf.Duration"],[ne.TO_JSON]:{transform:({seconds:e="0",nanos:t=0})=>{let n="";return 0!==t&&(n=`.${t.toString().padStart(9,"0")}`),`${e}${n}s`}},[ne.FROM_JSON]:{transform:e=>{const[t,n]=e.substring(0,e.length-1).split(".");return{seconds:t,nanos:le(n)}}}};function le(e){let t=0;if(void 0!==e){const n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}const ce={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"],[ne.TO_JSON]:{transform:e=>isFinite(e)?e:e.toString()},[ne.FROM_JSON]:{transform:e=>"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}};const ue=[...[se,oe,ie,re,ce]].reduce((e,t)=>({...e,...t.types.reduce((e,n)=>({...e,[n]:t}),{})}),{});function de(e,t={}){const n=ae(e,t,ue);return{fromJSON(e){const t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,ne.FROM_JSON)},toJSON:e=>n(e,ne.TO_JSON)}}var me={},ge={};async function pe(t){try{const{data:n}=await t.request(function(e){var t=de(me,{}),n=t.toJSON,a=t.fromJSON,s=de(ge,{}).fromJSON;function o(t){var a,o=t.host,i=n(e);return{entityFqdn:"wix.emails.email_marketing.v1.fake_mailchimp_service_entity",method:"GET",methodFqn:"wix.emails.email_marketing.v1.WixEmailsMailchimpService.IsMailchimpAccount",url:(a={protoPath:"/v1/email-marketing/is-mailchimp-account",data:i,host:o},x(Object.assign(a,{domainToMappings:{"bo._base_domain_":[{srcPath:"/_serverless/wix-emails-serverless",destPath:""}],"wixbo.ai":[{srcPath:"/_serverless/wix-emails-serverless",destPath:""}],"wix-bo.com":[{srcPath:"/_serverless/wix-emails-serverless",destPath:""}],"manage._base_domain_":[{srcPath:"/_serverless/wix-emails-serverless",destPath:""}],"editor._base_domain_":[{srcPath:"/_serverless/wix-emails-serverless",destPath:""}],"blocks._base_domain_":[{srcPath:"/_serverless/wix-emails-serverless",destPath:""}],"create.editorx":[{srcPath:"/_serverless/wix-emails-serverless",destPath:""}]}}))),params:te(i),transformResponse:s}}return o.fromReq=a,o.__isAmbassador=!0,o}({}));if(n.result)return()=>{(0,e.navigateTo)({pageComponentId:"8765b2d0-6968-449d-9405-71886263a761",contextData:{referrer:e.PageComponentId.Shoutout}})}}catch(e){return(0,window.BusinessManagerAPI.getModule("SHOUTOUT").appEssentials.biLoggerFactory)().logger().log({evid:176,src:36,errorCode:1800,error:e.message||"Unknown error"}).catch(()=>{}),Promise.reject(e)}}const he=!window.__ANGULAR_BOOTSTRAP_MIGRATION__,be=new u;class fe extends t.AngularLazyComponent{constructor(e){Promise.all([i.e(2610).then(i.bind(i,92610)),i.e(2890).then(i.bind(i,22890))]).then(([{createClient:t},{dashboard:n}])=>{const a=t({modules:{dashboard:n},auth:n.auth(),host:e.host});window.tempInstallApp=a?.dashboard?.installApp}),super(e,{files:ye(e),prepare:Se(e),module:"shoutout",component:"shoutout-widget",unloadStylesOnDestroy:!0})}}function ye({accountLanguage:e,config:{topology:{senderSetupStaticsUrl:t,shoutoutAnalyticsStaticsUrl:n,shoutoutComposerSidebarUrl:a,shoutoutReactStaticsUrl:s,shoutoutStaticsUrl:o}}}){const i=["https://static.parastorage.com/services/third-party/jquery-ui/1.11.4/jquery-ui.min.js",a+"angular.min.css",o+"styles/skins-stylemodel/default.css",o+"scripts/bm-component-style.css",`${s}angular-react.min.css`,`${s}angular-react.bundle.min.js`,`${t}sender-setup-angular.min.css`,`${t}sender-setup-angular.bundle.min.js`,`${n}shoutout-analytics-component.min.css`,["https://static.parastorage.com/unpkg/video-gallery-sdk@1.0.4/dist/statics/video-gallery-sdk.bundle.min.js",a+"angular.bundle.min.js"],[o+"scripts/modules.js",o+"scripts/scripts.js",...r(e)?[`https://static.parastorage.com/unpkg/moment@2.10.6/locale/${e}.js`]:[]]];return he&&i.splice(2,0,"https://static.parastorage.com/unpkg/angular-ui-bootstrap@2.5.4/dist/ui-bootstrap-tpls-2.5.4.min.js"),i}function Se(t){window.__wixEmailsEssentials__=t.essentials;const a=y(g.EmailMarketing,(0,e.isAppInstalled)(e.appDefIds.wixExpertsDashboard)?p.Partner:p.User);return async function(){const{HttpClient:l}=await i.e(5599).then(i.bind(i,18386)),c=new l({getAppToken:()=>be.getInstance()}),g="/_api/shoutout-editor/",p=window.location.search,h=(t.config.topology||t.topology).shoutoutStaticsUrl;var b;b=t.metaSiteId,(new Image).src="https://frog.wix.com/shout?src=36&evid=172&msid="+b+"&context=shoutout-bm&_="+Date.now();try{const[i,l]=await Promise.all([c.get(g+"indexData"+p),pe(c),m({locale:t.accountLanguage,staticsUrl:h})]),b=i.data,f=o(b.experimentsMap);if(l)return(0,n.module)("shoutout",[]),void l();if(function({metaSiteId:t}){return(0,e.isAppInstalled)(M)?((0,e.navigateTo)({pageComponentId:M}),!0):"af9ee0f7-18ec-408b-96d4-8af50c5b5828"===t&&(window.location.href=`/dashboard/${t}/shoutout-localization`,!0)}({experiments:f,metaSiteId:t.metaSiteId}))return;(0,n.module)("shoutout",["shoutoutApp"]).directive("shoutoutWidget",function(){return{template:['<div class="shoutout">','<div rel="stylesheet"></div>','<div so-specs so-current-state so-client-config-context class="shoutout-state so-scrollable" in-view-container>',"<div growl></div>",'<div class="root-container skin-uses-ssm">','<div ui-view class="main-view" so-state-class autoscroll="true"></div>',"</div>","</div>","</div>"].join(""),controller:()=>{}}}),d(t),(0,n.module)("soDashboard").component("soAscendUpgradeButton",{bindings:{origin:"=",tooltipBullets:"=",onClick:"<"},template:'<module-registry\n      component="ascend-upgrade-button-lazy-component"\n      props="{\n        slug: $ctrl.slug,\n        origin: $ctrl.origin,\n        items: $ctrl.tooltipBullets,\n        className: \'so-ascend-upgrade-button\',\n        onClick: $ctrl.onClick\n      }">\n    </module-registry>',controller:function(){this.slug="email-marketing-1"},controllerAs:"$ctrl"}),(0,n.module)("soDashboard").component("soAscendBadge",{template:'<module-registry\n      component="ascend-badge-lazy-component"\n      props="{\n        slug: $ctrl.slug,\n        minimized: $ctrl.minimized\n      }">\n    </module-registry>',bindings:{minimized:"<"},controller:function(){this.slug="email-marketing-1"},controllerAs:"$ctrl"}),I("soDashboard"),r(t.accountLanguage)&&window.moment.locale(t.accountLanguage);const y=a({props:t,apiUrl:g,crmApiUrl:"/_api/crm/v1/",data:b,experiments:f,instance:be.getInstance()});(0,n.module)("common").constant("clientConfig",y).constant("injectedMessage",s(b.msg)).constant("experiments",f).service("BmInstance",u),(0,n.module)("shoutoutApp").config(["wixAngularTopologyProvider",function(e){e.setStaticsUrl((t.config.topology||t.topology).shoutoutStaticsUrl)}])}catch(e){if(A(e),v(e))S("shoutout","shoutout","shoutoutWidget");else{(new Image).src="https://frog.wix.com/shout?src=36&evid=176&msid="+t.metaSiteId+"&context=shoutout-bm&_="+Date.now()+"&errorCode=1502&error="+encodeURIComponent(function(e){if(function(e){if(e&&e.isWixHttpError&&e.config&&e.config.url)return!0;return!1}(e)){const t=e.response&&e.response.status;return[e.config.url,e.requestId,t].map(e=>e||"na").join("|")}if(e&&e.message)return e.message;return"SHOUTOUT.FATAL.HEADING"}(e)),await m({locale:t.accountLanguage,staticsUrl:h}),w("shoutout","shoutout","shoutoutWidget","shoutout-fatal-error-screen")}}}}var we=Sentry;let Ae;function ve(t){try{const{moduleParams:n}=(0,e.getModule)(e.ModuleId.Shoutout);if(!Ae){const e=n.config.topology.shoutoutStaticsUrl,t=e?.match(/\/\/static.parastorage.com\/services\/[a-z-]+\/([0-9.]+)\//),a=`shoutout-${t?t[1]:"unknown"}`;Ae=new we.BrowserClient({dsn:"https://bacf4d1759c5420cb6501505a2407bc9@sentry-next.wixpress.com/1256",release:a})}const a=new we.Scope;a.setUser({id:n.userId}),Ae.captureMessage(t,we.Severity.Info,void 0,a)}catch{}}class Te extends t.ReactLazyComponent{constructor(e){const t=e.config.topology.complianceStaticsUrl;super(e,{component:"shoutout-compliance",files:[`${t}compliance-app-page-component.bundle.min.js`,`${t}compliance-app-page-component.min.css`]}),ve("ShoutoutComplianceComponent initialized")}}const Ce=!window.__ANGULAR_BOOTSTRAP_MIGRATION__,Ee=new u,Me=(e,a)=>async()=>{try{const{clientConfig:l,experiments:c,injectedMessage:g}=await(async(e,n)=>{const a="/_api/shoutout-editor/",r=new Promise(n=>{try{const a=t.ModuleRegistry.invoke("businessSettings.getBusinessSettings",e.metaSiteId);a?a.then(n):n({})}catch(e){n({})}}),{HttpClient:l}=await i.e(5599).then(i.bind(i,18386)),c=new l({getAppToken:()=>Ee.getInstance()}),[{indexData:u,message:d},m]=await Promise.all([E({httpClient:c,apiUrl:a}),r]),g=o(u.experimentsMap),p=s(d);return{clientConfig:n({props:e,data:u,apiUrl:a,experiments:g,businessSettings:m,instance:Ee.getInstance(),injectedMessage:p}),experiments:g,injectedMessage:p}})(e,a);await m({locale:e.accountLanguage,staticsUrl:e.config.topology.shoutoutStaticsUrl}),(0,n.module)("soTransactionalEmails").requires.push("wixShoutoutTranslations"),(0,n.module)("soTransactionalEmails").directive("transactionalEmails",function(){return{template:'\n          <div style="width:100%;height:100%;">\n            <div style="position:absolute;left:0;top:0;right:0;bottom:0;" ng-app="soTransactionalEmails">\n              <div class="shoutout transactional-emails">\n                <div rel="stylesheet"></div>\n                <div so-specs so-current-state so-client-config-context class="shoutout-state so-scrollable" in-view-container>\n                  <div growl></div>\n                  <div class="root-container skin-uses-ssm">\n                    <div ui-view class="main-view" so-state-class autoscroll="true"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>',controller:()=>{}}});const p=l.locale;r(p)&&window.moment.locale(p),d(e),I("soTransactionalEmails"),(0,n.module)("soTransactionalEmails").constant("clientConfig",l).constant("experiments",c).constant("injectedMessage",g),(0,n.module)("common").service("BmInstance",u),t.ModuleRegistry.notifyListeners("businessManager.viewFinishedLoading","transactional-emails")}catch(t){if(A(t),v(t))S("soTransactionalEmails","transactional-emails","transactionalEmails");else{(new Image).src="https://frog.wix.com/shout?src=36&evid=176&msid="+e.metaSiteId+"&context=transactional-emails&_="+Date.now()+"&errorCode=1502&error=SHOUTOUT.FATAL.HEADING",await m({locale:e.accountLanguage,staticsUrl:e.config.topology.shoutoutStaticsUrl}),w("soTransactionalEmails","transactional-emails","transactionalEmails","transactional-emails-fatal-error-screen")}}};const Pe=({accountLanguage:e,config:{topology:{senderSetupStaticsUrl:t,shoutoutAnalyticsStaticsUrl:n,shoutoutComposerSidebarUrl:a,shoutoutReactStaticsUrl:s,shoutoutStaticsUrl:o}}})=>["https://static.parastorage.com/services/third-party/jquery-ui/1.11.4/jquery-ui.min.js",...Ce?["https://static.parastorage.com/unpkg/angular-ui-bootstrap@2.5.4/dist/ui-bootstrap-tpls-2.5.4.min.js"]:[],`${a}angular.min.css`,`${o}styles/skins-stylemodel/default.css`,`${o}scripts/transactional-emails.scripts.min.css`,`${s}angular-react.min.css`,`${s}angular-react.bundle.min.js`,`${t}sender-setup-angular.min.css`,`${t}sender-setup-angular.bundle.min.js`,`${n}shoutout-analytics-component.min.css`,["https://static.parastorage.com/unpkg/video-gallery-sdk@1.0.4/dist/statics/video-gallery-sdk.bundle.min.js",`${a}angular.bundle.min.js`],[`${o}scripts/transactional-emails.modules.min.js`,`${o}scripts/transactional-emails.scripts.min.js`,...r(e)?[`https://static.parastorage.com/unpkg/moment@2.10.6/locale/${e}.js`]:[]]];class Ie extends t.AngularLazyComponent{constructor(t){const n=c("apes"),a=c("role"),s=n||a,o=n?g.Apes:-1!==window.location.pathname.indexOf("/transactional-emails")?g.TriggeredEmails:g.Automations,i=(0,e.isAppInstalled)(e.appDefIds.wixExpertsDashboard)?p.Partner:"PM"===s?p.PM:"WRITER"===s?p.Writer:p.User;super(t,{module:"soTransactionalEmails",component:"transactional-emails",files:Pe(t),prepare:Me(t,y(o,i))}),ve(`TransactionalEmailsComponent (role: ${s}, apes: ${n}) initiated`)}}const _e=e=>{const{config:{topology:t}}=e;return[`${t.teSmartActionWidgetStaticsUrl}email-marketing-ping-automations-widget.min.css`,`${t.teSmartActionWidgetStaticsUrl}email-marketing-ping-automations-widget.bundle.min.js`]};class Le extends t.ReactLazyComponent{constructor(t){const{moduleParams:n}=(0,e.getModule)(e.ModuleId.Shoutout);super(t,{files:_e(n),component:"EmailMarketingPingAutomationsWidget",resolve:()=>Promise.resolve({moduleParams:n})}),ve("EmailMarketingPingAutomationsWidgetLazyComponent initiated")}}const Ue=e=>{const{config:{topology:t}}=e;return[`${t.senderSetupStaticsUrl}component.min.css`,`${t.senderSetupStaticsUrl}component.bundle.min.js`]};class Oe extends t.ReactLazyComponent{constructor(t){const{moduleParams:n}=(0,e.getModule)(e.ModuleId.Shoutout);super(t,{files:Ue(n),component:"EmailMarketingSenderSetup",resolve:()=>Promise.resolve({moduleParams:n})}),ve("EmailMarketingSenderSetupWidget initiated")}}class ke extends t.ReactLazyComponent{constructor(e){const t=e.soProps.config.topology.shoutoutAnalyticsStaticsUrl;super(e,{component:l,files:[`${t}shoutout-analytics-component.bundle.min.js`]}),ve("ShoutoutAnalyticsComponent initiated")}}var Ne=e=>async({ruleId:t,templateId:n})=>{const a=`/_api/shoutout/v1/automation-mapping/${t}/${n}`;return(await e.get(a).then(({data:e})=>e)).campaignId};class xe extends t.ReactLazyComponent{constructor(t){const n=t.config.topology.shoutoutAnalyticsStaticsUrl;super(t,{component:"automations-email-analytics-component",files:[`${n}shoutout-analytics-component.min.css`,`${n}shoutout-analytics-component.bundle.min.js`],resolve:async()=>{const{HttpClient:n}=await i.e(5599).then(i.bind(i,18386)),a=new n({getAppToken:()=>(0,e.getCurrentInstance)(e.appDefIds.shoutout)}),s=a.get("/_api/shoutout/v1/account-details"),o=new Promise(e=>{if(t.actionConfig.messageId)return e(t.actionConfig.messageId);const{ruleId:n,actionConfig:s}=t,{templateId:o,uniqueRuleId:i}=s;Ne(a)({ruleId:i||n,templateId:o}).then(t=>e(t))}),[{data:{accountDetails:r}},l]=await Promise.all([s,o]),{group:c,id:u}=r.package;return{translationContext:"automations",actionConfig:{...t.actionConfig,messageId:l},biProps:{src:36,context:"transactional-emails-automations",msid:t.metaSiteId,package_group:c,package_id:u}}}}),ve("AutomationsAnalyticsComponent initiated")}}var De=({apiClient:e,tagName:t})=>{const n=`templates/search?tag=${t}`;return e.get(n).then(({data:e})=>({templateId:e[0].templateId,snapshot:e[0].thumbnails.filter(({role:e})=>["thumbnailSmall","default"].includes(e))[0].url}))},Re=({apiClient:e,templateId:t})=>{const n=`messages/template/${t}`;return e.post(n).then(e=>({newMessage:e}))};const Fe="AUTOMATIONS_DEFAULT_TEMPLATE";var je=t=>async({templateTag:n,recipeName:a,isTriggerV2:s=!0})=>{let o;try{o=await De({apiClient:t,tagName:n||a||Fe})}catch(e){console.error(`Cannot find template with recipe ${a}, using default recipe instead. ${e}`),o=await De({apiClient:t,tagName:Fe})}const{templateId:r,snapshot:l}=o,c=new Promise((t,n)=>{s?(()=>{const t=async(n,a,s)=>{try{const{LinguistWebProxy:o}=await i.e(9753).then(i.t.bind(i,33050,23)),r=o(`${window.location.origin}/linguist`).Locales(),l=await r({Authorization:(0,e.getCurrentInstance)(e.appDefIds.shoutout)}).list({page:{offset:a,limit:n}});return s=[...s,...l.locales],l.locales.length===n?t(n,a+n,s):s}catch(e){return[]}};return t(20,0,[])})().then(t).catch(n):t([])}),[{newMessage:u},d]=await Promise.all([Re({apiClient:t,templateId:r}),c]);let m=null;d.length>0&&(m=d.find(e=>"DEFAULT"===e.status)?.languageCode);const{message:g}=await(({apiClient:e,publish:t,message:n,mainLanguage:a=null})=>{const s=`transactional/messages/automation?publish=${t}${a?`&language=${a}`:""}`;return e.post(s,n).then(e=>({message:e}))})({apiClient:t,publish:!1,message:u,mainLanguage:m});return{message:g,snapshot:l}};class Be extends t.ReactLazyComponent{constructor(e){const{config:{topology:{shoutoutLocalizationUrl:t}}}=e;super(e,{files:[`${t}component.min.css`,`${t}component.bundle.min.js`],component:"ShoutoutLocalizationAppComponent"}),ve("ShoutoutLocalization initialized")}}class $e extends e.BusinessManagerModule{constructor(n){super(n),this.appDefId=e.appDefIds.shoutout,this.payload=[],this.moduleParams={},t.ModuleRegistry.registerComponent(e.PageComponentId.Shoutout,()=>fe),t.ModuleRegistry.registerComponent(e.PageComponentId.ShoutoutCompliance,()=>Te),t.ModuleRegistry.registerComponent(l,()=>ke),t.ModuleRegistry.registerComponent(e.PageComponentId.TransactionalEmails,()=>Ie),t.ModuleRegistry.registerComponent("EmailMarketingPingAutomationsWidgetLazyComponent",()=>Le),t.ModuleRegistry.registerComponent("EmailMarketingSenderSetupWidget",()=>Oe),this.registerComponentWithModuleParams("shoutout-localization",Be),this.registerComponentWithModuleParams("automations-email-analytics-lazy-component",xe)}async init(e){this.moduleParams=e,i.p=e.config.topology.shoutoutStaticsUrl,this.registerMessageMethods(this.appEssentials.httpClient)}registerMessageMethods(e){t.ModuleRegistry.registerMethod("ShoutOut.createMessageFromTemplateTag",()=>{ve("ShoutOut.createMessageFromTemplateTag called"),je((({httpClient:e,apiBaseUrl:t})=>({get:n=>e.get(`${t}${n}`).then(({data:e})=>e),post:(n,a)=>e.post(`${t}${n}`,a).then(({data:e})=>e)}))({httpClient:e,apiBaseUrl:"/_api/shoutout-editor/"}))}),t.ModuleRegistry.registerMethod("ShoutOut.getMessageIdForPreinstalledAutomation",()=>{ve("ShoutOut.getMessageIdForPreinstalledAutomation called"),Ne(e)})}config(e,t){this.payload.push({source:e,...t})}getConfigPayload(){return this.payload}}(0,e.registerModule)(e.ModuleId.Shoutout,$e)}()}();
//# sourceMappingURL=shoutout-module.min.js.map