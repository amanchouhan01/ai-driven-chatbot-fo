!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("Sentry")):"function"==typeof define&&define.amd?define("WixGizaEssentials",["React","Sentry"],t):"object"==typeof exports?exports.WixGizaEssentials=t(require("React"),require("Sentry")):e.WixGizaEssentials=t(e.React,e.Sentry)}("undefined"!=typeof self?self:this,((e,t)=>(()=>{var r,n,o,i,s={1721:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ConsentPolicyAccessor:()=>f});var n,o={policy:"getCurrentConsentPolicy",header:"_getConsentPolicyHeader",isMethod:!0},i={policy:"consentPolicy",header:"consentPolicyHeader",isMethod:!1},s={essential:!0,dataToThirdParty:!0,advertising:!0,functional:!0,analytics:!0};function a(){return window}function u(){return self}function c(){return r.g}function l(){return globalThis}function d(e){var t;void 0===e&&(e=void 0),e&&(n=e),n||e||[l,c,u,a].forEach((function(e){try{n||(n=e())}catch(e){}}));try{"object"==typeof n.commonConfig&&n.commonConfig.consentPolicy&&(t=p(n.commonConfig,i)),t||"object"!=typeof n.consentPolicyManager||(t=p(n.consentPolicyManager,o)),t||"object"!=typeof n.Wix||"object"!=typeof n.Wix.Utils||"function"!=typeof n.Wix.Utils.getCurrentConsentPolicy||(t=p(n.Wix.Utils,o))}catch(e){}return t}function p(e,t){return{getCurrentConsentPolicy:function(){var r=e[t.policy];return t.isMethod?r():r},_getConsentPolicyHeader:function(){var r=e[t.header];return t.isMethod?r():r},deleteReference:!t.isMethod}}var f=function(){function e(e){e&&(this.env=e),this.consentPolicyAccess=d(this.env)}return e.prototype.clearReference=function(){this.consentPolicyAccess&&this.consentPolicyAccess.deleteReference&&(this.consentPolicyAccess=void 0)},e.prototype.getCurrentConsentPolicy=function(){this.consentPolicyAccess||(this.consentPolicyAccess=d(this.env));var e=this.consentPolicyAccess&&this.consentPolicyAccess.getCurrentConsentPolicy()||s;return this.clearReference(),e.policy?e.policy:e},e.prototype.getConsentPolicyHeader=function(e){void 0===e&&(e=!1),this.consentPolicyAccess||(this.consentPolicyAccess=d(this.env));var t=this.consentPolicyAccess&&this.consentPolicyAccess._getConsentPolicyHeader()||{"consent-policy":""};return this.clearReference(),e?t["consent-policy"]:t},e}()},6433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultCommonConfig=t.BrandToHostMap=t.HeadlessHost=t.DefaultBrand=t.EventContextMap=t.BackofficeDomains=t.LoggerVersion=void 0,t.LoggerVersion="2.0.985|C",t.BackofficeDomains=[".wix.com",".editorx.com"],function(e){e.msid="_msid",e.clientId="_client_id",e.uuid="_uuid",e.visitorId="_visitorId",e.siteMemberId="_siteMemberId",e.brandId="_brandId",e.siteBranchId="_siteBranchId",e.ms="_ms",e.lv="_lv",e.isHeadless="_isHeadless",e.hostingPlatform="_hostingPlatform"}(t.EventContextMap||(t.EventContextMap={})),t.DefaultBrand="wix",t.HeadlessHost="VIEWER_HEADLESS",t.BrandToHostMap={wix:"wix",editorx:"editorx"},t.DefaultCommonConfig={brand:t.DefaultBrand}},7765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ok=t.object=t.defined=void 0;var n=r(6539);t.defined=function(e,t){if(void 0===e)throw new n.AssertionError(t)};t.object=function(e,t){if(void 0!==e&&("object"!=typeof e||Array.isArray(e)||null===e))throw new n.AssertionError(t)};t.ok=function(e,t){if(!e)throw new n.AssertionError(t)}},3599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCookie=t.sendBeacon=t.getWindowSize=t.getDesktopSize=t.now=void 0,t.now=function(){return"undefined"!=typeof performance&&performance&&performance.now?performance.now():-1},t.getDesktopSize=function(e){var t=e.screen&&e.screen.width||0,r=e.screen&&e.screen.height||0;return"".concat(t,"x").concat(r)},t.getWindowSize=function(e){var t=0,r=0;return e.innerWidth?(t=e.innerWidth,r=e.innerHeight):e.document&&(e.document.documentElement&&e.document.documentElement.clientWidth?(t=e.document.documentElement.clientWidth,r=e.document.documentElement.clientHeight):e.document.body&&e.document.body.clientWidth&&(t=e.document.body.clientWidth,r=e.document.body.clientHeight)),"".concat(t,"x").concat(r)},t.sendBeacon=function(e,t){return!("undefined"==typeof navigator||!navigator||!navigator.sendBeacon)&&navigator.sendBeacon(e,t)},t.readCookie=function(e){if("undefined"==typeof document)return null;if(window.__ENABLE_COOKIE_READ_OPTIMIZATION__&&window.__BI_cookie_cache&&void 0!==window.__BI_cookie_cache[e])return window.__BI_cookie_cache[e];for(var t=0,r=document.cookie.split(";");t<r.length;t++){for(var n=r[t].split("="),o=n[0],i=n[1];" "===o[0];)o=o.substr(1);if(o===e)return window.__ENABLE_COOKIE_READ_OPTIMIZATION__&&(window.__BI_cookie_cache||(window.__BI_cookie_cache={}),window.__BI_cookie_cache[e]=i),i}return""}},5997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWixHost=t.getBranchId=t.getBrand=t.getCommonConfigValue=void 0;var n=r(47),o=r(6433);t.getCommonConfigValue=function(e,t){return void 0===t&&(t=(0,n.getGlobal)((function(e){return e.Wix&&e.Wix.Utils&&e.Wix.Utils.commonConfig||e.commonConfig}))),(t=t&&"function"==typeof t.getAll?t.getAll():t)&&void 0!==t[e]?t[e]:o.DefaultCommonConfig[e]};t.getBrand=function(e){return(0,t.getCommonConfigValue)("brand",e())};t.getBranchId=function(e){return(0,t.getCommonConfigValue)("branchId",e())};t.getWixHost=function(e){return(0,t.getCommonConfigValue)("host",e())}},47:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=t.getWindowIfTop=t.isBackoffice=t.isWebWorker=t.getHost=t.setHost=void 0;var n,o,i=r(6433);function s(e){if("undefined"!=typeof window&&window)try{return window.top===window.self?e?e(window):window:null}catch(e){return null}return null}function a(e,t){return void 0===t&&(t=null),"undefined"!=typeof self&&self&&e(self)||t}t.setHost=function(e){n=e},t.getHost=function(e){return void 0===e&&(e=i.DefaultBrand),n||(void 0===o&&(o=a((function(e){return e.location&&e.location.hostname&&(e.location.hostname.match(/\.(wix|editorx)\.com$/)||[])[1]||null}),null)),t=o||i.BrandToHostMap[e]||i.BrandToHostMap[i.DefaultBrand],"frog.".concat(t,".com"));var t},t.isWebWorker=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},t.isBackoffice=function(){return s((function(e){var t=e.document;return i.BackofficeDomains.some((function(e){return-1!==t.location.host.indexOf(e)}))}))},t.getWindowIfTop=s,t.getGlobal=a},6539:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.APINotSupportedError=t.AssertionError=void 0;var o=function(e){function t(t){var r=e.call(this,t)||this;return r.name=r.constructor.name,r}return n(t,e),t}(Error);t.AssertionError=o;var i=function(e){function t(t){var r=e.call(this,t)||this;return r.name=r.constructor.name,r}return n(t,e),t}(Error);t.APINotSupportedError=i},4100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonDefaults=t.getUserDefaults=t.transformDefaults=void 0;var n=r(6433),o=r(3599),i=r(5997),s=r(8046);t.transformDefaults=function(e){return Object.keys(e).reduce((function(t,r){return t[n.EventContextMap[r]||r]=e[r],t}),{})};t.getUserDefaults=function(){return(0,s.getCookies)({clientId:"_wixCIDX",uuid:{name:"_wixUIDX",transform:function(e){return"string"==typeof e&&e.split("|")[1]}}})};t.getCommonDefaults=function(e,r){return(0,t.transformDefaults)({brandId:function(){return(0,i.getBrand)(e)},siteBranchId:function(){return(0,i.getBranchId)(e)},ms:function(){return Math.round((0,o.now)())},isHeadless:function(){return a(e)},hostingPlatform:function(){return(0,i.getWixHost)(e)},lv:n.LoggerVersion})};var a=function(e){return(0,i.getWixHost)(e)===n.HeadlessHost||void 0}},8322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listen=void 0;var n=r(47);function o(e){setTimeout((function(){return(0,n.getWindowIfTop)((function(t){return e(t.location.href)}))}))}function i(e){(0,n.getWindowIfTop)((function(t){var r=t.history;return["pushState","replaceState"].forEach((function(t){!function(e,t,r){if(e&&e[t]){var n=e[t];e[t]=function(){return r.apply(null,arguments),n.apply(e,arguments)}}}(r,t,(function(t,r,n){return e(n)}))}))}))}function s(e){(0,n.getWindowIfTop)((function(t){return t.addEventListener("popstate",(function(){return e(t.location.href)}))}))}t.listen=function(e){(0,n.getWindowIfTop)((function(t){var r=t.document.referrer;[o,i,s].forEach((function(t){return t((function(t){e(r,t),r=t}))}))}))}},4116:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformers=t.getPublisher=t.postMessagePublisher=t.xhrPublisher=t.fetchPublisher=t.beaconPublisher=t.imagePublisher=t.resolvePublisher=void 0;var i=r(8046),s=r(47),a=r(6539),u=r(7737),c=r(2340),l=function(e){return e.useBatch?"POST":"GET"};function d(e){return void 0===e&&(e={}),function(t,r){void 0===r&&(r={});var n=(0,i.buildBiUrl)(e,t,r);return(0,c.beaconTransport)(n,t,!!r.useBatch).catch((function(){var e=l(r);return r.useBatch?(0,c.fetchTransport)(n,t,e).catch((function(r){return r instanceof a.APINotSupportedError?(0,c.xhrTransport)(n,t,e):Promise.reject(r)})):(0,c.pixelTransport)(n,r.image)}))}}function p(e,t){return void 0===e&&(e={}),function(r,n){void 0===n&&(n={});var o=(0,i.buildBiUrl)(e,r,n),s=l(n);return(0,c.fetchTransport)(o,r,s,t).catch((function(e){return e instanceof a.APINotSupportedError?(0,c.xhrTransport)(o,r,s):Promise.reject(e)}))}}function f(e,t){return void 0===e&&(e={}),function(e){return(0,c.postMessageTransport)(e,t)}}t.resolvePublisher=function(e,t){var r,n;return e.publishMethod===u.PublishMethods.PostMessage?(r=f,n=t&&t[u.PublishMethods.PostMessage]):e.publishMethod===u.PublishMethods.Fetch?(r=p,n=t&&t[u.PublishMethods.Fetch]):r=(0,s.isWebWorker)()?p:d,r(e,n)},t.imagePublisher=function(e){return void 0===e&&(e={}),function(t,r){if(void 0===r&&(r={}),r.useBatch)throw new a.APINotSupportedError("Can't use image publisher to send batched events.");var n=(0,i.buildBiUrl)(e,t,r);return(0,c.pixelTransport)(n,r.image)}},t.beaconPublisher=d,t.fetchPublisher=p,t.xhrPublisher=function(e){return void 0===e&&(e={}),function(t,r){void 0===r&&(r={});var n=(0,i.buildBiUrl)(e,t,r),o=l(r);return(0,c.xhrTransport)(n,t,o)}},t.postMessagePublisher=f,t.getPublisher=function(e,r){return(0,t.resolvePublisher)(e,r)};t.getTransformers=function(e,t){var r,i;t&&("function"!=typeof t&&t.postMessage&&e.publishMethod===u.PublishMethods.PostMessage?i=t.postMessage:"function"==typeof t&&(r=t));return{eventTransformer:r,payloadTransformer:function(t,r){if(r.useBatch){var s=function(t){return(null==t?void 0:t.endpoint)||r.endpoint||e.endpoint};t.e=t.e.map((function(e){var t=e.context,r=o(e,["context"]);return n(n({},r),{f:n(n({},r.f),{_rp:s(t)})})}))}return i?i(t):t}}}},8821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=void 0;var n=r(8046),o=r(8322),i=r(47),s=r(3599),a="__isTrackingPageViews__",u="p",c=19,l=3;function d(e){var t=function(e){return e({endpoint:u}).updateDefaults({src:c,evid:l,vsi:(0,n.guid)()}).logger()}(e),r=1;(0,o.listen)((function(e,n){var o=(0,i.getWindowIfTop)((function(e){return{sr:(0,s.getDesktopSize)(e),wr:(0,s.getWindowSize)(e)}})),a=o.sr,u=o.wr;t.log({from:e,to:n,fis:r,sr:a,wr:u}),r=0}))}t.track=function(e,t){void 0===t&&(t={force:!1}),(t.force||!(0,i.isWebWorker)()&&(0,i.isBackoffice)()&&(0,i.getWindowIfTop)((function(e){return!e[a]})))&&((0,i.getWindowIfTop)((function(e){return e[a]=!0})),d(e))}},2340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageTransport=t.xhrTransport=t.fetchTransport=t.pixelTransport=t.beaconTransport=void 0;var n=r(3599),o=r(6539);t.beaconTransport=function(e,t,r){return void 0===r&&(r=!1),new Promise((function(o,i){return(0,n.sendBeacon)(e,r?JSON.stringify(t):void 0)?o():i(new Error("Transport Error: Cannot send bi using beacon"))}))},t.pixelTransport=function(e,t){return new Promise((function(r,n){var o=t||new window.Image(0,0);o.onload=function(){return r()},o.onerror=function(){return n(new Error("Transport Error: Cannot send bi using pixel"))},o.src=e}))},t.fetchTransport=function(e,t,r,n){if(void 0===r&&(r="GET"),void 0===n){if("undefined"==typeof fetch)return Promise.reject(new o.APINotSupportedError("fetch"));n=fetch}var i={method:r,credentials:"include"};return"POST"===r?i.body=JSON.stringify(t):i.keepalive=!0,n(e,i).then((function(e){if(!e.ok)throw Error("Transport Error: Cannot send bi using fetch. Status: ".concat(e.status))}))},t.xhrTransport=function(e,t,r){return void 0===r&&(r="GET"),new Promise((function(n,o){var i=new XMLHttpRequest;i.open(r,"".concat(location.protocol).concat(e)),i.onload=n,i.onerror=function(){o(new Error("Transport Error: Cannot send bi using xhr."))},i.withCredentials=!0,"POST"===r?i.send(JSON.stringify(t)):i.send()}))},t.postMessageTransport=function(e,t){void 0===t&&(t=self.postMessage);var r=[e];return"undefined"==typeof WorkerGlobalScope&&r.push("*"),t.apply(self,r)}},8046:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=t.buildBiUrl=t.getCookies=void 0;var n=r(3599),o=r(47),i=0;t.getCookies=function(e){return Object.keys(e).reduce((function(t,r){var o="string"==typeof e[r]?{name:e[r]}:e[r],i=o.name,s=o.transform,a=(void 0===s?function(e){return e}:s)((0,n.readCookie)(i));return a&&(t[r]=a),t}),{})},t.buildBiUrl=function(e,t,r){var n=e.host,s=void 0===n?"":n,a=e.endpoint,u=void 0===a?"":a;void 0===r&&(r={}),s=(s="function"==typeof s?s():s)||(0,o.getHost)(),u=r.endpoint||u,r.useBatch||(t._=""+(new Date).getTime()+i++);var c=r.useBatch?[]:Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}),[]);return["//".concat(s,"/").concat(u)].concat(c.length?c.join("&"):[]).join("?")},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},647:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.createBatchQueue=t.manager=t.factory=t.Factory=t.setHost=t.EventCategories=t.PublishMethods=void 0;var a=r(1746),u=r(1721),c=s(r(7765)),l=r(4116),d=r(5997),p=r(47),f=r(7737),h=r(4100),g=r(7737);Object.defineProperty(t,"PublishMethods",{enumerable:!0,get:function(){return g.PublishMethods}}),Object.defineProperty(t,"EventCategories",{enumerable:!0,get:function(){return g.EventCategories}});var m=r(47);Object.defineProperty(t,"setHost",{enumerable:!0,get:function(){return m.setHost}});var v=function(){function e(t){void 0===t&&(t={}),this.options=t,this.commonConfigGetter=function(){},this.initialized=!1,c.ok(!t.publishMethod||-1!==Object.keys(f.PublishMethods).map((function(e){return f.PublishMethods[e]})).indexOf(t.publishMethod),'Unsupported publish method "'.concat(t.publishMethod,'"')),e.consentPolicyAccessor=e.consentPolicyAccessor||new u.ConsentPolicyAccessor,this.loggerClientFactory=(0,a.factory)()}return e.prototype.initFactory=function(){var t=this;if(this.initialized)return this.loggerClientFactory;this.initialized=!0,this.updateDefaults((0,h.getCommonDefaults)(this.commonConfigGetter,e.consentPolicyAccessor)),this.withUserContext((0,h.getUserDefaults)());var r=n(n({},this.options),{host:this.options.host||function(){return(0,p.getHost)((0,d.getBrand)(t.commonConfigGetter))}}),o=(0,l.getPublisher)(r,this.publishFunctions),i=(0,l.getTransformers)(r,this.transformer),s=i.eventTransformer,a=i.payloadTransformer,u=this.loggerClientFactory.addPublisher(o).withConsentPolicyGetter((function(){return e.consentPolicyAccessor.getCurrentConsentPolicy()}));return s&&u.withEventTransformer(s),a&&u.withPayloadTransformer(a),u},e.prototype.withTransformer=function(e){return c.defined(e,"Transformer must be provided"),c.ok("function"==typeof e||e&&"function"==typeof e[f.PublishMethods.PostMessage],"Valid transformer must be provided"),this.transformer=e,this},e.prototype.withPublishFunction=function(e){return c.defined(e,"Publish functions object must be provided"),c.ok(this.options.publishMethod&&this.options.publishMethod!==f.PublishMethods.Auto,"Publish function can be used only when using a custom publish method"),c.ok(e&&"function"==typeof e[this.options.publishMethod],"Valid publish function must be provided"),this.publishFunctions=e,this},e.prototype.withUserContext=function(e){return c.defined(e,"User context object must be provided"),this.updateDefaults((0,h.transformDefaults)(e)),this},e.prototype.withUoUContext=function(e){return c.defined(e,"UoU context object must be provided"),this.updateDefaults((0,h.transformDefaults)(e)),this},e.prototype.withNonEssentialContext=function(e){return c.defined(e,"Non-essential context object must be provided"),this.loggerClientFactory.updateNonEssentialDefaults((0,h.transformDefaults)(e)),this},e.prototype.withCommonConfigGetter=function(e){return c.defined(e,"Common config getter must be provided"),c.ok("function"==typeof e,"Common config getter must be a function"),this.commonConfigGetter=e,this},e.prototype.updateDefaults=function(e){return this.loggerClientFactory.updateDefaults(e),this},e.prototype.setMuted=function(e){return this.loggerClientFactory.setMuted(e),this},e.prototype.setEvents=function(e){return this.loggerClientFactory.setEvents(e),this},e.prototype.setGlobalBatchQueue=function(e){return this.loggerClientFactory.setGlobalBatchQueue(e),this},e.prototype.onError=function(e){return this.loggerClientFactory.setPublisherFailHandler(e),this},e.prototype.logger=function(e){void 0===e&&(e={});var t=this.options,r=t.endpoint,o=t.useBatch;return this.initFactory().logger(n({endpoint:r,useBatch:o},e))},e}();t.Factory=v;t.factory=function(e){return void 0===e&&(e={}),new v(e)},t.manager=a.manager,t.createBatchQueue=a.createBatchQueue,t.BiLoggerClientFactory=a.BiLoggerFactory},6832:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.EventCategories=t.createBatchQueue=t.manager=t.setHost=t.factory=void 0;var s=r(1746),a=i(r(8821)),u=i(r(647));t.factory=function(e){void 0===e&&(e={});var t=e.trackSession||void 0===e.trackSession;return t&&a.track(u.factory,{force:"force"===t}),u.factory(e)},t.setHost=u.setHost,t.manager=s.manager,t.createBatchQueue=s.createBatchQueue,t.EventCategories=u.EventCategories,t.BiLoggerClientFactory=u.BiLoggerClientFactory,t.default={factory:t.factory,setHost:u.setHost,manager:s.manager,createBatchQueue:s.createBatchQueue,EventCategories:u.EventCategories,BiLoggerClientFactory:u.BiLoggerClientFactory}},7737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.EventCategories=t.PublishMethods=void 0,function(e){e.Auto="auto",e.PostMessage="postMessage",e.Fetch="fetch"}(t.PublishMethods||(t.PublishMethods={})),function(e){e.Essential="essential",e.Functional="functional",e.Analytics="analytics"}(t.EventCategories||(t.EventCategories={})),function(e){e[e.Unsupported=0]="Unsupported"}(t.Errors||(t.Errors={}))},6223:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.name=r.constructor.name,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports.defined=function(e,t){if(void 0===e)throw new r(t)},e.exports.object=function(e,n){if(void 0!==e&&("object"!==(void 0===e?"undefined":t(e))||Array.isArray(e)||null===e))throw new r(n)},e.exports.ok=function(e,t){if(!e)throw new r(t)},e.exports.func=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new r(t)},e.exports.boolean=function(e,t){if(void 0!==e&&"boolean"!=typeof e)throw new r(t)},e.exports.number=function(e,t){if(void 0!==e&&"number"!=typeof e)throw new r(t)},e.exports.array=function(e,t){if("function"==typeof Array.isArray){if(!Array.isArray(e))throw new r(t)}else if("[object Array]"!==Object.prototype.toString.call(e))throw new r(t)},e.exports.AssertionError=r},619:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(6223),s=r(7898),a=r(6374),u=r(7751),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=[],this._validators=[],this._defaults={},this._nonEssentialDefaults={},this._events={},this._isMuted=!1,this._eventTransformer=null,this._payloadTransformer=null,this._consentPolicyGetter=null,this._maxBatchSize=null,this._batchQueue=null}return o(e,[{key:"addPublisher",value:function(e){return i.defined(e,"Publisher must be provided"),i.ok("function"==typeof e,"Expected a publisher function"),this._publishers.push(e),this}},{key:"addValidator",value:function(e){return i.defined(e,"Validator must be provided"),i.ok("object"===(void 0===e?"undefined":n(e))&&e,"Expected a validator object"),i.ok(e.execute&&e.match,"Provided validator does not match the interface"),this._validators.push(e),this}},{key:"setDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),this._defaults=e,this}},{key:"updateDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),Object.assign(this._defaults,e),this}},{key:"updateNonEssentialDefaults",value:function(e){return i.defined(e,"Non-essential Defaults must be provided"),i.object(e,"Non-essential Defaults must be an object"),Object.assign(this._nonEssentialDefaults,e),this}},{key:"setEvents",value:function(e){return i.defined(e,"Events must be provided"),i.object(e,"Events must be an object"),this._events=e,this}},{key:"setDefaultValueTimeout",value:function(e){return i.defined(e,"Default Value Timeout must be provided"),this._defaultValueTimeout=e,this}},{key:"setDefaultContinueOnFail",value:function(e){return i.defined(e,"Default Continue On Fail must be provided"),this._defaultContinueOnFail=e,this}},{key:"setPublisherFailHandler",value:function(e){return i.defined(e,"Publisher Fail Handler must be provided"),this._onPublisherFailHandler=e,this}},{key:"setMuted",value:function(e){return i.defined(e,"Is Muted must be provided"),i.boolean(e,"Is Muted must be a boolean"),this._isMuted=e,this}},{key:"setMaxBatchSize",value:function(e){return i.defined(e,"Max Batch Size must be provided"),i.number(e,"Max Batch Size must be a number"),i.ok(e>0,"Max Batch Size must be higher than 0"),this._maxBatchSize=e,this}},{key:"setGlobalBatchQueue",value:function(e){return i.defined(e,"Global Batch Queue must be provided"),i.ok(e instanceof u,"Global Batch Queue must be an instance of BatchQueue"),this._globalBatchQueue=e,this}},{key:"withEventTransformer",value:function(e){return i.defined(e,"Event Transformer must be provided"),i.func(e,"Event Transformer must be a function"),this._eventTransformer=e,this}},{key:"withPayloadTransformer",value:function(e){return i.defined(e,"Payload Transformer must be provided"),i.func(e,"Payload Transformer must be a function"),this._payloadTransformer=e,this}},{key:"withConsentPolicyGetter",value:function(e){return i.defined(e,"Consent Policy Getter must be provided"),i.func(e,"Consent Policy Getter must be a function"),this._consentPolicyGetter=e,this}},{key:"logger",value:function(e){var t=this,r=new s({publishers:this._publishers,validators:this._validators,defaults:this._defaults,events:this._events,defaultValueTimeout:this._defaultValueTimeout,defaultContinueOnFail:this._defaultContinueOnFail,onPublisherFailHandler:this._onPublisherFailHandler,isMuted:function(){return t._isMuted},eventTransformer:this._eventTransformer,payloadTransformer:this._payloadTransformer,consentPolicyGetter:this._consentPolicyGetter,nonEssentialDefaults:this._nonEssentialDefaults,maxBatchSize:this._maxBatchSize,globalBatchQueue:this._globalBatchQueue},e);return a.manager.notifyLoggerCreated(r),r}}]),e}();e.exports=c},6374:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(6223),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return n(e,[{key:"reset",value:function(){this._handlers=[]}},{key:"onLoggerCreated",value:function(e){var t=this;return o.defined(e,"Handler must be provided."),o.func(e,"Handler must be a function."),this._handlers.push(e),function(){var r=t._handlers.indexOf(e);-1!==r&&t._handlers.splice(r,1)}}},{key:"notifyLoggerCreated",value:function(e){this._handlers.forEach((function(t){return t(e)}))}}]),e}();e.exports={manager:new i,BiLoggerManager:i}},7898:(e,t,r)=>{"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(6223),s=r(7532),a=s.mapValues,u=s.filterValues,c=r(2603),l=r(6756),d=r(7751),p=r(9155),f=p.shouldMuteByCategory,h=p.shouldMuteNonEssentials,g=p.getPolicy,m=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=t.publishers,this._validators=t.validators||[],this._defaults=t.defaults,this._ownDefaults={},this._events=t.events||{},this._context=r||{},this._defaultValueTimeout=t.defaultValueTimeout||5e3,this._defaultContinueOnFail=t.defaultContinueOnFail||!1,this._onPublisherFailHandler=t.onPublisherFailHandler||e._defaultPublisherFailHandler,this._isMuted=t.isMuted||function(){return!1},this._eventTransformer=t.eventTransformer||function(e){return e},this._payloadTransformer=t.payloadTransformer||function(e){return e},this._consentPolicyGetter=t.consentPolicyGetter||function(){return null},this._nonEssentialDefaults=t.nonEssentialDefaults||{},this._maxBatchSize=t.maxBatchSize||100,this._globalBatchQueue=t.globalBatchQueue}return o(e,[{key:"report",value:function(e){i.defined(e,"Data must be provided"),i.object(e,"Data must be an object");var t=e.src,r=e.evid,o=e.params,s=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["src","evid","params"]);return this.log(n({src:t,evid:r},o),s)}},{key:"log",value:function(e,t,r){var o=this;i.defined(e,"Event object or event key must be provided.");var s=this._extractEventAndContext(e,t,r),a=s.event,u=s.context,c=g(this._consentPolicyGetter),l=n({},this._context,u);if(this._isMuted()||f(c,l.category))return Promise.resolve();if(l.useBatch){var d=this._initQueue(l,c),p=function(e){var t=o._eventTransformer(e,l);return d.feed(t,l)};if(this._globalBatchQueue)return this._getDefaults(this._defaults).then((function(e){var t=n({},e,o._getDynamicNonEssentialDefaults(c),o._getStaticNonEssentialDefaults(c),a,o._getPolicyFields(c,l.category));return p(t)}));var h=n({},this._getDynamicDefaults(this._defaults),this._getDynamicNonEssentialDefaults(c),a,this._getPolicyFields(c,l.category));return p(h)}return this._getDefaults(this._defaults).then((function(e){var t=Object.assign(e,o._getDynamicNonEssentialDefaults(c),o._getStaticNonEssentialDefaults(c),a,o._getPolicyFields(c,l.category));if(!(0===o._validators.length||o._validators.some((function(e){return e.match(t)&&(e.execute(t)||!0)}))))throw new Error("No validator accepted the event. Source: "+t.src+" Evid: "+(t.evid||t.evtId));var r=o._eventTransformer(t,l);return r=o._payloadTransformer(r,l),o._send(r,l)}))}},{key:"flush",value:function(){return this._queue?this._queue.flush():Promise.resolve()}},{key:"updateDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),Object.assign(this._ownDefaults,e),this}},{key:"_send",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all(this._publishers.map((function(o){var i=n({},e);return Promise.resolve().then((function(){return o(i,r)})).catch((function(r){return t._onPublisherFailHandler(r,{publisherName:o.name,payload:e})}))}))).then((function(){}))}},{key:"_extractEventAndContext",value:function(e,t,r){var o=void 0,s={};if("string"!=typeof e)o=e,s=t||s;else{if(!(o=this._events[e]))throw new i.AssertionError("Event with key '"+e+"' not found in event map.");t&&(o=n({},o,t),s=r||s)}return{event:o,context:s}}},{key:"_initQueue",value:function(e,t){var r=this;if(this._queue)return this._queue;this._queue=this._globalBatchQueue||new d;return this._queue.init({delayMs:!0===e.useBatch?300:e.useBatch,maxBatchSize:this._maxBatchSize,useThrottle:!!this._globalBatchQueue,optimizeBatch:!!this._globalBatchQueue},(function(n){r._globalBatchQueue||(n.g=Object.assign(r._getStaticDefaults(r._defaults),r._getStaticNonEssentialDefaults(t)));var o=r._payloadTransformer(n,e);return r._send(o,e)})),this._queue}},{key:"_handleDefaultsError",value:function(e){return this._defaultContinueOnFail?(l.error(e),null):Promise.reject(e)}},{key:"_getDynamicNonEssentialDefaults",value:function(e){if(!h(e))return this._getDynamicDefaults(this._nonEssentialDefaults)}},{key:"_getStaticNonEssentialDefaults",value:function(e){if(!h(e))return this._getStaticDefaults(this._nonEssentialDefaults)}},{key:"_withOwnDefaults",value:function(e){return Object.assign({},e,this._ownDefaults)}},{key:"_getDynamicDefaults",value:function(e){e=this._withOwnDefaults(e);var t=u(e,(function(e){return"function"==typeof e}));return a(t,(function(e){return e()}))}},{key:"_getStaticDefaults",value:function(e){return e=this._withOwnDefaults(e),u(e,(function(e){return"function"!=typeof e}))}},{key:"_getDefaults",value:function(e){var t=this;if(!(e=this._withOwnDefaults(e)))return Promise.resolve({});var r=a(e,(function(e,r){if("function"==typeof e)try{e=e()}catch(e){return t._handleDefaultsError(e)}return e&&"function"==typeof e.then?c.timedPromise(e,{message:"Cannot get default value '"+r+" for BI Event'",timeout:t._defaultValueTimeout}).catch((function(e){return t._handleDefaultsError(e)})):e}));return c.allAsObject(r)}},{key:"_encodePolicyValue",value:function(e,t){return e?"boolean"==typeof e[t]?e[t]?1:0:e[t]:1}},{key:"_getPolicyFields",value:function(e,t){return{_isca:this._encodePolicyValue(e,"analytics"),_iscf:this._encodePolicyValue(e,"functional"),_ispd:e.__default?1:0,_ise:"essential"===t?1:0}}}],[{key:"_defaultPublisherFailHandler",value:function(e,t){return t.publisherName}}]),e}();e.exports=m},9155:e=>{"use strict";var t={functional:!0,analytics:!0,__default:!0},r=function(e){return!1===e.functional||!1===e.analytics};e.exports={shouldMuteNonEssentials:r,shouldMuteByCategory:function(e,t){return"essential"!==t&&("functional"===t||"analytics"===t?!1===e[t]:r(e))},getPolicy:function(e){return"function"==typeof e&&e()||t}}},1746:(e,t,r)=>{"use strict";var n=r(619),o=r(7898),i=r(6374),s=r(7751);e.exports.BiLoggerFactory=n,e.exports.BiLogger=o,e.exports.BiLoggerManager=i.BiLoggerManager,e.exports.factory=function(){return new n},e.exports.manager=i.manager,e.exports.createBatchQueue=function(){return new s}},7751:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var s=r(5854),a=r(6959),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initilized=!1}return n(e,[{key:"_reset",value:function(){var e=this;this._startTime=Date.now(),this._resolve=null,this._promise=new Promise((function(t){return e._resolve=t}))}},{key:"init",value:function(e,t){var r=this,n=e.delayMs,o=e.maxBatchSize,i=e.useThrottle,u=e.optimizeBatch;this._initilized||(this._maxBatchSize=o,this._optimizeBatch=u,this._queue=[],this._flushHandler=t,this._flushDebounced=i?a((function(){return r.flush()}),n):s((function(){return r.flush()}),n),this._initilized=!0,this._reset())}},{key:"flush",value:function(){if(!this._queue.length)return Promise.resolve();var e=this._queue.splice(0,this._queue.length),t=this._resolve,r=this._startTime;this._reset();var n=function(e,t){return{dt:Date.now()-t,e,g:{}}}(e,r);return this._optimizeBatch&&(n=function(e){var t={},r=e.e.length,n=e.e.map((function(e){var r=Object.keys(e.f).map((function(r){var n=e.f[r],o=r+"|"+n;return t[o]=t[o]||0,t[o]++,[r,n,o]}));return i({},e,{f:r})})),s={};return n=n.map((function(e){var n=e.f.reduce((function(e,n){var i=o(n,3),a=i[0],u=i[1],c=i[2];return t[c]===r?s[a]=u:e[a]=u,e}),{});return i({},e,{f:n})})),i({},e,{e:n,g:s})}(n)),this._flushHandler(n).then(t)}},{key:"feed",value:function(e,t){return this._queue.push(function(e,t,r){return{dt:Date.now()-r,f:e,context:t}}(e,t,this._startTime)),this._queue.length===this._maxBatchSize?this.flush():(this._flushDebounced(),this._promise)}}]),e}();e.exports=u},7532:e=>{"use strict";e.exports.mapValues=function(e,t){return e?Object.keys(e).reduce((function(r,n){return r[n]=t(e[n],n,e),r}),{}):{}},e.exports.filterValues=function(e,t){return e?Object.keys(e).reduce((function(r,n){return t(e[n],n,e)&&(r[n]=e[n]),r}),{}):{}}},5854:e=>{"use strict";e.exports=function(e,t,r){var n=void 0;return function(){var o=this,i=arguments,s=r&&!n;clearTimeout(n),n=setTimeout((function(){n=null,r||e.apply(o,i)}),t),s&&e.apply(o,i)}}},6756:e=>{"use strict";e.exports={error:function(){var e;console&&console.error&&(e=console).error.apply(e,arguments)}}},2603:e=>{"use strict";e.exports.timedPromise=function(e,t){var r=t.message,n=t.timeout,o=new Promise((function(e,t){setTimeout(t,n,r?"Timeout: "+r:"Timeout")}));return Promise.race([e,o])},e.exports.allAsObject=function(e){var t=Object.keys(e);return Promise.all(t.map((function(t){return e[t]}))).then((function(e){return e.reduce((function(e,r,n){return e[t[n]]=r,e}),{})}))}},6959:e=>{"use strict";e.exports=function(e,t){var r=void 0;return function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];r||(r=setTimeout((function(){e.apply(void 0,o),r=null}),t))}}},3653:(e,t,r)=>{e.exports=r(1555)},9685:(e,t,r)=>{"use strict";var n=r(501),o=r(3063),i=r(9233),s=r(4306),a=r(5938),u=r(2644),c=r(3977),l=r(1987),d=r(5424),p=r(235),f=r(9526),h=r(2989);e.exports=function(e){return new Promise((function(t,r){var g,m=e.data,v=e.headers,y=e.responseType,b=e.withXSRFToken;function _(){e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g)}n.isFormData(m)&&n.isStandardBrowserEnv()&&delete v["Content-Type"];var w=new XMLHttpRequest;if(e.auth){var O=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(O+":"+E)}var S=a(e.baseURL,e.url,e.allowAbsoluteUrls);function I(){if(w){var n="getAllResponseHeaders"in w?u(w.getAllResponseHeaders()):null,i={data:y&&"text"!==y&&"json"!==y?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:n,config:e,request:w};o((function(e){t(e),_()}),(function(e){r(e),_()}),i),w=null}}if(w.open(e.method.toUpperCase(),s(S,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=I:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(I)},w.onabort=function(){w&&(r(new d("Request aborted",d.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new d("Network Error",d.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new d(t,n.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,w)),w=null},n.isStandardBrowserEnv()&&(b&&n.isFunction(b)&&(b=b(e)),b||!1!==b&&c(S))){var C=e.xsrfHeaderName&&e.xsrfCookieName&&i.read(e.xsrfCookieName);C&&(v[e.xsrfHeaderName]=C)}"setRequestHeader"in w&&n.forEach(v,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete v[t]:w.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),y&&"json"!==y&&(w.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(g=function(t){w&&(r(!t||t.type?new p(null,e,w):t),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g))),m||!1===m||0===m||""===m||(m=null);var A=f(S);A&&-1===h.protocols.indexOf(A)?r(new d("Unsupported protocol "+A+":",d.ERR_BAD_REQUEST,e)):w.send(m)}))}},1555:(e,t,r)=>{"use strict";var n=r(501),o=r(2958),i=r(7303),s=r(2445),a=r(746),u=r(5078);var c=function e(t){var r=new i(t),a=o(i.prototype.request,r);return n.extend(a,i.prototype,r),n.extend(a,r),a.create=function(r){return e(s(t,r))},a}(a);c.Axios=i,c.CanceledError=r(235),c.CancelToken=r(9939),c.isCancel=r(8414),c.VERSION=r(2196).version,c.toFormData=r(8428),c.AxiosError=r(5424),c.Cancel=c.CanceledError,c.all=function(e){return Promise.all(e)},c.spread=r(363),c.isAxiosError=r(9465),c.formToJSON=function(e){return u(n.isHTMLForm(e)?new FormData(e):e)},e.exports=c,e.exports.default=c},9939:(e,t,r)=>{"use strict";var n=r(235);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,o,i){r.reason||(r.reason=new n(e,o,i),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},235:(e,t,r)=>{"use strict";var n=r(5424);function o(e,t,r){n.call(this,null==e?"canceled":e,n.ERR_CANCELED,t,r),this.name="CanceledError"}r(501).inherits(o,n,{__CANCEL__:!0}),e.exports=o},8414:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7303:(e,t,r)=>{"use strict";var n=r(501),o=r(4306),i=r(6942),s=r(6158),a=r(2445),u=r(5938),c=r(7169),l=c.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var o=t.paramsSerializer;null!=o&&(n.isFunction(o)?t.paramsSerializer={serialize:o}:c.assertOptions(o,{encode:l.function,serialize:l.function},!0));var i=[],u=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var d,p=[];if(this.interceptors.response.forEach((function(e){p.push(e.fulfilled,e.rejected)})),!u){var f=[s,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(p),d=Promise.resolve(t);f.length;)d=d.then(f.shift(),f.shift());return d}for(var h=t;i.length;){var g=i.shift(),m=i.shift();try{h=g(h)}catch(e){m(e);break}}try{d=s(h)}catch(e){return Promise.reject(e)}for(;p.length;)d=d.then(p.shift(),p.shift());return d},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=u(e.baseURL,e.url,e.allowAbsoluteUrls);return o(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},5424:(e,t,r)=>{"use strict";var n=r(501);function o(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(o,s),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,r,s,a,u){var c=Object.create(i);return n.toFlatObject(e,c,(function(e){return e!==Error.prototype})),o.call(c,e.message,t,r,s,a),c.cause=e,c.name=e.name,u&&Object.assign(c,u),c},e.exports=o},6942:(e,t,r)=>{"use strict";var n=r(501);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.clear=function(){this.handlers&&(this.handlers=[])},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},5938:(e,t,r)=>{"use strict";var n=r(3473),o=r(533);e.exports=function(e,t,r){var i=!n(t);return e&&(i||!1===r)?o(e,t):t}},6158:(e,t,r)=>{"use strict";var n=r(501),o=r(4097),i=r(8414),s=r(746),a=r(235),u=r(4799);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,null,e.transformRequest),u(e.headers,"Accept"),u(e.headers,"Content-Type"),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,t.status,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,t.response.status,e.transformResponse))),Promise.reject(t)}))}},2445:(e,t,r)=>{"use strict";var n=r(501);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isEmptyObject(t)?n.merge({},e):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function s(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function u(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);n.isUndefined(o)&&t!==u||(r[e]=o)})),r}},3063:(e,t,r)=>{"use strict";var n=r(5424);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},4097:(e,t,r)=>{"use strict";var n=r(501),o=r(746);e.exports=function(e,t,r,i){var s=this||o;return n.forEach(i,(function(n){e=n.call(s,e,t,r)})),e}},746:(e,t,r)=>{"use strict";var n=r(3158),o=r(501),i=r(4799),s=r(5424),a=r(1987),u=r(8428),c=r(5912),l=r(2989),d=r(5078),p={"Content-Type":"application/x-www-form-urlencoded"};function f(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,g={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(h=r(9685)),h),transformRequest:[function(e,t){i(t,"Accept"),i(t,"Content-Type");var r,n=t&&t["Content-Type"]||"",s=n.indexOf("application/json")>-1,a=o.isObject(e);if(a&&o.isHTMLForm(e)&&(e=new FormData(e)),o.isFormData(e))return s?JSON.stringify(d(e)):e;if(o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))return e;if(o.isArrayBufferView(e))return e.buffer;if(o.isURLSearchParams(e))return f(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(a){if(-1!==n.indexOf("application/x-www-form-urlencoded"))return c(e,this.formSerializer).toString();if((r=o.isFileList(e))||n.indexOf("multipart/form-data")>-1){var l=this.env&&this.env.FormData;return u(r?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||s?(f(t,"application/json"),function(e,t,r){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||g.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&o.isString(e)&&(r&&!this.responseType||n)){var i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l.classes.FormData,Blob:l.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){g.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){g.headers[e]=o.merge(p)})),e.exports=g},1987:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},6081:(e,t,r)=>{e.exports=r(3162)},2196:e=>{e.exports={version:"0.30.0"}},5134:(e,t,r)=>{"use strict";var n=r(8428);function o(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function i(e,t){this._pairs=[],e&&n(e,this,t)}var s=i.prototype;s.append=function(e,t){this._pairs.push([e,t])},s.toString=function(e){var t=e?function(t){return e.call(this,t,o)}:o;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")},e.exports=i},2958:e=>{"use strict";e.exports=function(e,t){return function(){return e.apply(t,arguments)}}},4306:(e,t,r)=>{"use strict";var n=r(501),o=r(5134);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s));var a,u=r&&r.encode||i,c=r&&r.serialize;return(a=c?c(t,r):n.isURLSearchParams(t)?t.toString():new o(t,r).toString(u))&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},533:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}},9233:(e,t,r)=>{"use strict";var n=r(501);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},5078:(e,t,r)=>{"use strict";var n=r(501);e.exports=function(e){function t(e,r,o,i){var s=e[i++];if("__proto__"===s)return!0;var a=Number.isFinite(+s),u=i>=e.length;return s=!s&&n.isArray(o)?o.length:s,u?(n.hasOwnProperty(o,s)?o[s]=[o[s],r]:o[s]=r,!a):(o[s]&&n.isObject(o[s])||(o[s]=[]),t(e,r,o[s],i)&&n.isArray(o[s])&&(o[s]=function(e){var t,r,n={},o=Object.keys(e),i=o.length;for(t=0;t<i;t++)n[r=o[t]]=e[r];return n}(o[s])),!a)}if(n.isFormData(e)&&n.isFunction(e.entries)){var r={};return n.forEachEntry(e,(function(e,o){t(function(e){return n.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),o,r,0)})),r}return null}},3473:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9465:(e,t,r)=>{"use strict";var n=r(501);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},3977:(e,t,r)=>{"use strict";var n=r(501);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4799:(e,t,r)=>{"use strict";var n=r(501);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},2644:(e,t,r)=>{"use strict";var n=r(501),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.slice(0,i)).toLowerCase(),r=n.trim(e.slice(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},9526:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},363:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8428:(e,t,r)=>{"use strict";var n=r(501),o=r(5424),i=r(6081);function s(e){return n.isPlainObject(e)||n.isArray(e)}function a(e){return n.endsWith(e,"[]")?e.slice(0,-2):e}function u(e,t,r){return e?e.concat(t).map((function(e,t){return e=a(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var c=n.toFlatObject(n,{},null,(function(e){return/^is[A-Z]/.test(e)}));e.exports=function(e,t,r){if(!n.isObject(e))throw new TypeError("target must be an object");t=t||new(i||FormData);var l,d=(r=n.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!n.isUndefined(t[e])}))).metaTokens,p=r.visitor||v,f=r.dots,h=r.indexes,g=(r.Blob||"undefined"!=typeof Blob&&Blob)&&((l=t)&&n.isFunction(l.append)&&"FormData"===l[Symbol.toStringTag]&&l[Symbol.iterator]);if(!n.isFunction(p))throw new TypeError("visitor must be a function");function m(e){if(null===e)return"";if(n.isDate(e))return e.toISOString();if(!g&&n.isBlob(e))throw new o("Blob is not supported. Use a Buffer instead.");return n.isArrayBuffer(e)||n.isTypedArray(e)?g&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function v(e,r,o){var i=e;if(e&&!o&&"object"==typeof e)if(n.endsWith(r,"{}"))r=d?r:r.slice(0,-2),e=JSON.stringify(e);else if(n.isArray(e)&&function(e){return n.isArray(e)&&!e.some(s)}(e)||n.isFileList(e)||n.endsWith(r,"[]")&&(i=n.toArray(e)))return r=a(r),i.forEach((function(e,o){!n.isUndefined(e)&&null!==e&&t.append(!0===h?u([r],o,f):null===h?r:r+"[]",m(e))})),!1;return!!s(e)||(t.append(u(o,r,f),m(e)),!1)}var y=[],b=Object.assign(c,{defaultVisitor:v,convertValue:m,isVisitable:s});if(!n.isObject(e))throw new TypeError("data must be an object");return function e(r,o){if(!n.isUndefined(r)){if(-1!==y.indexOf(r))throw Error("Circular reference detected in "+o.join("."));y.push(r),n.forEach(r,(function(r,i){!0===(!(n.isUndefined(r)||null===r)&&p.call(t,r,n.isString(i)?i.trim():i,o,b))&&e(r,o?o.concat(i):[i])})),y.pop()}}(e),t}},5912:(e,t,r)=>{"use strict";var n=r(501),o=r(8428),i=r(2989);e.exports=function(e,t){return o(e,new i.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,o){return i.isNode&&n.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}},7169:(e,t,r)=>{"use strict";var n=r(2196).version,o=r(5424),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new o(i(n," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!s[n]&&(s[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var s=n[i],a=t[s];if(a){var u=e[s],c=void 0===u||a(u,s,e);if(!0!==c)throw new o("option "+s+" must be "+c,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+s,o.ERR_BAD_OPTION)}},validators:i}},163:e=>{"use strict";e.exports=FormData},6578:(e,t,r)=>{"use strict";var n=r(5134);e.exports="undefined"!=typeof URLSearchParams?URLSearchParams:n},5557:(e,t,r)=>{"use strict";e.exports={isBrowser:!0,classes:{URLSearchParams:r(6578),FormData:r(163),Blob},protocols:["http","https","file","blob","url","data"]}},2989:(e,t,r)=>{"use strict";e.exports=r(5557)},501:(e,t,r)=>{"use strict";var n,o=r(2958),i=Object.prototype.toString,s=(n=Object.create(null),function(e){var t=i.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function u(e){return Array.isArray(e)}function c(e){return void 0===e}var l=a("ArrayBuffer");function d(e){return"number"==typeof e}function p(e){return null!==e&&"object"==typeof e}function f(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var h=a("Date"),g=a("File"),m=a("Blob"),v=a("FileList");function y(e){return"[object Function]"===i.call(e)}var b=a("URLSearchParams");function _(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var w,O=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});var E,S=a("HTMLFormElement"),I=(E=Object.prototype.hasOwnProperty,function(e,t){return E.call(e,t)});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:d,isObject:p,isPlainObject:f,isEmptyObject:function(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isUndefined:c,isDate:h,isFile:g,isBlob:m,isFunction:y,isStream:function(e){return p(e)&&y(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){var e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:_,merge:function e(){var t={};function r(r,n){f(t[n])&&f(r)?t[n]=e(t[n],r):f(r)?t[n]=e({},r):u(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)_(arguments[n],r);return t},extend:function(e,t,r){return _(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var o,i,s,a={};if(t=t||{},null==e)return t;do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)s=o[i],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(u(e))return e;var t=e.length;if(!d(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:O,isFileList:v,forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var o=r.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:S,hasOwnProperty:I}},8144:function(e,t,r){var n;/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */e=r.nmd(e),function(o){var i=t,s=(e&&e.exports,"object"==typeof r.g&&r.g);s.global!==s&&s.window;var a=function(e){this.message=e};(a.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new a(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,o,i=e.length%3,s="",a=-1,l=e.length-i;++a<l;)t=e.charCodeAt(a)<<16,r=e.charCodeAt(++a)<<8,n=e.charCodeAt(++a),s+=c.charAt((o=t+r+n)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(t=e.charCodeAt(a)<<8,r=e.charCodeAt(++a),s+=c.charAt((o=t+r)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(a),s+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),s},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,o=0,i="",s=-1;++s<t;)n=c.indexOf(e.charAt(s)),r=o%4?64*r+n:n,o++%4&&(i+=String.fromCharCode(255&r>>(-2*o&6)));return i},version:"1.0.0"};void 0===(n=function(){return d}.call(t,r,t,e))||(e.exports=n)}()},3162:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},4690:(e,t,r)=>{var n=r(441).Symbol;e.exports=n},4318:(e,t,r)=>{var n=r(4690),o=r(7077),i=r(1954),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},3349:(e,t,r)=>{var n=r(5720),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},4414:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7077:(e,t,r)=>{var n=r(4690),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[a]=r:delete e[a]),o}},1954:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},441:(e,t,r)=>{var n=r(4414),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},5720:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},5750:(e,t,r)=>{var n=r(5973),o=r(8148),i=r(8746),s=Math.max,a=Math.min;e.exports=function(e,t,r){var u,c,l,d,p,f,h=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=u,n=c;return u=c=void 0,h=t,d=e.apply(n,r)}function b(e){var r=e-f;return void 0===f||r>=t||r<0||m&&e-h>=l}function _(){var e=o();if(b(e))return w(e);p=setTimeout(_,function(e){var r=t-(e-f);return m?a(r,l-(e-h)):r}(e))}function w(e){return p=void 0,v&&u?y(e):(u=c=void 0,d)}function O(){var e=o(),r=b(e);if(u=arguments,c=this,f=e,r){if(void 0===p)return function(e){return h=e,p=setTimeout(_,t),g?y(e):d}(f);if(m)return clearTimeout(p),p=setTimeout(_,t),y(f)}return void 0===p&&(p=setTimeout(_,t)),d}return t=i(t)||0,n(r)&&(g=!!r.leading,l=(m="maxWait"in r)?s(i(r.maxWait)||0,t):l,v="trailing"in r?!!r.trailing:v),O.cancel=function(){void 0!==p&&clearTimeout(p),h=0,u=f=c=p=void 0},O.flush=function(){return void 0===p?d:w(o())},O}},5973:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3387:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2945:(e,t,r)=>{var n=r(4318),o=r(3387);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},8148:(e,t,r)=>{var n=r(441);e.exports=function(){return n.Date.now()}},3259:(e,t,r)=>{var n=r(5750),o=r(5973);e.exports=function(e,t,r){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),n(e,t,{leading:i,maxWait:t,trailing:s})}},8746:(e,t,r)=>{var n=r(3349),o=r(5973),i=r(2945),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=a.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?NaN:+e}},3158:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,u=[],c=!1,l=-1;function d(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||c||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},1024:t=>{"use strict";t.exports=e},9500:e=>{"use strict";e.exports=t},3213:(e,t,r)=>{var n=r(6174);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},7662:(e,t,r)=>{var n=r(8114).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6174:(e,t,r)=>{var n=r(8114).default,o=r(7662);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},8114:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function u(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return s[e].call(r.exports,r,r.exports,u),r.loaded=!0,r.exports}if(u.m=s,u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var o=Object.create(null);u.r(o);var i={};r=r||[null,n({}),n([]),n(n)];for(var s=2&t&&e;"object"==typeof s&&!~r.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,u.d(o,i),o},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,r)=>(u.f[r](e,t),t)),[])),u.u=e=>({42:"common-errors_el-json",81:"common-errors_da-json",91:"common-errors_es-json",92:"common-errors_sk-json",103:"common-errors_tr-json",122:"common-errors_hr-json",143:"common-errors_pt-json",246:"common-errors_it-json",255:"common-errors_uk-json",258:"common-errors_no-json",282:"common-errors_fr-json",299:"common-errors_cs-json",315:"common-errors_th-json",317:"common-errors_de-json",360:"error-handler-commonErrorsMapping",370:"common-errors_he-json",373:"common-errors_ro-json",408:"common-errors_en-json",470:"common-errors_hu-json",474:"common-errors_zh-json",537:"common-errors_ru-json",553:"common-errors_lv-json",559:"common-errors_ms-json",566:"common-errors_pl-json",569:"common-errors_ja-json",612:"common-errors_nl-json",615:"common-errors_fi-json",655:"common-errors_ar-json",660:"common-errors_bg-json",710:"common-errors_tl-json",719:"common-errors_hi-json",746:"common-errors_ko-json",780:"common-errors_vi-json",868:"common-errors_sl-json",878:"common-errors_lt-json",912:"common-errors_ca-json",960:"common-errors_sv-json",963:"common-errors_id-json"}[e]+".chunk.min.js"),u.miniCssF=e=>{},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},i="_wix_fe_essentials_giza:",u.l=(e,t,r,n)=>{if(o[e])o[e].push(t);else{var s,a;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+r){s=d;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.setAttribute("data-webpack",i+r),s.src=e,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),o[e]=[t];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var n=o[e];if(delete o[e],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(r))),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),a&&document.head.appendChild(s)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),u.p="https://static.parastorage.com/services/fe-essentials-giza/247602fcc17dbcd7ac0edfa2aa2bf0ccbf4be83ca114cf94d68d55c1/",void 0!==u){var c=u.u,l=u.e,d=new Map,p=new Map;u.u=function(e){return c(e)+(d.has(e)?"?"+d.get(e):"")},u.e=function(e){return l(e).catch((function(t){var r=p.has(e)?p.get(e):3;if(r<1){var n=c(e);throw t.message="Loading chunk "+e+" failed after 3 retries.\n("+n+")",t.request=n,t}var o="cache-bust=true"+("&retry-attempt="+(3-r+1));return d.set(e,o),p.set(e,r-1),u.e(e)}))}}(()=>{var e={335:0};u.f.j=(t,r)=>{var n=u.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=u.p+u.u(t),s=new Error;u.l(i,(r=>{if(u.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,s,a]=r,c=0;if(i.some((t=>0!==e[t]))){for(n in s)u.o(s,n)&&(u.m[n]=s[n]);if(a)a(u)}for(t&&t(r);c<i.length;c++)o=i[c],u.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=("undefined"!=typeof self?self:this).webpackJsonp__wix_fe_essentials_giza=("undefined"!=typeof self?self:this).webpackJsonp__wix_fe_essentials_giza||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var f={};return(()=>{"use strict";u.r(f),u.d(f,{EssentialsProvider:()=>na,createComponentEssentials:()=>Js,createPanoramaGlobalConfig:()=>Ks,useEssentials:()=>oa});var e,t=u(3213),r=u.n(t);function n(t){return t.type===e.literal}function o(t){return t.type===e.argument}function i(t){return t.type===e.number}function s(t){return t.type===e.date}function a(t){return t.type===e.time}function c(t){return t.type===e.select}function l(t){return t.type===e.plural}function d(t){return t.type===e.pound}function p(e){return!(!e||"object"!=typeof e||0!==e.type)}function h(e){return!(!e||"object"!=typeof e||1!==e.type)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound"}(e||(e={}));var g=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),m=function(){return m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},v=function(e){function t(r,n,o,i){var s=e.call(this)||this;return s.message=r,s.expected=n,s.found=o,s.location=i,s.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return g(t,e),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,r,n=e.map(i);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+(((s=t)?'"'+n(s)+'"':"end of input")+" found.");var s},t}(Error);var y=function(t,r){r=void 0!==r?r:{};var n,o={},i={start:lt},s=lt,a=function(e){return e.join("")},u=function(t){return m({type:e.literal,value:t},Rt())},c="#",l=nt("#",!1),d=function(){return m({type:e.pound},Rt())},p=it("argumentElement"),f="{",h=nt("{",!1),g="}",y=nt("}",!1),b=function(t){return m({type:e.argument,value:t},Rt())},_=it("numberSkeletonId"),w=/^['\/{}]/,O=ot(["'","/","{","}"],!1,!1),E={type:"any"},S=it("numberSkeletonTokenOption"),I="/",C=nt("/",!1),A=function(e){return e},x=it("numberSkeletonToken"),P=function(e,t){return{stem:e,options:t}},N=function(e){return m({type:0,tokens:e},Rt())},k="::",T=nt("::",!1),R=function(e){return e},D=function(){return kt.push("numberArgStyle"),!0},j=function(e){return kt.pop(),e.replace(/\s*$/,"")},L=",",M=nt(",",!1),F="number",B=nt("number",!1),H=function(t,r,n){return m({type:"number"===r?e.number:"date"===r?e.date:e.time,style:n&&n[2],value:t},Rt())},U="'",Z=nt("'",!1),W=/^[^']/,V=ot(["'"],!0,!1),q=/^[^a-zA-Z'{}]/,z=ot([["a","z"],["A","Z"],"'","{","}"],!0,!1),G=/^[a-zA-Z]/,$=ot([["a","z"],["A","Z"]],!1,!1),K=function(e){return m({type:1,pattern:e},Rt())},X=function(){return kt.push("dateOrTimeArgStyle"),!0},J="date",Q=nt("date",!1),Y="time",ee=nt("time",!1),te="plural",re=nt("plural",!1),ne="selectordinal",oe=nt("selectordinal",!1),ie="offset:",se=nt("offset:",!1),ae=function(t,r,n,o){return m({type:e.plural,pluralType:"plural"===r?"cardinal":"ordinal",value:t,offset:n?n[2]:0,options:o.reduce((function(e,t){var r=t.id,n=t.value,o=t.location;return r in e&&rt('Duplicate option "'+r+'" in plural element: "'+et()+'"',tt()),e[r]={value:n,location:o},e}),{})},Rt())},ue="select",ce=nt("select",!1),le=function(t,r){return m({type:e.select,value:t,options:r.reduce((function(e,t){var r=t.id,n=t.value,o=t.location;return r in e&&rt('Duplicate option "'+r+'" in select element: "'+et()+'"',tt()),e[r]={value:n,location:o},e}),{})},Rt())},de="=",pe=nt("=",!1),fe=function(e){return kt.push("select"),!0},he=function(e,t){return kt.pop(),m({id:e,value:t},Rt())},ge=function(e){return kt.push("plural"),!0},me=function(e,t){return kt.pop(),m({id:e,value:t},Rt())},ve=it("whitespace"),ye=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,be=ot([["\t","\r"]," ","\x85","\xa0","\u1680",["\u2000","\u200a"],"\u2028","\u2029","\u202f","\u205f","\u3000"],!1,!1),_e=it("syntax pattern"),we=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,Oe=ot([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xa1","\xa7"],"\xa9","\xab","\xac","\xae","\xb0","\xb1","\xb6","\xbb","\xbf","\xd7","\xf7",["\u2010","\u2027"],["\u2030","\u203e"],["\u2041","\u2053"],["\u2055","\u205e"],["\u2190","\u245f"],["\u2500","\u2775"],["\u2794","\u2bff"],["\u2e00","\u2e7f"],["\u3001","\u3003"],["\u3008","\u3020"],"\u3030","\ufd3e","\ufd3f","\ufe45","\ufe46"],!1,!1),Ee=it("optional whitespace"),Se=it("number"),Ie="-",Ce=nt("-",!1),Ae=function(e,t){return t?e?-t:t:0},xe=(it("apostrophe"),it("double apostrophes")),Pe="''",Ne=nt("''",!1),ke=function(){return"'"},Te=function(e,t){return e+t.replace("''","'")},Re=function(e){return!("{"===e||Tt()&&"#"===e||kt.length>1&&"}"===e)},De="\n",je=nt("\n",!1),Le=function(e){return"{"===e||"}"===e||Tt()&&"#"===e},Me=it("argNameOrNumber"),Fe=it("argNumber"),Be="0",He=nt("0",!1),Ue=function(){return 0},Ze=/^[1-9]/,We=ot([["1","9"]],!1,!1),Ve=/^[0-9]/,qe=ot([["0","9"]],!1,!1),ze=function(e){return parseInt(e.join(""),10)},Ge=it("argName"),$e=0,Ke=0,Xe=[{line:1,column:1}],Je=0,Qe=[],Ye=0;if(void 0!==r.startRule){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=i[r.startRule]}function et(){return t.substring(Ke,$e)}function tt(){return at(Ke,$e)}function rt(e,t){throw function(e,t){return new v(e,[],"",t)}(e,t=void 0!==t?t:at(Ke,$e))}function nt(e,t){return{type:"literal",text:e,ignoreCase:t}}function ot(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function it(e){return{type:"other",description:e}}function st(e){var r,n=Xe[e];if(n)return n;for(r=e-1;!Xe[r];)r--;for(n={line:(n=Xe[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Xe[e]=n,n}function at(e,t){var r=st(e),n=st(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function ut(e){$e<Je||($e>Je&&(Je=$e,Qe=[]),Qe.push(e))}function ct(e,t,r){return new v(v.buildMessage(e,t),e,t,r)}function lt(){return dt()}function dt(){var e,t;for(e=[],t=pt();t!==o;)e.push(t),t=pt();return e}function pt(){var e;return(e=function(){var e,t;e=$e,(t=ft())!==o&&(Ke=e,t=u(t));return e=t,e}())===o&&(e=function(){var e,r,n,i;Ye++,e=$e,123===t.charCodeAt($e)?(r=f,$e++):(r=o,0===Ye&&ut(h));r!==o&&Et()!==o&&(n=xt())!==o&&Et()!==o?(125===t.charCodeAt($e)?(i=g,$e++):(i=o,0===Ye&&ut(y)),i!==o?(Ke=e,e=r=b(n)):($e=e,e=o)):($e=e,e=o);Ye--,e===o&&(r=o,0===Ye&&ut(p));return e}())===o&&(e=function(){var e;e=function(){var e,r,n,i,s,a,u,c,l;e=$e,123===t.charCodeAt($e)?(r=f,$e++):(r=o,0===Ye&&ut(h));r!==o&&Et()!==o&&(n=xt())!==o&&Et()!==o?(44===t.charCodeAt($e)?(i=L,$e++):(i=o,0===Ye&&ut(M)),i!==o&&Et()!==o?(t.substr($e,6)===F?(s=F,$e+=6):(s=o,0===Ye&&ut(B)),s!==o&&Et()!==o?(a=$e,44===t.charCodeAt($e)?(u=L,$e++):(u=o,0===Ye&&ut(M)),u!==o&&(c=Et())!==o?(l=function(){var e,r,n;e=$e,t.substr($e,2)===k?(r=k,$e+=2):(r=o,0===Ye&&ut(T));r!==o?(n=function(){var e,t,r;if(e=$e,t=[],r=mt(),r!==o)for(;r!==o;)t.push(r),r=mt();else t=o;t!==o&&(Ke=e,t=N(t));return e=t,e}(),n!==o?(Ke=e,e=r=R(n)):($e=e,e=o)):($e=e,e=o);e===o&&(e=$e,Ke=$e,(r=(r=D())?void 0:o)!==o&&(n=ft())!==o?(Ke=e,e=r=j(n)):($e=e,e=o));return e}(),l!==o?a=u=[u,c,l]:($e=a,a=o)):($e=a,a=o),a===o&&(a=null),a!==o&&(u=Et())!==o?(125===t.charCodeAt($e)?(c=g,$e++):(c=o,0===Ye&&ut(y)),c!==o?(Ke=e,e=r=H(n,s,a)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o);return e}(),e===o&&(e=function(){var e,r,n,i,s,a,u,c,l;e=$e,123===t.charCodeAt($e)?(r=f,$e++):(r=o,0===Ye&&ut(h));r!==o&&Et()!==o&&(n=xt())!==o&&Et()!==o?(44===t.charCodeAt($e)?(i=L,$e++):(i=o,0===Ye&&ut(M)),i!==o&&Et()!==o?(t.substr($e,4)===J?(s=J,$e+=4):(s=o,0===Ye&&ut(Q)),s===o&&(t.substr($e,4)===Y?(s=Y,$e+=4):(s=o,0===Ye&&ut(ee))),s!==o&&Et()!==o?(a=$e,44===t.charCodeAt($e)?(u=L,$e++):(u=o,0===Ye&&ut(M)),u!==o&&(c=Et())!==o?(l=function(){var e,r,n;e=$e,t.substr($e,2)===k?(r=k,$e+=2):(r=o,0===Ye&&ut(T));r!==o?(n=function(){var e,r,n,i;e=$e,r=$e,n=[],i=vt(),i===o&&(i=yt());if(i!==o)for(;i!==o;)n.push(i),(i=vt())===o&&(i=yt());else n=o;r=n!==o?t.substring(r,$e):n;r!==o&&(Ke=e,r=K(r));return e=r,e}(),n!==o?(Ke=e,e=r=R(n)):($e=e,e=o)):($e=e,e=o);e===o&&(e=$e,Ke=$e,(r=(r=X())?void 0:o)!==o&&(n=ft())!==o?(Ke=e,e=r=j(n)):($e=e,e=o));return e}(),l!==o?a=u=[u,c,l]:($e=a,a=o)):($e=a,a=o),a===o&&(a=null),a!==o&&(u=Et())!==o?(125===t.charCodeAt($e)?(c=g,$e++):(c=o,0===Ye&&ut(y)),c!==o?(Ke=e,e=r=H(n,s,a)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o);return e}());return e}())===o&&(e=function(){var e,r,n,i,s,a,u,c,l,d,p;e=$e,123===t.charCodeAt($e)?(r=f,$e++):(r=o,0===Ye&&ut(h));if(r!==o)if(Et()!==o)if((n=xt())!==o)if(Et()!==o)if(44===t.charCodeAt($e)?(i=L,$e++):(i=o,0===Ye&&ut(M)),i!==o)if(Et()!==o)if(t.substr($e,6)===te?(s=te,$e+=6):(s=o,0===Ye&&ut(re)),s===o&&(t.substr($e,13)===ne?(s=ne,$e+=13):(s=o,0===Ye&&ut(oe))),s!==o)if(Et()!==o)if(44===t.charCodeAt($e)?(a=L,$e++):(a=o,0===Ye&&ut(M)),a!==o)if(Et()!==o)if(u=$e,t.substr($e,7)===ie?(c=ie,$e+=7):(c=o,0===Ye&&ut(se)),c!==o&&(l=Et())!==o&&(d=St())!==o?u=c=[c,l,d]:($e=u,u=o),u===o&&(u=null),u!==o)if((c=Et())!==o){if(l=[],(d=_t())!==o)for(;d!==o;)l.push(d),d=_t();else l=o;l!==o&&(d=Et())!==o?(125===t.charCodeAt($e)?(p=g,$e++):(p=o,0===Ye&&ut(y)),p!==o?(Ke=e,e=r=ae(n,s,u,l)):($e=e,e=o)):($e=e,e=o)}else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;return e}())===o&&(e=function(){var e,r,n,i,s,a,u,c,l;e=$e,123===t.charCodeAt($e)?(r=f,$e++):(r=o,0===Ye&&ut(h));if(r!==o)if(Et()!==o)if((n=xt())!==o)if(Et()!==o)if(44===t.charCodeAt($e)?(i=L,$e++):(i=o,0===Ye&&ut(M)),i!==o)if(Et()!==o)if(t.substr($e,6)===ue?(s=ue,$e+=6):(s=o,0===Ye&&ut(ce)),s!==o)if(Et()!==o)if(44===t.charCodeAt($e)?(a=L,$e++):(a=o,0===Ye&&ut(M)),a!==o)if(Et()!==o){if(u=[],(c=bt())!==o)for(;c!==o;)u.push(c),c=bt();else u=o;u!==o&&(c=Et())!==o?(125===t.charCodeAt($e)?(l=g,$e++):(l=o,0===Ye&&ut(y)),l!==o?(Ke=e,e=r=le(n,u)):($e=e,e=o)):($e=e,e=o)}else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;else $e=e,e=o;return e}())===o&&(e=function(){var e,r;e=$e,35===t.charCodeAt($e)?(r=c,$e++):(r=o,0===Ye&&ut(l));r!==o&&(Ke=e,r=d());return e=r,e}()),e}function ft(){var e,t,r;if(e=$e,t=[],(r=It())===o&&(r=Ct())===o&&(r=At()),r!==o)for(;r!==o;)t.push(r),(r=It())===o&&(r=Ct())===o&&(r=At());else t=o;return t!==o&&(Ke=e,t=a(t)),e=t}function ht(){var e,r,n,i,s;if(Ye++,e=$e,r=[],n=$e,i=$e,Ye++,(s=wt())===o&&(w.test(t.charAt($e))?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(O))),Ye--,s===o?i=void 0:($e=i,i=o),i!==o?(t.length>$e?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(E)),s!==o?n=i=[i,s]:($e=n,n=o)):($e=n,n=o),n!==o)for(;n!==o;)r.push(n),n=$e,i=$e,Ye++,(s=wt())===o&&(w.test(t.charAt($e))?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(O))),Ye--,s===o?i=void 0:($e=i,i=o),i!==o?(t.length>$e?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(E)),s!==o?n=i=[i,s]:($e=n,n=o)):($e=n,n=o);else r=o;return e=r!==o?t.substring(e,$e):r,Ye--,e===o&&(r=o,0===Ye&&ut(_)),e}function gt(){var e,r,n;return Ye++,e=$e,47===t.charCodeAt($e)?(r=I,$e++):(r=o,0===Ye&&ut(C)),r!==o&&(n=ht())!==o?(Ke=e,e=r=A(n)):($e=e,e=o),Ye--,e===o&&(r=o,0===Ye&&ut(S)),e}function mt(){var e,t,r,n;if(Ye++,e=$e,Et()!==o)if((t=ht())!==o){for(r=[],n=gt();n!==o;)r.push(n),n=gt();r!==o?(Ke=e,e=P(t,r)):($e=e,e=o)}else $e=e,e=o;else $e=e,e=o;return Ye--,e===o&&(o,0===Ye&&ut(x)),e}function vt(){var e,r,n,i;if(e=$e,39===t.charCodeAt($e)?(r=U,$e++):(r=o,0===Ye&&ut(Z)),r!==o){if(n=[],(i=It())===o&&(W.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===Ye&&ut(V))),i!==o)for(;i!==o;)n.push(i),(i=It())===o&&(W.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===Ye&&ut(V)));else n=o;n!==o?(39===t.charCodeAt($e)?(i=U,$e++):(i=o,0===Ye&&ut(Z)),i!==o?e=r=[r,n,i]:($e=e,e=o)):($e=e,e=o)}else $e=e,e=o;if(e===o)if(e=[],(r=It())===o&&(q.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===Ye&&ut(z))),r!==o)for(;r!==o;)e.push(r),(r=It())===o&&(q.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===Ye&&ut(z)));else e=o;return e}function yt(){var e,r;if(e=[],G.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===Ye&&ut($)),r!==o)for(;r!==o;)e.push(r),G.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===Ye&&ut($));else e=o;return e}function bt(){var e,r,n,i,s;return e=$e,Et()!==o&&(r=Nt())!==o&&Et()!==o?(123===t.charCodeAt($e)?(n=f,$e++):(n=o,0===Ye&&ut(h)),n!==o?(Ke=$e,(fe(r)?void 0:o)!==o&&(i=dt())!==o?(125===t.charCodeAt($e)?(s=g,$e++):(s=o,0===Ye&&ut(y)),s!==o?(Ke=e,e=he(r,i)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o),e}function _t(){var e,r,n,i,s;return e=$e,Et()!==o?(r=function(){var e,r,n,i;return e=$e,r=$e,61===t.charCodeAt($e)?(n=de,$e++):(n=o,0===Ye&&ut(pe)),n!==o&&(i=St())!==o?r=n=[n,i]:($e=r,r=o),(e=r!==o?t.substring(e,$e):r)===o&&(e=Nt()),e}(),r!==o&&Et()!==o?(123===t.charCodeAt($e)?(n=f,$e++):(n=o,0===Ye&&ut(h)),n!==o?(Ke=$e,(ge(r)?void 0:o)!==o&&(i=dt())!==o?(125===t.charCodeAt($e)?(s=g,$e++):(s=o,0===Ye&&ut(y)),s!==o?(Ke=e,e=me(r,i)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o)):($e=e,e=o),e}function wt(){var e;return Ye++,ye.test(t.charAt($e))?(e=t.charAt($e),$e++):(e=o,0===Ye&&ut(be)),Ye--,e===o&&(o,0===Ye&&ut(ve)),e}function Ot(){var e;return Ye++,we.test(t.charAt($e))?(e=t.charAt($e),$e++):(e=o,0===Ye&&ut(Oe)),Ye--,e===o&&(o,0===Ye&&ut(_e)),e}function Et(){var e,r,n;for(Ye++,e=$e,r=[],n=wt();n!==o;)r.push(n),n=wt();return e=r!==o?t.substring(e,$e):r,Ye--,e===o&&(r=o,0===Ye&&ut(Ee)),e}function St(){var e,r,n;return Ye++,e=$e,45===t.charCodeAt($e)?(r=Ie,$e++):(r=o,0===Ye&&ut(Ce)),r===o&&(r=null),r!==o&&(n=Pt())!==o?(Ke=e,e=r=Ae(r,n)):($e=e,e=o),Ye--,e===o&&(r=o,0===Ye&&ut(Se)),e}function It(){var e,r;return Ye++,e=$e,t.substr($e,2)===Pe?(r=Pe,$e+=2):(r=o,0===Ye&&ut(Ne)),r!==o&&(Ke=e,r=ke()),Ye--,(e=r)===o&&(r=o,0===Ye&&ut(xe)),e}function Ct(){var e,r,n,i,s,a;if(e=$e,39===t.charCodeAt($e)?(r=U,$e++):(r=o,0===Ye&&ut(Z)),r!==o)if(n=function(){var e,r,n,i;e=$e,r=$e,t.length>$e?(n=t.charAt($e),$e++):(n=o,0===Ye&&ut(E));n!==o?(Ke=$e,(i=(i=Le(n))?void 0:o)!==o?r=n=[n,i]:($e=r,r=o)):($e=r,r=o);e=r!==o?t.substring(e,$e):r;return e}(),n!==o){for(i=$e,s=[],t.substr($e,2)===Pe?(a=Pe,$e+=2):(a=o,0===Ye&&ut(Ne)),a===o&&(W.test(t.charAt($e))?(a=t.charAt($e),$e++):(a=o,0===Ye&&ut(V)));a!==o;)s.push(a),t.substr($e,2)===Pe?(a=Pe,$e+=2):(a=o,0===Ye&&ut(Ne)),a===o&&(W.test(t.charAt($e))?(a=t.charAt($e),$e++):(a=o,0===Ye&&ut(V)));(i=s!==o?t.substring(i,$e):s)!==o?(39===t.charCodeAt($e)?(s=U,$e++):(s=o,0===Ye&&ut(Z)),s===o&&(s=null),s!==o?(Ke=e,e=r=Te(n,i)):($e=e,e=o)):($e=e,e=o)}else $e=e,e=o;else $e=e,e=o;return e}function At(){var e,r,n,i;return e=$e,r=$e,t.length>$e?(n=t.charAt($e),$e++):(n=o,0===Ye&&ut(E)),n!==o?(Ke=$e,(i=(i=Re(n))?void 0:o)!==o?r=n=[n,i]:($e=r,r=o)):($e=r,r=o),r===o&&(10===t.charCodeAt($e)?(r=De,$e++):(r=o,0===Ye&&ut(je))),e=r!==o?t.substring(e,$e):r}function xt(){var e,r;return Ye++,e=$e,(r=Pt())===o&&(r=Nt()),e=r!==o?t.substring(e,$e):r,Ye--,e===o&&(r=o,0===Ye&&ut(Me)),e}function Pt(){var e,r,n,i,s;if(Ye++,e=$e,48===t.charCodeAt($e)?(r=Be,$e++):(r=o,0===Ye&&ut(He)),r!==o&&(Ke=e,r=Ue()),(e=r)===o){if(e=$e,r=$e,Ze.test(t.charAt($e))?(n=t.charAt($e),$e++):(n=o,0===Ye&&ut(We)),n!==o){for(i=[],Ve.test(t.charAt($e))?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(qe));s!==o;)i.push(s),Ve.test(t.charAt($e))?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(qe));i!==o?r=n=[n,i]:($e=r,r=o)}else $e=r,r=o;r!==o&&(Ke=e,r=ze(r)),e=r}return Ye--,e===o&&(r=o,0===Ye&&ut(Fe)),e}function Nt(){var e,r,n,i,s;if(Ye++,e=$e,r=[],n=$e,i=$e,Ye++,(s=wt())===o&&(s=Ot()),Ye--,s===o?i=void 0:($e=i,i=o),i!==o?(t.length>$e?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(E)),s!==o?n=i=[i,s]:($e=n,n=o)):($e=n,n=o),n!==o)for(;n!==o;)r.push(n),n=$e,i=$e,Ye++,(s=wt())===o&&(s=Ot()),Ye--,s===o?i=void 0:($e=i,i=o),i!==o?(t.length>$e?(s=t.charAt($e),$e++):(s=o,0===Ye&&ut(E)),s!==o?n=i=[i,s]:($e=n,n=o)):($e=n,n=o);else r=o;return e=r!==o?t.substring(e,$e):r,Ye--,e===o&&(r=o,0===Ye&&ut(Ge)),e}var kt=["root"];function Tt(){return"plural"===kt[kt.length-1]}function Rt(){return r&&r.captureLocation?{location:tt()}:{}}if((n=s())!==o&&$e===t.length)return n;throw n!==o&&$e<t.length&&ut({type:"end"}),ct(Qe,Je<t.length?t.charAt(Je):null,Je<t.length?at(Je,Je+1):at(Je,Je))},b=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},_=/(^|[^\\])#/g;function w(e){e.forEach((function(e){(l(e)||c(e))&&Object.keys(e.options).forEach((function(t){for(var r,o=e.options[t],i=-1,s=void 0,a=0;a<o.value.length;a++){var u=o.value[a];if(n(u)&&_.test(u.value)){i=a,s=u;break}}if(s){var c=s.value.replace(_,"$1{"+e.value+", number}"),l=y(c);(r=o.value).splice.apply(r,b([i,1],l))}w(o.value)}))}))}function O(e,t){var r=y(e,t);return t&&!1===t.normalizeHashtagInPlural||w(r),r}var E=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n};function S(e){return JSON.stringify(e.map((function(e){return e&&"object"==typeof e?(t=e,Object.keys(t).sort().map((function(e){var r;return(r={})[e]=t[e],r}))):e;var t})))}const I=function(e,t){return void 0===t&&(t={}),function(){for(var r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=S(n),s=i&&t[i];return s||(s=new((r=e).bind.apply(r,E([void 0],n))),i&&(t[i]=s)),s}};var C=function(){return C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)},A=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function x(e){var t={};return e.replace(A,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""})),t}var P=/^\.(?:(0+)(\+|#+)?)?$/g,N=/^(@+)?(\+|#+)?$/g;function k(e){var t={};return e.replace(N,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function T(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function R(e){var t=T(e);return t||{}}function D(e){for(var t={},r=0,n=e;r<n.length;r++){var o=n[r];switch(o.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=C(C(C({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return C(C({},e),R(t))}),{}));continue;case"engineering":t=C(C(C({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return C(C({},e),R(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(P.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(P,(function(e,r,n){return"."===e?t.maximumFractionDigits=0:"+"===n?t.minimumFractionDigits=n.length:"#"===r[0]?t.maximumFractionDigits=r.length:(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length+("string"==typeof n?n.length:0)),""})),o.options.length&&(t=C(C({},t),k(o.options[0])))}else if(N.test(o.stem))t=C(C({},t),k(o.stem));else{var i=T(o.stem);i&&(t=C(C({},t),i))}}return t}var j,L=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),M=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},F=function(e){function t(t,r){var n=e.call(this,t)||this;return n.variableId=r,n}return L(t,e),t}(Error);function B(e,t,r,u,f,g,m){if(1===e.length&&n(e[0]))return[{type:0,value:e[0].value}];for(var v,y=[],b=0,_=e;b<_.length;b++){var w=_[b];if(n(w))y.push({type:0,value:w.value});else if(d(w))"number"==typeof g&&y.push({type:0,value:r.getNumberFormat(t).format(g)});else{var O=w.value;if(!f||!(O in f))throw new F('The intl string context variable "'+O+'" was not provided to the string "'+m+'"');var E=f[O];if(o(w))E&&"string"!=typeof E&&"number"!=typeof E||(E="string"==typeof E||"number"==typeof E?String(E):""),y.push({type:1,value:E});else if(s(w)){var S="string"==typeof w.style?u.date[w.style]:void 0;y.push({type:0,value:r.getDateTimeFormat(t,S).format(E)})}else if(a(w)){S="string"==typeof w.style?u.time[w.style]:h(w.style)?x(w.style.pattern):void 0;y.push({type:0,value:r.getDateTimeFormat(t,S).format(E)})}else if(i(w)){S="string"==typeof w.style?u.number[w.style]:p(w.style)?D(w.style.tokens):void 0;y.push({type:0,value:r.getNumberFormat(t,S).format(E)})}else if(c(w)){if(!(I=w.options[E]||w.options.other))throw new RangeError('Invalid values for "'+w.value+'": "'+E+'". Options are "'+Object.keys(w.options).join('", "')+'"');y.push.apply(y,B(I.value,t,r,u,f))}else if(l(w)){var I;if(!(I=w.options["="+E])){if(!Intl.PluralRules)throw new F('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n');var C=r.getPluralRules(t,{type:w.pluralType}).select(E-(w.offset||0));I=w.options[C]||w.options.other}if(!I)throw new RangeError('Invalid values for "'+w.value+'": "'+E+'". Options are "'+Object.keys(w.options).join('", "')+'"');y.push.apply(y,B(I.value,t,r,u,f,E-(w.offset||0)))}else;}}return(v=y).length<2?v:v.reduce((function(e,t){var r=e[e.length-1];return r&&0===r.type&&0===t.type?r.value+=t.value:e.push(t),e}),[])}var H=/@@(\d+_\d+)@@/g,U=0;function Z(e,t){return e.split(H).filter(Boolean).map((function(e){return null!=t[e]?t[e]:e})).reduce((function(e,t){return e.length&&"string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e}),[])}var W=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,V=Date.now()+"@@",q=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function z(e,t,r){var n=e.tagName,o=e.outerHTML,i=e.textContent,s=e.childNodes;if(!n)return Z(i||"",t);n=n.toLowerCase();var a=~q.indexOf(n),u=r[n];if(u&&a)throw new F(n+" is a self-closing tag and can not be used, please use another tag name.");if(!s.length)return[o];var c=Array.prototype.slice.call(s).reduce((function(e,n){return e.concat(z(n,t,r))}),[]);return u?"function"==typeof u?[u.apply(void 0,c)]:[u]:M(["<"+n+">"],c,["</"+n+">"])}function G(e,t,r,n,o,i){var s=B(e,t,r,n,o,void 0,i),a={},u=s.reduce((function(e,t){if(0===t.type)return e+t.value;var r=Date.now()+"_"+ ++U;return a[r]=t.value,e+"@@"+r+"@@"}),"");if(!W.test(u))return Z(u,a);if(!o)throw new F("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new F("Cannot format XML message without DOMParser");j||(j=new DOMParser);var c=j.parseFromString('<formatted-message id="'+V+'">'+u+"</formatted-message>","text/html").getElementById(V);if(!c)throw new F("Malformed HTML message "+u);var l=Object.keys(o).filter((function(e){return!!c.getElementsByTagName(e).length}));if(!l.length)return Z(u,a);var d=l.filter((function(e){return e!==e.toLowerCase()}));if(d.length)throw new F("HTML tag must be lowercased but the following tags are not: "+d.join(", "));return Array.prototype.slice.call(c.childNodes).reduce((function(e,t){return e.concat(z(t,a,o))}),[])}var $=function(){return $=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$.apply(this,arguments)};function K(e,t){return t?Object.keys(e).reduce((function(r,n){var o,i;return r[n]=(o=e[n],(i=t[n])?$($($({},o||{}),i||{}),Object.keys(o).reduce((function(e,t){return e[t]=$($({},o[t]),i[t]||{}),e}),{})):o),r}),$({},e)):e}var X=function(){function e(t,r,n,o){var i=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){return function(e,t,r,n,o,i){var s=B(e,t,r,n,o,void 0,i);return 1===s.length?s[0].value:s.reduce((function(e,t){return e+t.value}),"")}(i.ast,i.locales,i.formatters,i.formats,e,i.message)},this.formatToParts=function(e){return B(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.formatHTMLMessage=function(e){return G(i.ast,i.locales,i.formatters,i.formats,e,i.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=K(e.formats,n),this.locales=r,this.formatters=o&&o.formatters||function(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:I(Intl.NumberFormat,e.number),getDateTimeFormat:I(Intl.DateTimeFormat,e.dateTime),getPluralRules:I(Intl.PluralRules,e.pluralRules)}}(this.formatterCache)}return e.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,e.__parse=O,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const J=X;function Q(e,t,r){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}const i="string"!=typeof t?[].concat(t):t.split(".");for(;i.length>1;){if(o())return{};const t=n(i.shift());!e[t]&&r&&(e[t]=new r),e=e[t]}return o()?{}:{obj:e,k:n(i.shift())}}const Y=[],ee=Y.forEach,te=Y.slice;class re{constructor(e){this.type="i18nFormat",this.mem={},this.init(null,e)}init(e,t){const r=e&&e.options&&e.options.i18nFormat||{};if(this.options=function(e){return ee.call(te.call(arguments,1),(function(t){if(t)for(const r in t)void 0===e[r]&&(e[r]=t[r])})),e}(r,t,this.options||{},{memoize:!0,memoizeFallback:!1,bindI18n:"",bindI18nStore:void 0,parseErrorHandler:(e,t,r)=>r}),this.formats=this.options?.formats,e){const{bindI18n:t,bindI18nStore:r,memoize:n}=this.options;e.IntlMessageFormat=J,e.ICU=this,n&&(t&&e.on(t,(()=>this.clearCache())),r&&e.store.on(r,(()=>this.clearCache())))}this.options?.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach((e=>this.addLocaleData(e))):this.addLocaleData(this.options.localeData))}addLocaleData(e){(Array.isArray(e)?e:[e]).forEach((e=>{e&&e.locale&&J.__addLocaleData(e)}))}addUserDefinedFormats(e){this.formats=this.formats?{...this.formats,...e}:e}parse(e,t,r,n,o,i){const s=i&&i.resolved&&i.resolved.res,a=this.options?.memoize&&`${r}.${n}.${o.replace(/\./g,"###")}`;let u;this.options?.memoize&&(u=function(e,t){const{obj:r,k:n}=Q(e,t);if(r)return r[n]}(this.mem,a));try{return u||(u=new J(e,r,this.formats),this.options?.memoize&&(this.options.memoizeFallback||!i||s)&&function(e,t,r){const{obj:n,k:o}=Q(e,t,Object);n[o]=r}(this.mem,a,u)),u.format(t)}catch(r){return this.options?.parseErrorHandler?.(r,o,e,t)}}addLookupKeys(e){return e}clearCache(){this.mem={}}}re.type="i18nFormat";const ne=re;function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:t+""}function se(e,t,r){return(t=ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){se(e,t,r[t])}))}return e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function le(e,t,r){return t&&ce(e.prototype,t),r&&ce(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t){if(t&&("object"==oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},he(e,t)}function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}var me={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},ve=new(function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ue(this,e),this.init(t,r)}return le(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||me,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,r,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,ae({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),ye=function(){function e(){ue(this,e),this.observers={}}return le(e,[{key:"on",value:function(e,t){var r=this;return e.split(" ").forEach((function(e){r.observers[e]=r.observers[e]||[],r.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,r)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(r))}))}}]),e}();function be(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r}function _e(e){return null==e?"":""+e}function we(e,t,r){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var s=n(i.shift());!e[s]&&r&&(e[s]=new r),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return o()?{}:{obj:e,k:n(i.shift())}}function Oe(e,t,r){var n=we(e,t,Object);n.obj[n.k]=r}function Ee(e,t){var r=we(e,t),n=r.obj,o=r.k;if(n)return n[o]}function Se(e,t,r){var n=Ee(e,r);return void 0!==n?n:Ee(t,r)}function Ie(e,t,r){for(var n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?r&&(e[n]=t[n]):Ie(e[n],t[n],r):e[n]=t[n]);return e}function Ce(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function xe(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Ae[e]})):e}var Pe="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Ne=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ue(this,t),r=pe(this,fe(t).call(this)),Pe&&ye.call(de(r)),r.data=e||{},r.options=n,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r}return ge(t,e),le(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=[e,t];return r&&"string"!=typeof r&&(i=i.concat(r)),r&&"string"==typeof r&&(i=i.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(i=e.split(".")),Ee(this.data,i)}},{key:"addResource",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var s=[e,t];r&&(s=s.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(n=t,t=(s=e.split("."))[1]),this.addNamespaces(t),Oe(this.data,s,n),o.silent||this.emit("added",e,t,r,n)}},{key:"addResources",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in r)"string"!=typeof r[o]&&"[object Array]"!==Object.prototype.toString.apply(r[o])||this.addResource(e,t,o,r[o],{silent:!0});n.silent||this.emit("added",e,t,r)}},{key:"addResourceBundle",value:function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(n=r,r=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=Ee(this.data,s)||{};n?Ie(a,r,o):a=ae({},a,r),Oe(this.data,s,a),i.silent||this.emit("added",e,t,r)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?ae({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(ye),ke={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,r,n,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,r,n,o))})),t}},Te={},Re=function(e){function t(e){var r,n,o,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ue(this,t),r=pe(this,fe(t).call(this)),Pe&&ye.call(de(r)),n=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o=e,i=de(r),n.forEach((function(e){o[e]&&(i[e]=o[e])})),r.options=s,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=ve.create("translator"),r}return ge(t,e),le(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=this.resolve(e,t);return r&&void 0!==r.res}},{key:"extractFromKey",value:function(e,t){var r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");var n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS;if(r&&e.indexOf(r)>-1){var i=e.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:e,namespaces:o};var s=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(s[0])>-1)&&(o=s.shift()),e=s.join(n)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,r,n){var o=this;if("object"!==oe(r)&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),r||(r={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],r),a=s.key,u=s.namespaces,c=u[u.length-1],l=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(d){var p=r.nsSeparator||this.options.nsSeparator;return c+p+a}return a}var f=this.resolve(e,r),h=f&&f.res,g=f&&f.usedKey||a,m=f&&f.exactUsedKey||a,v=Object.prototype.toString.apply(h),y=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&h&&("string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof y||"[object Array]"!==v)){if(!r.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,h,r):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(i){var _="[object Array]"===v,w=_?[]:{},O=_?m:g;for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var S="".concat(O).concat(i).concat(E);w[E]=this.translate(S,ae({},r,{joinArrays:!1,ns:u})),w[E]===S&&(w[E]=h[E])}h=w}}else if(b&&"string"==typeof y&&"[object Array]"===v)(h=h.join(y))&&(h=this.extendTranslation(h,e,r,n));else{var I=!1,C=!1,A=void 0!==r.count&&"string"!=typeof r.count,x=t.hasDefaultValue(r),P=A?this.pluralResolver.getSuffix(l,r.count):"",N=r["defaultValue".concat(P)]||r.defaultValue;!this.isValidLookup(h)&&x&&(I=!0,h=N),this.isValidLookup(h)||(C=!0,h=a);var k=x&&N!==h&&this.options.updateMissing;if(C||I||k){if(this.logger.log(k?"updateKey":"missingKey",l,c,a,k?N:h),i){var T=this.resolve(a,ae({},r,{keySeparator:!1}));T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var R=[],D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&D&&D[0])for(var j=0;j<D.length;j++)R.push(D[j]);else"all"===this.options.saveMissingTo?R=this.languageUtils.toResolveHierarchy(r.lng||this.language):R.push(r.lng||this.language);var L=function(e,t,n){o.options.missingKeyHandler?o.options.missingKeyHandler(e,c,t,k?n:h,k,r):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,c,t,k?n:h,k,r),o.emit("missingKey",e,c,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?R.forEach((function(e){o.pluralResolver.getSuffixes(e).forEach((function(t){L([e],a+t,r["defaultValue".concat(t)]||N)}))})):L(R,a,N))}h=this.extendTranslation(h,e,r,f,n),C&&h===a&&this.options.appendNamespaceToMissingKey&&(h="".concat(c,":").concat(a)),C&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h}},{key:"extendTranslation",value:function(e,t,r,n,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,r,n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(ae({},r,{interpolation:ae({},this.options.interpolation,r.interpolation)}));var s,a=r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(a){var u=e.match(this.interpolator.nestingRegexp);s=u&&u.length}var c=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(c=ae({},this.options.interpolation.defaultVariables,c)),e=this.interpolator.interpolate(e,c,r.lng||this.language,r),a){var l=e.match(this.interpolator.nestingRegexp);s<(l&&l.length)&&(r.nest=!1)}!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return o&&o[0]===n[0]&&!r.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(t[0])),null):i.translate.apply(i,n.concat([t]))}),r)),r.interpolation&&this.interpolator.reset()}var d=r.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==r.applyPostProcessor&&(e=ke.handle(p,e,t,this.options&&this.options.postProcessPassResolved?ae({i18nResolved:n},r):r,this)),e}},{key:"resolve",value:function(e){var t,r,n,o,i,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var u=s.extractFromKey(e,a),c=u.key;r=c;var l=u.namespaces;s.options.fallbackNS&&(l=l.concat(s.options.fallbackNS));var d=void 0!==a.count&&"string"!=typeof a.count,p=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,f=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);l.forEach((function(e){s.isValidLookup(t)||(i=e,!Te["".concat(f[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(i)&&(Te["".concat(f[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(r,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(r){if(!s.isValidLookup(t)){o=r;var i,u,l=c,f=[l];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(f,c,r,e,a);else d&&(i=s.pluralResolver.getSuffix(r,a.count)),d&&p&&f.push(l+i),p&&f.push(l+="".concat(s.options.contextSeparator).concat(a.context)),d&&f.push(l+=i);for(;u=f.pop();)s.isValidLookup(t)||(n=u,t=s.getResource(r,e,u,a))}})))}))}})),{res:t,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}]),t}(ye);function De(e){return e.charAt(0).toUpperCase()+e.slice(1)}var je=function(){function e(t){ue(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ve.create("languageUtils")}return le(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map((function(e){return e.toLowerCase()})):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=De(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=De(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=De(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,r=this;return e?(e.forEach((function(e){if(!t){var n=r.formatLanguageCode(e);r.options.supportedLngs&&!r.isSupportedCode(n)||(t=n)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var n=r.getLanguagePartFromCode(e);if(r.isSupportedCode(n))return t=n;t=r.options.supportedLngs.find((function(e){if(0===e.indexOf(n))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}},{key:"toResolveHierarchy",value:function(e,t){var r=this,n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(r.isSupportedCode(e)?o.push(e):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),n.forEach((function(e){o.indexOf(e)<0&&i(r.formatLanguageCode(e))})),o}}]),e}(),Le=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Me={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};var Fe=function(){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ue(this,e),this.languageUtils=t,this.options=n,this.logger=ve.create("pluralResolver"),this.rules=(r={},Le.forEach((function(e){e.lngs.forEach((function(t){r[t]={numbers:e.nr,plurals:Me[e.fc]}}))})),r)}return le(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,r=this.getRule(e);return r?r.numbers.map((function(r){return t.getSuffix(e,r)})):[]}},{key:"getSuffix",value:function(e,t){var r=this,n=this.getRule(e);if(n){var o=n.noAbs?n.plurals(t):n.plurals(Math.abs(t)),i=n.numbers[o];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var s=function(){return r.options.prepend&&i.toString()?r.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),Be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ue(this,e),this.logger=ve.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return le(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:xe,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Ce(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Ce(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Ce(t.nestingPrefix):t.nestingPrefixEscaped||Ce("$t("),this.nestingSuffix=t.nestingSuffix?Ce(t.nestingSuffix):t.nestingSuffixEscaped||Ce(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(e,t,r,n){var o,i,s,a=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(a.formatSeparator)<0){var o=Se(t,u,e);return a.alwaysFormat?a.format(o,void 0,r):o}var i=e.split(a.formatSeparator),s=i.shift().trim(),c=i.join(a.formatSeparator).trim();return a.format(Se(t,u,s),c,r,n)};this.resetRegExp();var d=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,p=n&&n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?c(a.escape(e)):c(e)}}].forEach((function(t){for(s=0;o=t.regex.exec(e);){if(void 0===(i=l(o[1].trim())))if("function"==typeof d){var r=d(e,o,n);i="string"==typeof r?r:""}else{if(p){i=o[0];continue}a.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(e)),i=""}else"string"==typeof i||a.useRawValueToEscape||(i=_e(i));if(e=e.replace(o[0],t.safeValue(i)),t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var r,n,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=ae({},i);function a(e,t){var r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;var n=e.split(new RegExp("".concat(r,"[ ]*{"))),o="{".concat(n[1]);e=n[0],o=(o=this.interpolate(o,s)).replace(/'/g,'"');try{s=JSON.parse(o),t&&(s=ae({},t,s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(r).concat(o)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;r=this.nestingRegexp.exec(e);){var u=[],c=!1;if(r[0].includes(this.formatSeparator)&&!/{.*}/.test(r[1])){var l=r[1].split(this.formatSeparator).map((function(e){return e.trim()}));r[1]=l.shift(),u=l,c=!0}if((n=t(a.call(this,r[1].trim(),s),s))&&r[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=_e(n)),n||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),n=""),c&&(n=u.reduce((function(e,t){return o.format(e,t,i.lng,i)}),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}]),e}();var He=function(e){function t(e,r,n){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ue(this,t),o=pe(this,fe(t).call(this)),Pe&&ye.call(de(o)),o.backend=e,o.store=r,o.services=n,o.languageUtils=n.languageUtils,o.options=i,o.logger=ve.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,i.backend,i),o}return ge(t,e),le(t,[{key:"queueLoad",value:function(e,t,r,n){var o=this,i=[],s=[],a=[],u=[];return e.forEach((function(e){var n=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!r.reload&&o.store.hasResourceBundle(e,t)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?s.indexOf(a)<0&&s.push(a):(o.state[a]=1,n=!1,s.indexOf(a)<0&&s.push(a),i.indexOf(a)<0&&i.push(a),u.indexOf(t)<0&&u.push(t)))})),n||a.push(e)})),(i.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:n}),{toLoad:i,pending:s,toLoadLanguages:a,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,r){var n=e.split("|"),o=n[0],i=n[1];t&&this.emit("failedLoading",o,i,t),r&&this.store.addResourceBundle(o,i,r),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(r){var n,a,u,c,l,d;n=r.loaded,a=i,c=we(n,[o],Object),l=c.obj,d=c.k,l[d]=l[d]||[],u&&(l[d]=l[d].concat(a)),u||l[d].push(a),function(e,t){for(var r=e.indexOf(t);-1!==r;)e.splice(r,1),r=e.indexOf(t)}(r.pending,e),t&&r.errors.push(t),0!==r.pending.length||r.done||(Object.keys(r.loaded).forEach((function(e){s[e]||(s[e]=[]),r.loaded[e].length&&r.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[r](e,t,(function(a,u){a&&u&&o<5?setTimeout((function(){n.read.call(n,e,t,r,o+1,2*i,s)}),i):s(a,u)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,n,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){r.loadOne(e)}))}},{key:"load",value:function(e,t,r){this.prepareLoading(e,t,{},r)}},{key:"reload",value:function(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}},{key:"loadOne",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),o=n[0],i=n[1];this.read(o,i,"read",void 0,void 0,(function(n,s){n&&t.logger.warn("".concat(r,"loading namespace ").concat(i," for language ").concat(o," failed"),n),!n&&s&&t.logger.log("".concat(r,"loaded namespace ").concat(i," for language ").concat(o),s),t.loaded(e,n,s)}))}},{key:"saveMissing",value:function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=r&&""!==r&&(this.backend&&this.backend.create&&this.backend.create(e,t,r,n,null,ae({},i,{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,r,n))}}]),t}(ye);function Ue(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ze(){}const We=new(function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(ue(this,t),e=pe(this,fe(t).call(this)),Pe&&ye.call(de(e)),e.options=Ue(r),e.services={},e.logger=ve,e.modules={external:[]},n&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,n),pe(e,de(e));setTimeout((function(){e.init(r,n)}),0)}return e}return ge(t,e),le(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;function n(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(r=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=ae({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===oe(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===oe(e[2])||"object"===oe(e[3])){var r=e[3]||e[2];Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,r,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,Ue(t)),this.format=this.options.interpolation.format,r||(r=Ze),!this.options.isClone){this.modules.logger?ve.init(n(this.modules.logger),this.options):ve.init(null,this.options);var o=new je(this.options);this.store=new Ne(this.options.resources,this.options);var i=this.services;i.logger=ve,i.resourceStore=this.store,i.languageUtils=o,i.pluralResolver=new Fe(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new Be(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new He(n(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit.apply(e,[t].concat(n))})),this.modules.languageDetector&&(i.languageDetector=n(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=n(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Re(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit.apply(e,[t].concat(n))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.length>0&&"dev"!==s[0]&&(this.options.lng=s[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var r;return(r=e.store)[t].apply(r,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var r;return(r=e.store)[t].apply(r,arguments),e}}));var a=be(),u=function(){var t=function(t,n){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),a.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),a}},{key:"loadResources",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze,n="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return r();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(n)i(n);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)}));this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,r){var n=be();return e||(e=this.languages),t||(t=this.options.ns),r||(r=Ze),this.services.backendConnector.reload(e,t,(function(e){n.resolve(),r(e)})),n}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ke.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var r=this;this.isLanguageChangingTo=e;var n=be();this.emit("languageChanging",e);var o=function(e){var o="string"==typeof e?e:r.services.languageUtils.getBestMatchFromCodes(e);o&&(r.language||(r.language=o,r.languages=r.services.languageUtils.toResolveHierarchy(o)),r.translator.language||r.translator.changeLanguage(o),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage(o)),r.loadResources(o,(function(e){!function(e,o){o?(r.language=o,r.languages=r.services.languageUtils.toResolveHierarchy(o),r.translator.changeLanguage(o),r.isLanguageChangingTo=void 0,r.emit("languageChanged",o),r.logger.log("languageChanged",o)):r.isLanguageChangingTo=void 0,n.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t){var r=this,n=function e(t,n){var o;if("object"!==oe(n)){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];o=r.options.overloadTranslationOptionHandler([t,n].concat(s))}else o=ae({},n);return o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,r.t(t,o)};return"string"==typeof e?n.lng=e:n.lngs=e,n.ns=t,n}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var s=function(e,r){var n=t.services.backendConnector.state["".concat(e,"|").concat(r)];return-1===n||2===n};if(r.precheck){var a=r.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(n,e)||(!this.services.backendConnector.backend||!(!s(n,e)||o&&!s(i,e)))}},{key:"loadNamespaces",value:function(e,t){var r=this,n=be();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){r.options.ns.indexOf(e)<0&&r.options.ns.push(e)})),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var r=be();"string"==typeof e&&(e=[e]);var n=this.options.preload||[],o=e.filter((function(e){return n.indexOf(e)<0}));return o.length?(this.options.preload=n.concat(o),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze,o=ae({},this.options,r,{isClone:!0}),i=new t(o);return["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=ae({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Re(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.emit.apply(i,[e].concat(r))})),i.init(o,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}}]),t}(ye));function Ve({icuOptions:e={},...t}){const{parseErrorHandler:r}=t;return function({locale:e,asyncMessagesLoader:t,messages:r,useSuspense:n=!1,wait:o,disableAutoInit:i=!1,bindI18n:s},{icu:a}={}){const u={lng:e,fallbackLng:"en",keySeparator:!1,react:{useSuspense:n,bindI18n:s,wait:o},_polyfill:{isLoading:!1}},c=We.createInstance(i?u:void 0);return a&&c.use(a),t&&c.use({type:"backend",read:async(e,r,n)=>{try{return n(null,await t(e))}catch(e){return n(e,null)}}}),r&&(u.resources={[e]:{translation:r}}),i||c.init(u),c}(t,{icu:new ne({parseErrorHandler:r,bindI18n:t.bindI18n,...e})})}var qe=u(3653),ze=u.n(qe),Ge=u(9685),$e=u.n(Ge);const Ke="www.wix.com",Xe="http",Je=9216;var Qe=u(3158);function Ye(){return"undefined"!=typeof window}function et(){var e;return void 0!==Qe&&null!=(null===(e=null==Qe?void 0:Qe.versions)||void 0===e?void 0:e.node)}function tt(){return"object"==typeof self?self:u.g}function rt(e){const t=function(e){return function(){const e=function(){if("object"==typeof document)return document}();if(e&&e.cookie)return decodeURIComponent(e.cookie).split(";");return[]}().filter((t=>e===t.split("=")[0].trim()))[0]}(e);return t?t.split("=")[1]:""}const nt="XSRF-TOKEN",ot="x-xsrf-token";const it="x-wix-brand";function st(){const e=function(){const e=tt();if(e&&e.commonConfig&&"string"==typeof e.commonConfig.brand)return e.commonConfig.brand;return""}();return{[it]:e}}function at(){return function(){const e=tt();if(e&&e.consentPolicyManager&&"function"==typeof e.consentPolicyManager._getConsentPolicyHeader)return e.consentPolicyManager._getConsentPolicyHeader();return}()||function(){const e=tt();if(e&&e.Wix&&e.Wix.Utils&&"function"==typeof e.Wix.Utils._getConsentPolicyHeader)return e.Wix.Utils._getConsentPolicyHeader();return}()||{}}var ut=u(3158);function ct(){return void 0!==ut&&null!=ut.versions?.node}function lt(e){const t=ct()?"fe-essentials-giza":"";return{"X-Wix-Client-Artifact-Id":e??(ct()&&(ut.env.TEAMCITY_VERSION||ut.env.BUILDKITE)?"":t)}}const dt=["consentPolicy","consentPolicyHeader"],pt={bsi:"BSI"};const ft=()=>{const e=function(){const e=tt(),t=e?.commonConfig;if(!t)return null;const r={};let n=!1;return Object.keys(t).forEach((e=>{const o=pt[e];o?(r[o]=t[e],n=!0):dt.indexOf(e)<0&&"function"!=typeof t[e]&&(r[e]=t[e],n=!0)})),n?r:null}(),t=e?JSON.stringify(e):"";return{commonConfig:encodeURIComponent(t)}};var ht=u(8144),gt=u.n(ht);const mt="x-wix-linguist";function vt({lang:e,locale:t,isPrimaryLanguage:r,signedInstance:n}){if(function({lang:e,locale:t,isPrimaryLanguage:r}){return e&&t&&/^(true|false)$/.test(r?.toString()||"")}({lang:e,locale:t,isPrimaryLanguage:r})){const o=function(e){try{const t=e?.startsWith("wixcode")?e?.split(".")[2]:e?.split(".")[1];if(t)return JSON.parse(gt().decode(t)).instanceId}catch(e){}}(n);if(void 0!==o)return{[mt]:[e,t,r?.toString(),o].join("|")}}return{}}class yt extends Error{constructor(e,t,r){super(`WixHeadersValidationError: expected ${t} to be ${e} but got ${JSON.stringify(r)}`)}}function bt(e={}){!function(e){(function(e,t){if("boolean"!=typeof t)throw new yt("boolean",e,t)})("opts.csrf",e.csrf),function(e,t){if("string"!=typeof t)throw new yt("string",e,t)}("opts.signedInstance",e.signedInstance)}(e={csrf:!0,signedInstance:"",...e});const t=[st(),at(),(r=e.signedInstance,{authorization:r}),lt(e.artifactId),ft(),vt({signedInstance:e.signedInstance,...e.multilingualOptions})];var r;return e.csrf&&t.push(function(){const e=rt(nt);return{[ot]:e}}()),t.filter((e=>Object.values(e).every((e=>e)))).reduce(((e,t)=>({...e,...t})),{})}var _t=u(3158);function wt(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return/(^https?:)|(^\/\/)/.test(e)}async function Ot(e){try{await e()}catch(e){}}function Et(e,t){return t.split(".").filter((e=>e)).reduce(((e,t)=>e[t]),e)}function St(e){try{return new URL(e).protocol}catch(t){return Ct(e).protocol}}function It(e){let t;try{t=new URL(e)}catch(r){t=new URL(`http:${e}`)}try{return t.host}catch(t){return Ct(e).host}}function Ct(e){const t=new RegExp("^(.*:)//([A-Za-z0-9-.]+)(:[0-9]+)?(.*)$");try{const r=t.exec(e);return{protocol:r[1],host:r[2]}}catch(e){return{protocol:"http:",host:""}}}function At(e,t){let r;try{r=new URL(e),r.host=t,r.protocol="http"}catch(n){r=new URL(`http://${t}`),r.pathname=e}return r.toString()}function xt(){let e;if(et()&&_t.env.HTTP_CLIENT_GLOBAL_CONFIG)try{e=JSON.parse(_t.env.HTTP_CLIENT_GLOBAL_CONFIG)}catch(e){}var t;return e||(Ye()?e=window._httpClientGlobalConfig:"object"==typeof self&&(null===(t=null===self||void 0===self?void 0:self.constructor)||void 0===t||t.name)),e||{httpMockServer:{enabled:!1}}}const Pt=JSON.parse('["wix.com","editorx.com","wix-code.com","wixapps.net","wixprod.net"]');function Nt(e){var t;return(null===(t=null==e?void 0:e.headers)||void 0===t?void 0:t["x-wix-request-id"])||""}function kt(e){if(!wt(e))return!0;const t=`.${It(e)}`;return!!Pt.find((e=>t.endsWith(`.${e}`)))}const Tt=["code","config","request","response","toJSON","__CANCEL__"];class Rt extends Error{constructor(e){super(e.message),this.isWixHttpError=!0,Object.setPrototypeOf(this,Rt.prototype),Tt.forEach((t=>{this[t]=e[t]}))}get requestId(){return Nt(this.response)}}const Dt=({requestOptions:e,urlObject:t,headers:r,globalConfig:n={httpMockServer:{enabled:!1}}})=>{const{url:o,method:i,params:s,fallback:a}=e;if(s){if("object"!=typeof s)throw new Error("Search params must be an object");if((null==a?void 0:a.length)&&"GET"===i&&!Ft(e)){const t=function(e){for(const t of e)if("GET"!==t.method||Ft(t))return t}(a);t&&(e=Object.assign(Object.assign({},e),t),"POST"===t.method&&(e.params=void 0))}}const u=function(e,t){if(t.httpMockServer.enabled){return{url:At(e,new URL(t.httpMockServer.mockServerUrl).host)}}return{}}(o,n);return Object.assign(Object.assign(Object.assign({},e),u),{headers:r})},jt=(e,t,r={httpMockServer:{enabled:!1}},n)=>{const{url:o,disableWixHeaders:i,headers:s,includeWixHeaders:a}=e,u=(({url:e,disableWixHeaders:t,includeWixHeaders:r,wixHeadersOpts:n})=>r||!t&&kt(e)?bt(n):{})({url:o,disableWixHeaders:i,includeWixHeaders:a,wixHeadersOpts:t}),c=Lt(r,e,n);return Object.assign(Object.assign(Object.assign({},u),function(e){e=e||{};return Object.keys(e).reduce(((t,r)=>Object.assign(Object.assign({},t),{[r.toLowerCase()]:e[r]})),{})}(s)),c)},Lt=(e,t,r)=>{const{url:n,params:o}=t,{host:i,protocol:s}=r;return e.httpMockServer.enabled?{"x-wix-metro-original-url":Mt(n,o),"x-wix-metro-original-host":wt(n)?It(n):i,"x-wix-metro-original-protocol":wt(n)?St(n):s}:{}};function Mt(e,t){const{pathname:r,searchParams:n}=new URL(e,"http://unused.com");if(t=t||n){const e=function(e){return Object.entries(e).map((([e,t])=>`${e}=${encodeURIComponent(t)}`)).flat().join("&")}(t)||t.toString();return`${r}${e?`?${e}`:""}`}return r}function Ft(e){if("GET"!==e.method)return!1;const{url:t,params:r}=e;return`${t}${r}`.length<Je}class Bt{constructor(e={}){this.opts=e,this.opts=function(e){let t=e.adapter;t||(t=$e(),et()&&(t=function(){return require("axios/lib/adapters/http");return u(9685)}()));return Object.assign({adapter:t,isSSR:!1},e)}(this.opts),this.client=ze().create(this.opts),this.flags={sanitizerPocEnabled:Ht()}}static isHttpError(e){return!!(null==e?void 0:e.isWixHttpError)}setErrorHandler(e){this.opts.errorHandler=e}async request(e,t){var r,n;const o=(i=this.opts).baseURL?It(i.baseURL):i.isSSR?Ke:"undefined"!=typeof self&&self.location?self.location.host:"";var i;const s=function(e){return e.baseURL?St(e.baseURL):e.isSSR?Xe:"undefined"!=typeof self&&self.location?self.location.protocol:""}(this.opts),a={protocol:s,host:o},u="function"==typeof e?e({isSSR:this.opts.isSSR,host:o}):e,c=(null==t?void 0:t.signedInstance)||await(null===(n=(r=this.opts).getAppToken)||void 0===n?void 0:n.call(r))||"",l=this.getHeaders(u,c,a),d=Dt({requestOptions:u,urlObject:a,headers:l,globalConfig:xt()});this.opts.isSSR&&(d.baseURL=this.opts.baseURL?this.opts.baseURL:`${Xe}://${Ke}`);try{const e=await this.client.request(d).catch((e=>this.maybeFallbackRequest(e,u,a,c)));return this.transformResponse(e,u)}catch(e){this.handleRequestError(e,d)}}async get(e,t){const r=Object.assign(Object.assign({},t),{url:e,method:"GET"});return this.request(r)}async delete(e,t){const r=Object.assign(Object.assign({},t),{url:e,method:"DELETE"});return this.request(r)}async head(e,t){const r=Object.assign(Object.assign({},t),{url:e,method:"HEAD"});return this.request(r)}async options(e,t){const r=Object.assign(Object.assign({},t),{url:e,method:"OPTIONS"});return this.request(r)}async post(e,t,r){const n=Object.assign(Object.assign({},r),{url:e,data:t,method:"POST"});return this.request(n)}async put(e,t,r){const n=Object.assign(Object.assign({},r),{url:e,data:t,method:"PUT"});return this.request(n)}async patch(e,t,r){const n=Object.assign(Object.assign({},r),{url:e,data:t,method:"PATCH"});return this.request(n)}get CancelToken(){return ze().CancelToken}get isCancel(){return ze().isCancel}getHeaders(e,t,r){if("function"==typeof this.opts.createHeaders)return this.getCustomHeaders(e,t,r);const n={signedInstance:t,artifactId:this.opts.artifactId,csrf:!1,multilingualOptions:this.opts.multilingualOptions};return jt(e,n,xt(),r)}getCustomHeaders(e,t,r){const{url:n,headers:o}=e,i=t&&kt(n)?{authorization:t}:{},s=this.opts.createHeaders(),a=Lt(xt(),e,r);return Object.assign(Object.assign(Object.assign(Object.assign({},a),s),i),o)}handleRequestError(e,t){const r=function(...e){return new Rt(...e)}(e);throw Ot((()=>{var e;return null===(e=t.onError)||void 0===e?void 0:e.call(t,r)})),Ot((()=>{var e;return null===(e=this.opts.errorHandler)||void 0===e?void 0:e.handleError(r,{requestOptions:t})})),r}maybeFallbackRequest(e,t,r,n){var o,i,s;if(xt().httpMockServer.enabled&&xt().httpMockServer.allowUnmocked&&404===(null===(o=e.response)||void 0===o?void 0:o.status)&&"NO_SCENARIO_FOUND"===(null===(s=null===(i=e.response)||void 0===i?void 0:i.data)||void 0===s?void 0:s.msg)){const e=this.getHeaders(t,n,r),o=Dt({requestOptions:t,urlObject:r,headers:e});return this.client.request(o)}throw e}transformResponse(e,t){const r=Nt(e),n=function(e,t,r){let n=function(e,t){try{if(t.sanitizerPocEnabled){const t=performance.now(),r=new Sanitizer;if(e.headers["content-type"].includes("application/json")){console.log("[+] JSON Response detected, sanitizing data");const n=function(e){try{return Object.keys(e).forEach((t=>{"string"==typeof e[t]?e[t]=r.sanitizeFor("span",e[t]).innerHTML:"object"==typeof e[t]&&(e[t]=n(e[t]))})),e}catch(e){console.log(e)}},o=performance.now();return console.log(`Time taken: ${o-t} milliseconds.`),n(e.data)}}}catch(e){console.log("[+] Sanitizer API not supported: %o",e)}return e.data}(e,r);t._pickResponseBody&&(n=Et(e.data,t._pickResponseBody));if(t._logs){const r=Et(e.data,t._logs);(null==r?void 0:r.length)&&r.map((e=>console.log(...e)))}return n}(e,t,this.flags);return Object.assign(Object.assign({},e),{data:n,requestId:r})}}function Ht(){var e;try{return Ye()&&"true"===new URLSearchParams((null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.hash)||"").get("sanitizerPOC")}catch(e){return!1}}function Ut(...e){return new Bt(...e)}function Zt(e,t){const{category:r}=e,n=r&&("ui.click"===r||"ui.input"===r),o=t&&t.event&&t.event.target;if(n&&o){const t=o.closest("[data-hook]");if(t){const r=t.getAttribute("data-hook");e.message=o===t?`${e.message} [data-hook="${r}"]`:`${e.message} parent:[data-hook="${r}"]`}}return e}function Wt(){if("undefined"==typeof window)return"server";const{hostname:e}=window.location,{userAgent:t}=window.navigator,{cookie:r}=window.document,n=/(^|;)\s*automation\s*=\s*sled:/.test(r),o=/localhost|127\.0\.0\.1|::1|\.local|local.wix.com|^$/i.test(e),i=/Googlebot|AdsBot-Google-Mobile|bingbot|BingPreview|facebookexternalhit|Baiduspider|YandexBot/i.test(t),s=/BonEcho|NewsGator|SeaMonkey|iTunes|Epiphany|Konqueror|Sleipnir|IceWeasel/i.test(t);switch(!0){case o:return"development";case i:return"bot";case s:return"invalid_useragent";case n:return"sled";default:return"production"}}Bt.CancelToken=ze().CancelToken,Bt.isCancel=ze().isCancel;const Vt=e=>{const t=(e?.frames??[]).map((e=>e.abs_path||e.filename)).filter((e=>!!e)).reverse();return qt(t)},qt=e=>{const t=/(?:\/services|\/_partials)\/([^/]*)\/((?:0|[1-9]\d*)\.(?:0|[1-9]\d*)\.(?:0|[1-9]\d*)|[a-f0-9]{56})\//i;return e?.map((e=>t.exec(e??""))).filter((e=>!!e)).map((e=>e[1]))};function zt(e,t){return Object.keys(e).reduce(((t,r)=>{const n=e[r];return void 0!==n&&(t[r]=String(n)),t}),{})}function Gt(e,t){const{user:r,appName:n,tags:o}=t;e.configureScope((e=>{r&&e.setUser(r),o&&function(e,t="",r){const n=zt(r);Object.keys(n).forEach((t=>{e.setTag(t,n[t])}))}(e,n,o)}))}var $t;function Kt(e){return!0===e.isWixHttpError}function Xt(e){return!0===e.isAxiosError}function Jt(e){if(!e||!e.config)return{error:e?JSON.stringify(e):"error is empty"};const t=Kt(e),r=Xt(e);return t||r?{isWixHttpError:t,requestId:e.requestId,...e.config&&{requestConfig:{url:e.config.url,method:e.config.method,...e.config.params&&{params:JSON.stringify(e.config.params)},...e.config.data&&{data:JSON.stringify(e.config.data)}}},...e?.response&&{response:{status:e.response.status,statusText:e.response.statusText,...e.response.data&&{data:JSON.stringify(e.response.data)}}}}:void 0}!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}($t||($t={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;default:return e.Log}}}($t||($t={}));class Qt{constructor(e,t=""){this.sentry=e,this.appName=t}captureException(e,t){if((Kt(e)||Xt(e))&&(t={...t,contexts:{...t?.contexts,httpErrorDetails:Jt(e)}}),e instanceof Error||(e=function(e){switch(!0){case"message"in e&&e?.message:return Object.assign(new Error(e.message),e);case"error"in e&&e?.error?.message:return Object.assign(new Error(e.error.message),e?.error);case"exception"in e&&e?.exception?.message:return Object.assign(new Error(e.exception.message),e?.exception);default:return console.log("ErrorMonitor: please pass instance of an Error, instead error monitor received",e),e}}(e)),t){t.tags&&(t.tags=zt(t.tags,this.appName));const r=this.sentry;return this.isHub(r)?r.captureException(e,{captureContext:t}):r.captureException(e,t)}return this.sentry.captureException(e)}captureMessage(e,t){if(t){const{level:r=$t.Error,tags:n}=t;n&&(t.tags=zt(n,this.appName));const o=this.sentry;return this.isHub(o)?o.captureMessage(e,r,{captureContext:t}):o.captureMessage(e,t)}return this.sentry.captureMessage(e)}captureEvent(e){return this.sentry.captureEvent(e)}addBreadcrumb(e){this.sentry.addBreadcrumb(e)}isHub(e){return 3===e.captureMessage.length}}function Yt(e){const{Sentry:t}=e,r=((e,t={})=>({...t,transport:t.transport??(void 0!==e.makeFetchTransport?e.makeFetchTransport:void 0),stackParser:t.stackParser??(void 0!==e.defaultStackParser?e.defaultStackParser:void 0),integrations:t.integrations??("function"==typeof e.getDefaultIntegrations?e.getDefaultIntegrations({}):e.defaultIntegrations)}))(t,function(e){const{dsn:t,appName:r="",version:n,environment:o,beforeSend:i,transport:s,integrations:a,artifactId:u,wixRecorder:c}=e;return{dsn:t,environment:o||Wt(),...n&&{release:`${u??r}@${n}`},beforeBreadcrumb:Zt,beforeSend:async(e,t)=>{let r;const n=e.fingerprint,o=!!i;o&&(e.tags={...e.tags,customBeforeSend:!0});try{r=o?await i(e,t):e}catch(t){e.contexts={...e.contexts,errorMonitorBuiltInContext:{...e.contexts?.errorMonitorBuiltInContext,customBeforeSendError:!0}},r=e}if(!r)return e.fingerprint=n,e.contexts={...e.contexts,errorMonitorBuiltInContext:{...e.contexts?.errorMonitorBuiltInContext,customBeforeSendReturnNull:!0}},e.environment="unknown",e;r.fingerprint=n;const s=[...r.exception?.values?.map((e=>e.stacktrace))??[],r.stacktrace].flatMap((e=>Vt(e))),a=qt([r.contexts?.httpErrorDetails?.requestConfig?.url]),l=Array.from(new Set([...s,...a]));u&&!l.includes(u)&&"production"===r.environment&&(r.environment="unknown"),r.contexts={...r.contexts,errorMonitorBuiltInContext:{...r.contexts?.errorMonitorBuiltInContext,detectedArtifactIds:l}};const d=await(c?.recordUrl());return d&&(r.tags={...r.tags,sessionRecordingUrl:d},d.startsWith("https://app.fullstory.com")?r.contexts={...r.contexts,fullStory:{fullStoryUrl:d}}:r.contexts={...r.contexts,errorMonitorBuiltInContext:{...r.contexts?.errorMonitorBuiltInContext,sessionRecordingUrl:d}}),r},transport:s,integrations:a}}(e)),n=new t.BrowserClient(r),o=new t.Hub(n);return Gt(o,e),new Qt(o,e.appName)}function er(e){return{evid:100,src:176,endpoint:"",params:e}}function tr(e){return{evid:101,src:176,endpoint:"",params:e}}function rr(e){return{evid:102,src:176,endpoint:"",params:e}}function nr(e){return{evid:103,src:176,endpoint:"",params:e}}function or(e){return{evid:404,src:176,endpoint:"",params:e}}const ir={400:"INVALID_ARGUMENT",401:"UNAUTHENTICATED",403:"PERMISSION_DENIED",404:"NOT_FOUND",409:"ALREADY_EXISTS",428:"FAILED_PRECONDITION",429:"RESOURCE_EXHAUSTED",499:"CANCELED",500:"INTERNAL",501:"NOT_IMPLEMENTED",502:"BAD_GATEWAY",503:"UNAVAILABLE"};function sr(e){const{errorAccessor:t,errorCodesMap:r}=e,{applicationError:n,statusCode:o,error:i,validationError:s}=t;if(n){var a;const{code:e}=n,t=null==(a=r.applicationError)?void 0:a[e];if(!1===t)return null;if(t)return t(n,i)}if(r.validationError){var u;const e=Object.keys(r.validationError),t=null==s||null==(u=s.fieldViolations)?void 0:u.find((t=>{let{ruleName:r}=t;return e.includes(r)}));if(null!=t&&t.ruleName){var c;const e=null==(c=r.validationError)?void 0:c[t.ruleName];if(e)return e(i)}}const l=null!=o?ir[o]:null,d={...r.serverError?{INTERNAL:r.serverError,NOT_IMPLEMENTED:r.serverError,BAD_GATEWAY:r.serverError,UNAVAILABLE:r.serverError}:{},...r.statusCodeError},p=null!=l?d[l]:null;return p?p(i):null}class ar{constructor(e){se(this,"errorAccessor",void 0),se(this,"errorCodesMap",void 0),se(this,"commonErrorsMapState",void 0),se(this,"onlineManager",void 0),se(this,"consumerResolvedError",void 0),se(this,"commonResolvedError",void 0),this.commonErrorsMapState=e.commonErrorsMapState,this.errorAccessor=e.errorAccessor,this.errorCodesMap=e.errorCodesMap,this.onlineManager=e.onlineManager}get commonErrors(){return this.commonErrorsMapState.commonErrors}_resolveNetworkError(){const{onlineManager:e,commonErrors:t,errorAccessor:r}=this;return t?e.onLine?t.getNetworkErrorShowErrorProps(r):t.connectionErrorShowErrorProps:null}_resolveCommonError(){const{errorAccessor:e,commonErrors:t,errorCodesMap:r}=this,{error:n,httpError:o,validationError:i}=e;if(null==o)return this._resolveNetworkError();if(!t)return null;var s;if(i)return null==(s=t.commonErrorsMap.statusCodeError)||null==s.INVALID_ARGUMENT?void 0:s.INVALID_ARGUMENT(n);const a=sr({errorAccessor:e,errorCodesMap:t.commonErrorsMap});return a||((null==r||null==r.serverError?void 0:r.serverError(n))??t.defaultErrorShowErrorProps)}_resolveConsumerError(){const{errorCodesMap:e,errorAccessor:t}=this,{httpError:r}=t;return null==r||null==e?null:sr({errorAccessor:t,errorCodesMap:e})}resolve(){this.consumerResolvedError=this._resolveConsumerError(),null==this.consumerResolvedError&&(this.commonResolvedError=this._resolveCommonError())}get errorToShow(){return this.consumerResolvedError??this.commonResolvedError}}function ur(e){return null!=e}class cr{constructor(e){se(this,"inputError",void 0),se(this,"_error",void 0),se(this,"_httpError",void 0),se(this,"_errorDetails",void 0),this.inputError=e.error}get error(){return this._error??=this.inputError instanceof Error?this.inputError:null}get exceptionMessage(){var e;return null==(e=this.error)?void 0:e.message}get httpError(){const{inputError:e}=this;return this._httpError??=ur(t=e)&&null!=t.response?e:function(e){return null!=e&&null!=e.status}(e)?function(e){return{response:{data:{details:e.details},status:e.status},requestId:e.requestId}}(e):null;var t}get clientCode(){var e;return null==(e=this.httpError)?void 0:e.code}get errorResponse(){var e;return null==(e=this.httpError)?void 0:e.response}get statusCode(){var e;return null==(e=this.errorResponse)?void 0:e.status}get errorData(){var e;return null==(e=this.errorResponse)?void 0:e.data}get errorDetails(){const{errorData:e}=this;return this._errorDetails??=ur(t=e)&&null!=t.details?e.details:null;var t}get errorMessage(){const{errorData:e}=this;return ur(t=e)&&null!=t.message?e.message:void 0;var t}get applicationError(){var e;return null==(e=this.errorDetails)?void 0:e.applicationError}get validationError(){var e;return null==(e=this.errorDetails)?void 0:e.validationError}}const lr={ar:()=>u.e(655).then(u.t.bind(u,9561,19)),bg:()=>u.e(660).then(u.t.bind(u,8747,19)),ca:()=>u.e(912).then(u.t.bind(u,6323,19)),cs:()=>u.e(299).then(u.t.bind(u,2597,19)),da:()=>u.e(81).then(u.t.bind(u,2773,19)),de:()=>u.e(317).then(u.t.bind(u,4932,19)),el:()=>u.e(42).then(u.t.bind(u,6151,19)),en:()=>u.e(408).then(u.t.bind(u,8891,19)),es:()=>u.e(91).then(u.t.bind(u,9833,19)),fi:()=>u.e(615).then(u.t.bind(u,5858,19)),fr:()=>u.e(282).then(u.t.bind(u,6261,19)),he:()=>u.e(370).then(u.t.bind(u,66,19)),hi:()=>u.e(719).then(u.t.bind(u,5086,19)),hr:()=>u.e(122).then(u.t.bind(u,6716,19)),hu:()=>u.e(470).then(u.t.bind(u,9255,19)),id:()=>u.e(963).then(u.t.bind(u,4628,19)),it:()=>u.e(246).then(u.t.bind(u,9168,19)),ja:()=>u.e(569).then(u.t.bind(u,4945,19)),ko:()=>u.e(746).then(u.t.bind(u,6777,19)),lt:()=>u.e(878).then(u.t.bind(u,4185,19)),lv:()=>u.e(553).then(u.t.bind(u,9945,19)),ms:()=>u.e(559).then(u.t.bind(u,5427,19)),nl:()=>u.e(612).then(u.t.bind(u,2342,19)),no:()=>u.e(258).then(u.t.bind(u,5197,19)),pl:()=>u.e(566).then(u.t.bind(u,9501,19)),pt:()=>u.e(143).then(u.t.bind(u,9204,19)),ro:()=>u.e(373).then(u.t.bind(u,4583,19)),ru:()=>u.e(537).then(u.t.bind(u,1508,19)),sk:()=>u.e(92).then(u.t.bind(u,2839,19)),sl:()=>u.e(868).then(u.t.bind(u,5707,19)),sv:()=>u.e(960).then(u.t.bind(u,3252,19)),th:()=>u.e(315).then(u.t.bind(u,5995,19)),tl:()=>u.e(710).then(u.t.bind(u,86,19)),tr:()=>u.e(103).then(u.t.bind(u,4017,19)),uk:()=>u.e(255).then(u.t.bind(u,1506,19)),vi:()=>u.e(780).then(u.t.bind(u,307,19)),zh:()=>u.e(474).then(u.t.bind(u,4172,19))},dr=async e=>{const t=lr[e];if(null==t)throw new Error(`@wix/cairo: Failed to find translations for locale '${e}'`);return"object"==typeof(r=await t()).default?r.default:r;var r};class pr{constructor(e){se(this,"i18n",void 0),se(this,"_initPromise",void 0),se(this,"_ready",void 0),se(this,"translate",((e,t)=>this.i18n.t(e,t))),se(this,"getTranslateFn",(async()=>(await this.getInitPromise(),this.translate))),this.i18n=e.createI18n({asyncMessagesLoader:dr,disableAutoInit:!0}),this._initPromise=new Promise((async e=>{let t=!1;const r=(n,o,i)=>{"en"===n&&(this.i18n.off("failedLoading",r),t=!0,e(i))};this.i18n.on("failedLoading",r);try{if(await this.i18n.init(),t)return;e(null),this._ready=!0}catch(t){e(t)}}))}async getInitPromise(){const e=await this._initPromise;if(e)throw e}}const fr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var hr,gr=new Uint8Array(16);function mr(){if(!hr&&!(hr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hr(gr)}for(var vr=[],yr=0;yr<256;++yr)vr.push((yr+256).toString(16).slice(1));function br(e,t=0){return(vr[e[t+0]]+vr[e[t+1]]+vr[e[t+2]]+vr[e[t+3]]+"-"+vr[e[t+4]]+vr[e[t+5]]+"-"+vr[e[t+6]]+vr[e[t+7]]+"-"+vr[e[t+8]]+vr[e[t+9]]+"-"+vr[e[t+10]]+vr[e[t+11]]+vr[e[t+12]]+vr[e[t+13]]+vr[e[t+14]]+vr[e[t+15]]).toLowerCase()}const _r=function(e,t,r){if(fr.randomUUID&&!t&&!e)return fr.randomUUID();var n=(e=e||{}).random||(e.rng||mr)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return br(n)};function wr(e,t){const{message:r,action:n,errorAccessor:o,errorResolution:i}=t,{biLogger:s,commonErrorsMapState:a,translations:u}=e,{error:c}=o,{consumerResolvedError:l}=i??{};s.report(tr({session_id:null==c?void 0:c._errorHandlerSessionId,translated_message:r,action_text:null==n?void 0:n.text,is_consumer_resolved_error:null!=l,common_errors_load_failed:String(null==a.commonErrors),isEn:"en"===u.i18n.language}))}const Or=()=>u.e(360).then(u.bind(u,7820));class Er{constructor(e){se(this,"translations",void 0),se(this,"errorMonitor",void 0),se(this,"webWindow",void 0),se(this,"getErrorCodesMap",void 0),se(this,"_initPromise",void 0),se(this,"commonErrors",void 0),this.translations=e.translations,this.errorMonitor=e.errorMonitor,this.webWindow=e.webWindow,this.getErrorCodesMap=e.getErrorCodesMap??Or,this._initPromise=this._init()}async getInitPromise(){const e=await this._initPromise;if(e)throw e}async _init(){try{const{setCommonErrors:e}=await this.getErrorCodesMap();return await e(this),null}catch(e){return e}}}const Sr="This action wasn't completed due to a technical issue.";class Ir{constructor(e){se(this,"errorHandler",void 0),se(this,"withErrorHandler",(async(e,t)=>this.errorHandler.withErrorHandler(e,{errorCodesMap:{validationError:t,statusCodeError:t,applicationError:Object.entries(t).reduce(((e,t)=>{let[r,n]=t;return n&&(e[r]=(e,t)=>n(t)),e}),{}),serverError:t.serverError}}))),se(this,"getResolvedError",(e=>{const{errorHandler:t}=this,{errorMonitor:r}=t;try{const r=new cr({error:e}),{httpError:n,error:o}=r,i=t._resolveError(r),s=null==o?void 0:o._errorHandlerResolvedError,a=(null==s?void 0:s.message)??Sr,u=null==s?void 0:s.action,c=(null==s?void 0:s.requestId)??(null==n?void 0:n.requestId);return wr(t,{message:a,action:u,errorAccessor:r,errorResolution:i}),{message:a,action:u,requestId:c,...s}}catch(e){throw console.error(e),r.captureException(e),e}})),se(this,"showError",((e,t)=>{this.errorHandler.showError(e,t)})),se(this,"reportRetryAttempt",(e=>{this.errorHandler.reportRetryAttempt(e)})),se(this,"handleError",((e,t)=>{this.errorHandler.handleError(e,t)})),this.errorHandler=e}}function Cr(e){var t;return null==e?e:null==(t=e.split(",")[0])?void 0:t.trim()}class Ar{constructor(e){var t=this;se(this,"environment",void 0),se(this,"biDefaultsOverrides",void 0),se(this,"biLogger",void 0),se(this,"errorMonitor",void 0),se(this,"experiments",void 0),se(this,"platformShowError",void 0),se(this,"translations",void 0),se(this,"commonErrorsMapState",void 0),se(this,"onlineManager",void 0),se(this,"webWindow",void 0),se(this,"_skipWaitTranslations",void 0),se(this,"v2",void 0),se(this,"handleError",(function(e,r){if(void 0===r&&(r={}),t._isErrorHandlerDisabled())return;const{errorMonitor:n}=t;try{const n=new cr({error:e});t._setErrorHandlerSessionId(n),function(e,t){var r;const{errorAccessor:n,requestOptions:o}=t,{biLogger:i,onlineManager:s,webWindow:a,environment:u,biDefaultsOverrides:c}=e,{statusCode:l,errorData:d,errorDetails:p,errorMessage:f,exceptionMessage:h,httpError:g,error:m}=n,v=null==g?void 0:g.config;i.report(or({artifact_id:u.artifactId,full_artifact_id:u.fullArtifactId,hostingEnvironment:null==c?void 0:c.hostingEnvironment,app_id:null==c?void 0:c.app_id,artifactVersion:u.version,error_code:l,error_json:d?JSON.stringify(d):void 0,exception_message:h,error_message:f,client_error_code:null==n?void 0:n.clientCode,error_type:null!=p&&p.applicationError?"applicationError":null!=p&&p.validationError?"validationError":void 0,request_id:null==g?void 0:g.requestId,hasInternetConnection:s.onLine,pageUrl:null==a||null==(r=a.location)?void 0:r.href,session_id:null==m?void 0:m._errorHandlerSessionId,serverUrl:(null==v?void 0:v.url)||(null==o?void 0:o.url),method:(null==v?void 0:v.method)||(null==o?void 0:o.method)||"unknown",entity_fqdn:null==v?void 0:v.entityFqdn,method_fqn:null==v?void 0:v.methodFqn,server_artifactid:null==v?void 0:v.artifactId}))}(t,{errorAccessor:n,requestOptions:r.requestOptions})}catch(e){console.error(e),n.captureException(e)}})),se(this,"withErrorHandler",(async(e,t)=>{try{return await e()}catch(e){throw this._setErrorHandlerErrorCodesMap(e,t),e}})),se(this,"getResolvedError",(e=>{const{errorMonitor:t}=this;try{const t=new cr({error:e}),{applicationError:r,validationError:n,httpError:o,error:i}=t,s=this._resolveError(t),a=null==i?void 0:i._errorHandlerResolvedError,u=(null==a?void 0:a.message)??Sr;return wr(this,{message:u,action:null==a?void 0:a.action,errorAccessor:t,errorResolution:s}),{message:u,action:null==a?void 0:a.action,validationError:n,applicationError:r,httpError:o,requestId:Cr(null==o?void 0:o.requestId)}}catch(e){throw console.error(e),t.captureException(e),e}})),se(this,"reportRetryAttempt",(e=>{const{errorMonitor:t}=this;try{!function(e,t){const{biLogger:r}=e,{errorAccessor:n}=t,{error:o}=n,i=null==o?void 0:o._errorHandlerSessionId;i&&r.report(nr({session_id:i}))}(this,{errorAccessor:new cr({error:e})})}catch(e){console.error(e),t.captureException(e)}})),se(this,"showError",((e,t)=>{const{platformShowError:r,errorMonitor:n}=this;if(r)try{var o;const n=new cr({error:e}),{error:i}=n;this._resolveError(n);const s=null==i?void 0:i._errorHandlerResolvedError,a={...s,...t},u=(null==t?void 0:t.message)??(null==s?void 0:s.message)??Sr,c=(null==t?void 0:t.action)??(null==s?void 0:s.action);!function(e,t){var r;const{message:n,action:o,errorAccessor:i}=t,{biLogger:s,translations:a}=e;s.report(rr({session_id:null==(r=i.error)?void 0:r._errorHandlerSessionId,displayed_message:n,displayed_action:null==o?void 0:o.text,action_was_provided:String(null!=(null==o?void 0:o.onClick)),isEn:"en"===a.i18n.language}))}(this,{message:u,action:c,errorAccessor:n}),r({...a,requestId:Cr(null==(o=n.httpError)?void 0:o.requestId),message:u,action:null!=c&&c.onClick?{text:c.text,onClick:c.onClick}:void 0})}catch(e){console.error(e),n.captureException(e)}})),this.environment=e.environment,this.biDefaultsOverrides=e.biDefaultsOverrides,this.biLogger=function(e){return"function"==typeof e.biLoggerOrFactory?e.biLoggerOrFactory().logger():e.biLoggerOrFactory}(e),this.errorMonitor=e.createErrorMonitor({dsn:"https://831e1d96e7944c6aae0c9ed9d6babd35@sentry.wixpress.com/5896"}),this.experiments=null==e.createExperiments?void 0:e.createExperiments({scopes:["error-handler"]}),this.platformShowError=e.showError,this.translations=new pr(e),this.onlineManager=e.onlineManager??("undefined"!=typeof navigator?navigator:{onLine:!0}),this.webWindow=e.webWindow??("undefined"!=typeof window?window:void 0),this.commonErrorsMapState=new Er(this),this.v2=new Ir(this)}_setErrorHandlerSessionId(e){const{error:t}=e;t&&(t._errorHandlerSessionId=_r())}_setErrorHandlerResolvedError(e,t){const{error:r}=e;r&&(r._errorHandlerResolvedError=t.errorToShow)}_setErrorHandlerErrorCodesMap(e,t){void 0===t&&(t={});const{errorCodesMap:r}=t,n=new cr({error:e});!function(e,t){var r;const{errorAccessor:n,errorCodesMap:o}=t,{biLogger:i}=e,{error:s,applicationError:a}=n,u=null==a?void 0:a.code,c=null==o||null==(r=o.applicationError)?void 0:r[u];i.report(er({error_opt_out:!1===c,is_override_error:String(null!=o),session_id:null==s?void 0:s._errorHandlerSessionId}))}(this,{errorAccessor:n,errorCodesMap:r});const{error:o}=n;o&&(o._errorHandlerErrorCodesMap=r)}_isErrorHandlerDisabled(){const{experiments:e}=this;return null!=e&&!e.enabled("specs.os.EnableErrorHandlerInEditor")}_resolveError(e,t){var r;if(void 0===t&&(t={}),this._isErrorHandlerDisabled())return;const n=function(e,t){const{commonErrorsMapState:r,onlineManager:n}=e,{errorAccessor:o,errorCodesMap:i}=t,s=new ar({errorAccessor:o,errorCodesMap:i,commonErrorsMapState:r,onlineManager:n});return s.resolve(),s}(this,{errorAccessor:e,errorCodesMap:t.errorCodesMap??(null==(r=e.error)?void 0:r._errorHandlerErrorCodesMap)});return this._setErrorHandlerResolvedError(e,n),n}toJSON(){return{}}}var xr=function(e,t){return xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},xr(e,t)};function Pr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}xr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Nr=function(){return Nr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nr.apply(this,arguments)};function kr(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function Tr(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function Rr(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Dr;!function(e){e.Default="",e.OwnerAccount="owner-account"}(Dr||(Dr={}));var jr="__WIXEXP_USE_NEW_API",Lr="__WIXEXP_CONDUCTION_METHOD_",Mr="__WIXEXP_OWNER_ACCOUNT_ID_",Fr="__WIXEXP_LOGGED_IN_USER_ID_";function Br(e,t,r){var n,o;if("undefined"!=typeof self)if("function"==typeof r){if(void 0!==r(self[t]))return(n={})[e]=r(self[t]),n}else if(typeof self[t]===r)return(o={})[e]=self[t],o;return{}}var Hr=function(e){return Object.keys(Dr).filter((function(t){return Dr[t]===e})).length>0?e:void 0};function Ur(e){return function(e){return e.conductionMethod===Dr.OwnerAccount&&e.siteOwnerId&&e.loggedInUserId}(e)?{forSiteOwner:{siteOwnerId:e.siteOwnerId,loggedInUserId:e.loggedInUserId}}:{}}var Zr=function(e){return"string"==typeof e&&""!==e};function Wr(e){void 0===e&&(e={});var t=e.forSiteOwner,r=e.forSiteVisitors,n=e.overrideCriteria,o="";if(["forSiteOwner","forSiteVisitors"].reduce((function(t,r){return e[r]?t+1:t}),0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return t&&(o+=function(e){return Zr(e.loggedInUserId)&&Zr(e.siteOwnerId)?"&"+"requestContext.forSiteOwner.loggedInUserId=".concat(e.loggedInUserId,"&")+"requestContext.forSiteOwner.siteOwnerId=".concat(e.siteOwnerId):""}(t)),r&&(o+=function(e){return Zr(e.visitorId)&&Zr(e.siteOwnerId)?"&"+"requestContext.forSiteVisitors.visitorId=".concat(e.visitorId,"&")+"requestContext.forSiteVisitors.siteOwnerId=".concat(e.siteOwnerId):""}(r)),n&&(o+=function(e){return Zr(e.entityId)?"&requestContext.overrideCriteria.entityId=".concat(e.entityId):""}(n)),o}function Vr(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e}var qr={conductAllInScope:"/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment"},zr={conductAllInScope:"/_api/wix-laboratory-server/laboratory/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/laboratory/conductExperiment"};function Gr(e,t){return-1!==e.indexOf(t?qr.conductAllInScope:zr.conductAllInScope)}var $r=function(e,t,r){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=!1),r?"".concat(qr.conductExperiment,"?key=").concat(encodeURIComponent(e),"&fallbackValue=").concat(encodeURIComponent(t)):"".concat(zr.conductExperiment,"?key=").concat(encodeURIComponent(e),"&fallback=").concat(encodeURIComponent(t))};function Kr(e,t,r){var n="".concat($r(t,"",r));return e.includes(n)}var Xr=function(){function e(){this.urlMap=new Map,this.pendingUrlMap=new Map}return e.prototype.addUrlRequest=function(e,t){return kr(this,void 0,void 0,(function(){var r=this;return Tr(this,(function(n){switch(n.label){case 0:return this.pendingUrlMap.set(e,t),[4,t.then((function(t){return r.addUrlResponse(e,t)}))];case 1:return n.sent(),[2]}}))}))},e.prototype.addUrlResponse=function(e,t){this.urlMap.set(e,t)},e.prototype.getUrlResponse=function(e){return this.urlMap.get(e)},e.prototype.getUrlRequest=function(e){return this.pendingUrlMap.get(e)},e.prototype.getExperimentValue=function(e,t){var r,n;try{for(var o=Rr(this.urlMap.keys()),i=o.next();!i.done;i=o.next()){var s=i.value;if(Kr(s,e,t))return this.urlMap.get(s);if(Gr(s,t)){var a=Vr(this.urlMap.get(s));if("object"==typeof a&&e in a)return a[e]}}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e}();!function(){function e(){}e.prototype.addUrlRequest=function(){},e.prototype.addUrlResponse=function(){},e.prototype.getUrlResponse=function(){},e.prototype.getUrlRequest=function(){},e.prototype.getExperimentValue=function(){}}();function Jr(){return void 0===self.experimentsCacheV2&&(self.experimentsCacheV2=new Xr),self.experimentsCacheV2}var Qr=function(){function e(e){var t;this.experiments=null!==(t=e.experiments)&&void 0!==t?t:{}}return e.prototype.get=function(e){return this.experiments[e]},e.prototype.enabled=function(e){return"true"===this.get(e)},e.prototype.pending=function(){return!1},e.prototype.ready=function(){return Promise.resolve()},e.prototype.all=function(){return this.experiments},e}(),Yr=function(){},en=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this,n=Nr(Nr(Nr(Nr({},Br("useNewApi",jr,"boolean")),Br("conductionMethod",Lr,Hr)),Br("siteOwnerId",Mr,"string")),Br("loggedInUserId",Fr,"string"));return r.useNewApi=void 0!==t.useNewApi?t.useNewApi:n.useNewApi||!1,r.experiments=t.experiments||{},r.loaders=new Map,r.baseUrl=(r.useNewApi,t.baseUrl||""),r.requestContext=t.requestContext||Ur(n),r.onError=t.onError||Yr,t.scope&&r.load(t.scope),t.scopes&&t.scopes.forEach(r.load.bind(r)),r}return Pr(t,e),t.prototype.add=function(e){this.experiments=Nr(Nr({},this.experiments),e)},t.prototype._addLoader=function(e,t){var r=this;return this.loaders.set(e,t),t.then((function(){r.loaders.delete(e)})),t},t.prototype._getUrlWithFallback=function(e,t){var r=this,n=Jr().getUrlResponse(e);if(void 0!==n)return Promise.resolve(n);var o=Jr().getUrlRequest(e);if(void 0!==o)return o;var i=this.loaders.get(e);if(void 0!==i)return i;var s=function(e){return new Promise((function(t,r){var n=bt(),o=new XMLHttpRequest;o.open("GET",e,!0),Object.keys(n).forEach((function(e){return o.setRequestHeader(e,n[e])})),o.responseType="text",o.withCredentials=!0,o.onload=function(){o.status>=200&&o.status<400?t(o.responseText):r(new Error("Failed to load ".concat(e,", status ").concat(o.status)))},o.onerror=function(){return r(new Error("Failed to load ".concat(e)))},o.send()}))}(e).catch((function(e){return r.onError(e),t}));return Jr().addUrlRequest(e,s),s},t.prototype.load=function(e){var t=this,r=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?"".concat(qr.conductAllInScope,"?scope=").concat(encodeURIComponent(e)):"".concat(zr.conductAllInScope,"?scope=").concat(encodeURIComponent(e))}(e,this.useNewApi),n=this.useNewApi?Wr(this.requestContext):"",o="".concat(this.baseUrl).concat(r).concat(n),i=this._getUrlWithFallback(o,"{}").then((function(e){return Vr(e)})).then((function(e){return t.useNewApi?e.values:e})).then((function(e){return t.add(e),e}));return this._addLoader(o,i)},t.prototype.conduct=function(e,t){var r=this,n=Jr().getExperimentValue(e,this.useNewApi);if(void 0!==n)return this._addConductResult(e,n);var o=$r(e,t,this.useNewApi),i=this.useNewApi?Wr(this.requestContext):"",s="".concat(this.baseUrl).concat(o).concat(i),a=this._getUrlWithFallback(s,null!=t?t:"").then((function(t){return r._addConductResult(e,t)}));return this._addLoader(s,a)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t.prototype._addConductResult=function(e,t){var r,n=this.useNewApi?JSON.parse(t).value:t;return this.add(((r={})[e]=n,r)),Promise.resolve(n)},t}(Qr);const tn=JSON.parse('{"src":72,"persistentEndpoint":"performance","nonPersistentEndpoint":"fed","successRateRoot":"fedops_events","performanceRoot":"fedops_performance","appLoadStart":{"eventId":14},"appLoadFinish":{"eventId":11},"loadPhaseStart":{"eventId":12},"loadPhaseFinish":{"eventId":13},"interactionStart":{"eventId":15},"interactionEnd":{"eventId":16},"error":{"eventId":17},"resource":{"eventId":18}}'),rn=JSON.parse('{"src":72,"persistentEndpoint":"ds-performance","nonPersistentEndpoint":"ds-performance","successRateRoot":"ds_events","performanceRoot":"ds_performance","appLoadStart":{"eventId":31},"appLoadFinish":{"eventId":33},"interactionStart":{"eventId":34},"interactionEnd":{"eventId":35},"loadPhaseStart":{"eventId":38},"loadPhaseFinish":{"eventId":32},"error":{"eventId":36},"resource":{"eventId":37}}'),nn=JSON.parse('{"src":72,"persistentEndpoint":"editor-performance","nonPersistentEndpoint":"editor-performance","successRateRoot":"editor_events","performanceRoot":"editor_performance","appLoadStart":{"eventId":41},"appLoadFinish":{"eventId":43},"interactionStart":{"eventId":44},"interactionEnd":{"eventId":45},"loadPhaseStart":{"eventId":48},"loadPhaseFinish":{"eventId":42},"error":{"eventId":46},"resource":{"eventId":47}}'),on=JSON.parse('{"src":72,"persistentEndpoint":"bolt-performance","nonPersistentEndpoint":"bolt-performance","successRateRoot":"bolt_events","performanceRoot":"bolt_performance","appLoadStart":{"eventId":21},"loadPhaseStart":{"eventId":28},"loadPhaseFinish":{"eventId":22},"appLoadFinish":{"eventId":23},"interactionStart":{"eventId":24},"interactionEnd":{"eventId":25},"error":{"eventId":26},"resource":{"eventId":27}}'),sn=JSON.parse('{"src":72,"persistentEndpoint":"ooi-performance","nonPersistentEndpoint":"ooi-performance","successRateRoot":"fedops_events","performanceRoot":"fedops_performance","appLoadStart":{"eventId":61},"appLoadFinish":{"eventId":63},"interactionStart":{"eventId":64},"interactionEnd":{"eventId":65},"loadPhaseStart":{"eventId":68},"loadPhaseFinish":{"eventId":62},"error":{"eventId":66},"resource":{"eventId":67}}'),an=JSON.parse('{"src":72,"persistentEndpoint":"mobile-performance","nonPersistentEndpoint":"mobile-performance","successRateRoot":"fedops_events","performanceRoot":"fedops_performance","appLoadStart":{"eventId":51},"appLoadFinish":{"eventId":53},"interactionStart":{"eventId":54},"interactionEnd":{"eventId":55},"loadPhaseStart":{"eventId":58},"loadPhaseFinish":{"eventId":52},"error":{"eventId":56},"resource":{"eventId":57}}');var un={DEFAULT:"DEFAULT",DS:"DS",EDITOR:"EDITOR",OOI:"OOI",BOLT:"BOLT",MOBILE:"MOBILE"};function cn(e){switch(e){case un.DEFAULT:return tn;case un.BOLT:return on;case un.DS:return rn;case un.EDITOR:return nn;case un.OOI:return sn;case un.MOBILE:return an;default:return tn}}var ln={},dn=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0!==u.g?u.g:"undefined"!=typeof WorkerGlobalScope?WorkerGlobalScope:ln};var pn,fn="fedops.logger.sessionId",hn="0.0.0",gn=u(647),mn=function(){function e(e){var t=e.biLoggerFactory,r=e.baseUrl,n=e.preset,o=e.useBatch;this._preset=n;var i=!(!1===o);this._factory=t||gn.factory({host:r,useBatch:i}),this._publisher=this._factory.logger(),this._nonBatchedPublisher=this._factory.logger({useBatch:!1})}var t=e.prototype;return t.flush=function(){this._publisher.flush()},t.report=function(e,t,r){if(!e)return null;var n=t||this._preset.nonPersistentEndpoint;return r&&!1===r.useBatch?this._nonBatchedPublisher.log(e,{endpoint:n,category:"essential"}):this._publisher.log(e,{endpoint:n,category:"essential"})},e}();function vn(e){var t=void 0===e?{}:e,r=t.biLoggerFactory,n=t.baseUrl,o=t.endpoint,i=t.preset,s=t.useBatch;return pn?pn({preset:i}):new mn({biLoggerFactory:r,baseUrl:n,endpoint:o,preset:i,useBatch:s})}var yn=u(1721);const bn=function(){var e;return(null==(e=dn().performance)||null==e.getEntriesByType?void 0:e.getEntriesByType("mark"))||[]},_n=function(){var e;null==(e=dn().performance)||null==e.clearResourceTimings||e.clearResourceTimings()},wn=function(){var e,t;return(null==(e=dn().performance)||null==e.now?void 0:e.now())||"undefined"!=typeof performance&&(null==(t=performance)||null==t.now?void 0:t.now())||(new Date).getTime()},On=function(e){var t;null==(t=dn().performance)||null==t.mark||t.mark(e)},En=function(e,t,r){var n;null==(n=dn().performance)||null==n.measure||n.measure(e,t,r)},Sn=function(e){var t;return(null==(t=dn().performance)||null==t.getEntriesByName?void 0:t.getEntriesByName(e))||[]};function In(e){return((dn().fedops||{}).apps||{})[e]}function Cn(e){dn().fedops=dn().fedops||{},dn().fedops.apps=dn().fedops.apps||{},function(e){dn().fedops.apps[e]=dn().fedops.apps[e]||{}}(e)}var An=function(){function e(e){this.appName=e,this.apps={},this.apps[e]={}}var t=e.prototype;return t._getKeyForApp=function(e,t){return void 0===e&&(e=this.appName),t?e+"_"+t:e},t.setLoadStarted=function(e){var t=void 0===e?{}:e,r=t.appId,n=t.widgetId,o=this._getKeyForApp(r,n);this.apps[o]||(this.apps[o]={});var i,s=wn();this.apps[o].startLoadTime=s,r||(i=s,(In(o)||{}).startLoadTime=i)},t.getLoadStartTime=function(e){var t=void 0===e?{}:e,r=t.appId,n=t.widgetId,o=this._getKeyForApp(r,n),i=this.getLoadStartTimeFromInstance(o)||((In(o)||{}).startLoadTime||0)||0;return Math.floor(i)},t.getLoadStartTimeFromInstance=function(e){return this.apps[e]&&this.apps[e].startLoadTime},t.getAppLoadTime=function(e){var t=void 0===e?{}:e,r=t.appId,n=t.widgetId;return Math.floor(wn()-this.getLoadStartTime({appId:r,widgetId:n}))},t.getFirstRequestDuration=function(e){var t=void 0===e?{}:e,r=t.appId,n=t.widgetId;return this.getLoadStartTime({appId:r,widgetId:n})},e}(),xn=function(){function e(e){void 0===e&&(e=void 0),this.data=e}var t=e.prototype;return t.isActive=function(){return!0},t.export=function(){return this.data},e}(),Pn=function(){function e(e){var t=this;void 0===e&&(e=null),this.items=[],e&&(void 0===e.length?[e]:e).forEach((function(e){return t.addItem(e)}))}var t=e.prototype;return t.clone=function(){return new e(this.items.slice())},t.addItem=function(e){return this.items.push(e instanceof xn?e:new xn(e)),this},t.mergeItems=function(){for(var e={},t=0;t<this.items.length;t++){var r=this.items[t];if(!r.isActive()){e=null;break}var n=r.export();for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e},e}();const Nn=function(e){try{return dn().localStorage&&dn().localStorage.getItem(e)}catch(e){}},kn=function(e,t){try{return dn().localStorage&&dn().localStorage.setItem(e,t)}catch(e){}};var Tn=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Rn=/\[fedops] phase:([^ ]+) ([^ ]+) ?(.*) (started|finished)/,Dn=/\[fedops] ([^ ]+) interaction ([^ ]+) (started|ended)/,jn=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};const Ln={getSessionId:function(){var e,t=void 0!==dn()&&dn().fedops&&dn().fedops.sessionId;return t=(t=t||Nn(fn))||Tn(),e=t,(dn().fedops||{}).sessionId=e,kn(fn,t),t}};var Mn=function(){function e(e,t){this.appName=e,this.phases=new Map,this.indexToKey=new Map,this.times=t||new An(e)}e._getIndexForPhase=function(e){var t=e.name,r=e.appId,n=void 0===r?"":r,o=e.widgetId;return t+"_"+n+"_"+(void 0===o?"":o)};var t=e.prototype;return t.getAppLoadingPhaseData=function(t){var r=t.name,n=t.appId,o=t.widgetId;return this.phases.get(e._getIndexForPhase({name:r,appId:n,widgetId:o}))},t.saveLoadingPhase=function(t){var r=t.name,n=t.appId,o=t.widgetId,i=e._getIndexForPhase({name:r,appId:n,widgetId:o});if(!this.phases.has(i)){var s=this.phases.size;this.phases.set(i,{name:r,phaseStartTime:wn(),index:s}),this.indexToKey.set(s,i)}},t.endLoadingPhase=function(t){var r=t.name,n=t.appId,o=t.widgetId,i=t.widgetArray,s=e._getIndexForPhase({name:r,appId:n,widgetId:o});if(this.phases.has(s)&&!this.phases.get(s).duration){var a=this.phases.get(s);a.duration=wn()-a.phaseStartTime,i&&(a.widgetArray=i),o&&(a.widgetId=o),this.phases.set(s,a)}},t.getNextPhaseToReport=function(){var e=this.phases.size-1,t=this.indexToKey.get(e);return this.phases.get(t)},t.getPhasePreviousTo=function(t){var r=t.name,n=t.appId,o=t.widgetId,i=this.phases.get(e._getIndexForPhase({name:r,appId:n,widgetId:o})),s=this.indexToKey.get(i.index-1);return this.phases.get(s)},t.getPhases=function(e){var t=(void 0===e?{}:e).appId;return Array.from(this.phases).filter((function(e){var r=e[0].split("_")[1];return t&&r===t||!t})).map((function(e){return function(e){var t;return(t={})[e.name]=e,t}(e[1])}))},e}();function Fn(e,t){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fn(e,t)}var Bn=function(e){var t,r;function n(t){var r,n=t.appId,o=t.widgetId,i=t.isServerSide,s=t.widgetArray;return(r=e.call(this)||this).data=r._filterUndefined({appId:n,widgetId:o,isServerSide:i,widgetArray:s}),r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Fn(t,r),n.prototype._filterUndefined=function(e){var t={};return Object.keys(e).forEach((function(r){e[r]&&(t[r]=e[r])})),t},n}(xn);function Hn(e,t){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hn(e,t)}var Un=function(e){var t,r;function n(t){return e.call(this,{duration:t})||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Hn(t,r),n.prototype.setFirstRequestDuration=function(e){return this.data.frd=e,this},n}(xn);function Zn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vn(e){delete e[Object.getOwnPropertyNames(e)[0]].index}var qn=function(){function e(e,t){this._sessionId=e,this._preset=t}var t=e.prototype;return t.biAppLoadStart=function(){return this._biDataItem(this._preset.appLoadStart.eventId)},t.biAppLoadFinish=function(){return this._biDataItem(this._preset.appLoadFinish.eventId)},t.biInteractionStart=function(){return this._biDataItem(this._preset.interactionStart.eventId)},t.biInteractionEnd=function(){return this._biDataItem(this._preset.interactionEnd.eventId)},t.biLoadPhaseStart=function(){return this._biDataItem(this._preset.loadPhaseStart.eventId)},t.biLoadPhaseFinish=function(){return this._biDataItem(this._preset.loadPhaseFinish.eventId)},t.biHttpRequest=function(){return this._biDataItem(this._preset.httpRequest.eventId)},t.biHttpResponse=function(){return this._biDataItem(this._preset.httpResponse.eventId)},t.biHttpResponseTime=function(){return this._biDataItem(this._preset.httpResponseTime.eventId)},t.biBlackbox=function(e){var t={environment:500,"initial-paint":501,loaded:502,visibility:503,"first-input":504,"page-transition":505,crux:506,"crux-cls":507,responsiveness:508}[e.entryType];return t&&this._biDataItem(t)},t.blackboxPerformance=function(e){return this.dataItem(e)},t.webVitalsLoaded=function(){return this._biDataItem(29)},t.webVitalsFirstInput=function(){return this._biDataItem(39)},t.biError=function(){return this._biDataItem(this._preset.error.eventId)},t.appName=function(e){var t=e.appName,r=e.isServerSide;return this.dataItem({appName:r?t+"_ssr":t})},t.artifact=function(e){var t=e.id,r=e.version,n=e.isRollout;return this.dataItem({artifactId:t,artifactVersion:r,isRollout:n})},t.appContext=function(e){return new Bn(e)},t.customParams=function(e){return this.dataItem({customParams:e})},t.duration=function(e){return new Un(e)},t.loadingPhaseCollection=function(e){var t=JSON.stringify(function(e){for(var t,r={},n=Zn(e);!(t=n()).done;){var o=t.value;Vn(o),r=Object.assign(r,o)}return r}(e));return this.dataItem({phases:t})},t.loadingPhaseStart=function(e){var t=e.name;return this.dataItem({name:t})},t.loadingPhaseFinish=function(e){var t=e.name,r=function(e){return Math.floor(wn()-e)}(e.phaseStartTime);return this.dataItem({name:t,duration:r})},t.dataItem=function(e){return new xn(e)},t._biDataItem=function(e){var t=this._asBiEvent(e);return this.dataItem(t)},t._asBiEvent=function(e){return{src:this._preset.src,evid:e,session_id:this._sessionId,_:(new Date).getTime()}},e}(),zn="SEND_ON_START";function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach((function(t){Kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xn="__DEFAULT_FEDOPS_OVERRIDES__",Jn=function(){function e(){var e;this._overridesCookie=null!=(e=this._getOverridesFromWindow())?e:this._getOverridesFromDocumentCookieIfExists()}e.persistGlobalOverrides=function(e){dn()[Xn]=e};var t=e.prototype;return t.getGlobalOverrides=function(){return this._overridesCookie},t.getCookieOverridesForApp=function(e){return Object.assign({},this._overridesCookie.paramsOverrides,this._overridesCookie.paramsOverridesForApp&&this._overridesCookie.paramsOverridesForApp[e])},t._getOverridesFromDocumentCookieIfExists=function(){try{var t=function(e){if(!dn().document||!dn().document.cookie)return"";var t=dn().document.cookie.split(";").map((function(e){return e.trim().split("=")})).filter((function(t){return t[0]===e}))[0];return t?t[1]:""}("fedops.logger.defaultOverrides"),r=t?(n=t,function(){try{return JSON.parse(JSON.parse(n))}catch(e){return null}}()||function(){try{return JSON.parse(decodeURIComponent(n))}catch(e){return null}}()):t;return r&&"object"==typeof r?(r.paramsOverridesForApp&&(r.paramsOverridesForApp=Object.entries(r.paramsOverridesForApp).reduce(Qn,{})),e.persistGlobalOverrides(r),r):{}}catch(e){return console.log(e),{}}var n},t._getOverridesFromWindow=function(){return dn()[Xn]},e}();function Qn(e,t){var r,n=t[0],o=t[1];return $n($n({},e),{},((r={})[n.replace(/\./g,"-")]=o,r))}const Yn={src:72,endpoint:"http-client-poc",httpRequest:{eventId:1100},httpResponse:{eventId:1101},httpResponseTime:{eventId:1102}};var eo=function(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r},to={"1380b703-ce81-ff05-f115-39571d94dfcd_1380bbc4-1485-9d44-4616-92e36b1ead6b":[21,23],"1380b703-ce81-ff05-f115-39571d94dfcd_1380bbc4-1485-9d44-4616-92e36b1ead6b_ssr":[21,23],"14271d6f-ba62-d045-549b-ab972ae1f70e":[22,28],"14271d6f-ba62-d045-549b-ab972ae1f70e_142bb34d-3439-576a-7118-683e690a1e0d":[21,23],"14271d6f-ba62-d045-549b-ab972ae1f70e_142bb34d-3439-576a-7118-683e690a1e0d_ssr":[21,23],"14517e1a-3ff0-af98-408e-2bd6953c36a2":[22,28],"1484cb44-49cd-5b39-9681-75188ab429de":[22,28],"14bcded7-0066-7c35-14d7-466cb3f09103":[22,28],"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9":[22,28],"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9_members":[21],"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9_members_ssr":[21],"14ce1214-b278-a7e4-1373-00cebd1bef7c":[22,28],"14ce1214-b278-a7e4-1373-00cebd1bef7c_getSubscribers":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_getSubscribers_ssr":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_init-phase":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_init-phase_ssr":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_wixForms":[21,23],"14ce1214-b278-a7e4-1373-00cebd1bef7c_wixForms_ssr":[21,23],"675bbcef-18d8-41f5-800e-131ec9e08762":[22,28],dataBinding:[22,28],"1484cb44-49cd-5b39-9681-75188ab429de_SearchAppController":[21],"1484cb44-49cd-5b39-9681-75188ab429de_SearchAppController_ssr":[21]},ro={script_loaded:[22,28],await_controller_promise:[22,28]},no=Object.keys(to),oo=(Object.keys(ro),function(){function e(e){this.enableSampleRateForAppNames=e}return e.prototype.shouldSampleAppNameEvent=function(e,t,r){var n,o,i=null==(n=ro[r])?void 0:n.includes(t);if(!no.includes(e)||!this.enableSampleRateForAppNames||i)return!1;var s=(null!=(o=to[e])?o:[]).includes(t);return this.enableSampleRateForAppNames&&s},e}());function io(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return so(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return so(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(r),!0).forEach((function(t){co(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function co(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var po="wixPerformanceMeasurements",fo=function(e,t){if(e)return e(t)},ho=function(e,t){return t?"[guid: "+t+"] "+e:e},go=function(e){return"[object Array]"===Object.prototype.toString.call(e)},mo=function(){function e(e,t,r,n){var o={appId:null,widgetId:null,metasiteId:null,sessionId:Ln.getSessionId(),isServerSide:null,disableAutoLoadFinish:!1,phasesConfig:zn,interactionTimeout:null,timeoutHook:null,startHook:null,endHook:null,isPersistent:!1,corrId:Tn(),presetType:un.DEFAULT,customParams:{},paramsOverrides:{},enableSampleRateForAppNames:!1},i=Object.assign({},o,n);this.appName=e,this.appVersion=t,this.appId=i.appId,this.widgetId=i.widgetId,this.metasiteId=i.metasiteId,this.corrId=i.corrId,this.isServerSide=i.isServerSide,this.params={sessionId:i.sessionId},this.enableSampleRateForAppNames=i.enableSampleRateForAppNames,this.httpMonitoringDataItems=new qn(this.sessionId,Yn),this.httpMonitoringReporter=vn({preset:Yn}),this._customParams=Object.assign({},i.customParams),this.disableAutoLoadFinish=i.disableAutoLoadFinish,this.phasesConfig=i.phasesConfig,this._appLoadedCalled={},this._appStartLoadCalled={},this._presetType=i.presetType,this._preset=cn(this._presetType),this._constructorParamsOverrides=i.paramsOverrides,this._cookiesParamsOverrides=new Jn,this.dataItems=new qn(this.sessionId,this._preset),this.reporter=r||vn({preset:this._preset}),this._times=new An(e),this.loadingPhases=new Mn(e,this._times),this.sampleRateManager=new oo(this.enableSampleRateForAppNames),this.dataSourceBase=new Pn,this.dataSourceBase.addItem(this.dataItems.appName({appName:e,isServerSide:this.isServerSide})).addItem(this.dataItems.dataItem({corrId:this.corrId,is_rollout:!1})).addItem(this.dataItems.dataItem(i.paramsOverrides)),n&&n.artifactData&&this.dataSourceBase.addItem(this.dataItems.artifact(n.artifactData)),"is_rollout"in this._constructorParamsOverrides&&void 0===this._constructorParamsOverrides.is_rollout&&(this._constructorParamsOverrides.is_rollout=!1),this._outgoingInteractions={},this._outgoingHttpRequests={},this.interactionTimeout=i.interactionTimeout,this.timeoutHook=i.timeoutHook,this.startHook=i.startHook,this.endHook=i.endHook,this.isPersistent=i.isPersistent,this._firstErrorFiredInFlow={},this._platformTenantsPromise=eo(),this._webVitalsLoadedPromise=eo(),this._webVitalsFirstInputPromise=eo(),i.reportBlackbox&&this._handleBlackboxPerformance(),this._reportWebVitalsWhenAvailable()}var t,r,n,o=e.prototype;return o._report=function(e,t,r){var n=e.mergeItems();if(!this.sampleRateManager.shouldSampleAppNameEvent(n.appName||this.appName,n.evid,n.name))return this.reporter.report(n,t,r)},o._reportIfNotSSR=function(e,t,r){if(!this.isServerSide||this.appName.includes("thunderbolt"))return this._report(e,t,r)},o._reportHttpMonitoring=function(e){return this.httpMonitoringReporter.report(e.mergeItems(),Yn.endpoint)},o.getAppName=function(){return this.appName},o.getAppVersion=function(){return this.appVersion},o.getReporter=function(){return this.reporter},o.getHttpMonitoringReporter=function(){return this.httpMonitoringReporter},o.getParam=function(e){return this.params[e]},o._isDisableAutoLoadFinish=function(){return this.disableAutoLoadFinish},o.isDisableAutoLoadFinish=function(){return this._isDisableAutoLoadFinish()},o.reportNetworkAnalysis=function(){},o._getAppLoadingPhaseMarksForApp=function(e){var t=e.appId,r=bn(),n=[];return r.forEach((function(e){var r=function(e){var t=Rn.exec(e);if(t)return{phaseName:t[1],appId:t[2],widgetId:t[3]}}(e.name);if(r&&r.appId===t&&!r.widgetId){var o=e.startTime,i=e.name,s=Object.assign({},{startTime:o,name:i},r);n.push(s)}})),n},o._getTimesOfPhase=function(e){var t,r,n=e.phaseName,o=e.appPhasesMarks,i=e.appId;return{startMarkTime:null==(t=o.find((function(e){return e.name==="[fedops] phase:"+n+" "+i+" started"})))?void 0:t.startTime,finishMarkTime:null==(r=o.find((function(e){return e.name==="[fedops] phase:"+n+" "+i+" finished"})))?void 0:r.startTime}},o._getPhaseNamesFromMarks=function(e){return new Set(e.map((function(e){return e.phaseName})))},o.reportAppPhasesNetworkAnalysis=function(){},o.appLoadStarted=function(t){var r=void 0===t?{}:t,n=r.appId,o=r.paramsOverrides;if(!(n&&this._appStartLoadCalled[n]||!n&&this._appStartLoadCalled[this.appName])){e._markAppLoadStarted(this.appName),this._appStartLoadCalled[n||this.appName]=!0,this._times.setLoadStarted({appId:n});var i=this.dataSource.addItem(this.dataItems.biAppLoadStart()).addItem(this.dataItems.appContext({appId:n||this.appId,widgetId:this.widgetId,isServerSide:this.isServerSide})).addItem(this._getDataItemWithDefaultParamsOverrides({appName:n})).addItem(this.dataItems.dataItem(o));return n&&this._changeAppNameForEvent(i,n),this._report(i,this._getEndpoint())}},o.httpRequest=function(e){var t=e.artifactId,r=e.method,n=e.url,o=this._getUrlTemplate(n);this._outgoingHttpRequests[o]={timestamp:wn()};var i=this.dataSource.addItem(this.httpMonitoringDataItems.biHttpRequest()).addItem({artifactId:t,method:r,url:o});this._reportHttpMonitoring(i)},o.httpResponse=function(e){var t=e.artifactId,r=e.method,n=e.statusCode,o=e.url,i=this._getUrlTemplate(o);if(!this._outgoingHttpRequests[i])throw new Error("To use httpResponse you must use httpRequest first");var s=this._outgoingHttpRequests[i].timestamp,a=wn(),u=Math.floor(a-s),c=this.dataSource.addItem(this.httpMonitoringDataItems.biHttpResponse()).addItem({artifactId:t,method:r,responseTime:u,status_code:n,url:i});this._httpResponseTime({artifactId:t,method:r,responseTime:u,url:i}),this._reportHttpMonitoring(c)},o._httpResponseTime=function(e){var t=e.artifactId,r=e.method,n=e.responseTime,o=e.url,i=this.dataSource.addItem(this.httpMonitoringDataItems.biHttpResponseTime()).addItem({artifactId:t,method:r,responseTime:n,url:o});return this._reportHttpMonitoring(i)},o._getUrlTemplate=function(e){var t=function(e){try{return new URL(e)}catch(o){var t,r,n;return{pathname:e,origin:null!=(t=null==(r=dn())||null==(n=r.location)?void 0:n.origin)?t:""}}}(e);return t.origin+"/"+t.pathname.split("/").filter((function(e){return!!e})).map((function(e){return function(e){return jn(e)?":param":e}(e)})).join("/")},o._shouldAddCustomParams=function(e){var t=function(e){return e&&0===Object.keys(e).length&&e.constructor===Object},r=t(this._customParams)&&t(e),n=(new yn.ConsentPolicyAccessor).getCurrentConsentPolicy(),o=n.functional,i=n.analytics;return!r&&(o&&i)},o._addCustomParamsToEvent=function(e,t){var r="string"==typeof t?JSON.parse(t):t;if(t=Object.assign({},this._customParams,r),Object.keys(t).length>0){var n=JSON.stringify(t);e.addItem(this.dataItems.customParams(n))}},o.appLoaded=function(t){var r=void 0===t?{}:t,n=r.appId,o=r.customParams,i=r.paramsOverrides;if(!(n&&this._appLoadedCalled[n]||!n&&this._appLoadedCalled[this.appName])){e._clearLoadTimeout(),e._markAndMeasureAppLoad(this.appName),this._appLoadedCalled[n||this.appName]=!0,this._sendLastAppLoadPhaseIfNeeded();var s=this.dataSource.addItem(this.dataItems.biAppLoadFinish()).addItem(this.dataItems.appContext({appId:n||this.appId,widgetId:this.widgetId,isServerSide:this.isServerSide})).addItem(this.dataItems.duration(this._times.getAppLoadTime({appId:n})).setFirstRequestDuration(this._times.getFirstRequestDuration())).addItem(this._getDataItemWithDefaultParamsOverrides({appName:n})).addItem(this.dataItems.dataItem(i));return n&&this._changeAppNameForEvent(s,n),this._shouldAddCustomParams(o)&&this._addCustomParamsToEvent(s,o),this._report(s,this._getEndpoint())}},o.appLoadingPhaseStart=function(e,t){var r=void 0===t?{}:t,n=r.appId,o=r.widgetId,i=r.paramsOverrides;this.loadingPhases.saveLoadingPhase({name:e,appId:n,widgetId:o}),this._sendPreviousPhaseIfNeeded(e,{appId:n,widgetId:o,paramsOverrides:i}),On("[fedops] "+e+" started"),On("[fedops] phase:"+e+" "+n+(o?" "+o:"")+" started");var s=this.dataSource.addItem(this.dataItems.biLoadPhaseStart()).addItem(this.dataItems.appContext({appId:n,widgetId:o})).addItem(this.dataItems.loadingPhaseStart({name:e})).addItem(this._getDataItemWithDefaultParamsOverrides({appName:n})).addItem(this.dataItems.dataItem(i));n&&this._changeAppNameForEvent(s,n),this._report(s,this._getEndpoint())},o._changeAppNameForEvent=function(e,t){e.addItem(this.dataItems.appName({appName:t,isServerSide:this.isServerSide}))},o._sendPreviousPhaseIfNeeded=function(e,t){var r=void 0===t?{}:t,n=r.appId,o=r.widgetId,i=r.paramsOverrides,s=this.loadingPhases.getPhasePreviousTo({name:e,appId:n,widgetId:o});if(s&&this.phasesConfig===zn){On("[fedops] "+s.name+" finished");var a=this.dataItems.loadingPhaseFinish(s),u=this.dataItems.biLoadPhaseFinish(),c=this.dataItems.dataItem(i),l=this.dataSource.addItem(a).addItem(u).addItem(this._getDataItemWithDefaultParamsOverrides({appName:n})).addItem(c);this._report(l)}},o.appLoadingPhaseFinish=function(e,t,r){var n=void 0===t?{}:t,o=n.appId,i=n.widgetId,s=n.widgetArray,a=n.paramsOverrides,u=(void 0===r?{}:r).endHook;if(this.phasesConfig===zn)throw new Error('To use appLoadingPhaseFinish you must use "phasesConfig: SEND_START_AND_FINISH" setting');On("[fedops] "+e+" finished"),On("[fedops] phase:"+e+" "+o+(i?" "+i:"")+" finished");var c=this.loadingPhases.getAppLoadingPhaseData({name:e,appId:o,widgetId:i});if(!c)throw new Error("Cannot report end of a phase that wasn't started. Phase "+e+" doesn't exist");var l=this.dataItems.loadingPhaseFinish(c),d=this.dataItems.biLoadPhaseFinish(),p=this._getDataItemWithDefaultParamsOverrides({appName:o}),f=this.dataItems.dataItem(a),h=this.dataItems.appContext({appId:o,widgetId:i,widgetArray:s,isServerSide:this.isServerSide});fo(u||this.endHook,{name:c.name,duration:Math.floor(wn()-c.phaseStartTime)});var g=this.dataSource.addItem(l).addItem(d).addItem(h).addItem(p).addItem(f);return o&&this._changeAppNameForEvent(g,o),this._report(g,this._getEndpoint())},o._getEndpoint=function(){return this.isPersistent?this._preset.persistentEndpoint:this._preset.nonPersistentEndpoint},o._getDataItemWithDefaultParamsOverrides=function(e){var t=(void 0===e?{}:e).appName,r=void 0===t?null:t;return this.dataItems.dataItem(uo(uo({},this._cookiesParamsOverrides.getCookieOverridesForApp(r||this.appName)),this._constructorParamsOverrides))},o._sendLastAppLoadPhaseIfNeeded=function(){var e=this.loadingPhases.getNextPhaseToReport();e&&this.phasesConfig===zn&&this._report(this.dataSource.addItem(this.dataItems.loadingPhaseFinish(e)).addItem(this.dataItems.biLoadPhaseFinish()))},e._clearLoadTimeout=function(){dn()&&dn().fedops&&"function"==typeof dn().fedops.clearLoadTimeout&&dn().fedops.clearLoadTimeout()},o.clearResourceTimings=function(){_n()},e._markAppLoadStarted=function(e){On("[fedops] "+e+" app-load-started")},e._markAndMeasureAppLoad=function(e){On("[fedops] "+e+" app-loaded");try{En("[fedops] "+e+" app-loaded","[fedops] "+e+" app-load-started","[fedops] "+e+" app-loaded")}catch(e){}},o._markInteractionStarted=function(e){On("[fedops] "+this.appName+" interaction "+e+" started")},o._markAndMeasureInteractionEnded=function(e,t){if(t){On("[fedops] "+this.appName+" interaction "+e+" ended");try{En("[fedops] "+e+" duration","[fedops] "+this.appName+" interaction "+e+" started","[fedops] "+this.appName+" interaction "+e+" ended")}catch(e){}}},o.interactionStarted=function(e,t){var r=this,n=void 0===t?{}:t,o=n.eventGuid,i=n.stack,s=n.timeOverride,a=n.interactionTimeout,u=n.startHook,c=n.timeoutHook,l=n.customParams,d=n.paramsOverrides;this._markInteractionStarted(e);var p=this.dataSource.addItem({name:e}).addItem(this.dataItems.biInteractionStart()).addItem(this._getDataItemWithDefaultParamsOverrides()).addItem(this.dataItems.dataItem(d));this._shouldAddCustomParams(l)&&this._addCustomParamsToEvent(p,l);var f=ho(e,o),h={timestamp:s||wn(),timeout:a||this.interactionTimeout};i?(this._outgoingInteractions[f]=this._outgoingInteractions[f]||[],this._outgoingInteractions[f].push(h)):this._outgoingInteractions[f]=h,this._reportIfNotSSR(p),fo(u||this.startHook,{name:e});var g=function(){if(a||r.interactionTimeout)return setTimeout((function(){var t=r.dataSource.addItem({interactionName:e}).addItem({errorType:"timeout"}).addItem(r.dataItems.biError());r._reportIfNotSSR(t),fo(c||r.timeoutHook,{name:e,timeout:a||r.interactionTimeout})}),a||r.interactionTimeout)}();return{timeoutId:g}},o.interactionEnded=function(e,t){var r=void 0===t?{}:t,n=r.eventGuid,o=r.timeOverride,i=r.timeoutId,s=r.endHook,a=r.customParams,u=r.paramsOverrides,c=ho(e,n),l=go(this._outgoingInteractions[c])?this._outgoingInteractions[c].pop():this._outgoingInteractions[c];this._markAndMeasureInteractionEnded(e,l),i&&clearTimeout(i);var d=l||this._getInteractionFromWindowIfPresent(e),p=o||wn(),f=d?Math.floor(p-d.timestamp):"";fo(s||this.endHook,{name:e,duration:f,timeout:l&&l.timeout});var h=this.dataSource.addItem({name:e}).addItem({duration:f}).addItem(this.dataItems.biInteractionEnd()).addItem(this._getDataItemWithDefaultParamsOverrides()).addItem(this.dataItems.dataItem(u));this._shouldAddCustomParams(a)&&this._addCustomParamsToEvent(h,a),go(this._outgoingInteractions[c])&&this._outgoingInteractions[c].length||delete this._outgoingInteractions[c],this._reportIfNotSSR(h)},o._getInteractionsObjectFromWindow=function(){var e,t,r,n;return(null==(e=dn())||null==(t=e.fedops)||null==(r=t.apps)||null==(n=r[this.appName])?void 0:n.interactions)||{}},o._getInteractionFromWindowIfPresent=function(e){return this._getInteractionsObjectFromWindow()[e]},o.flush=function(){this.reporter.flush()},o._handleBlackboxPerformance=function(){var e=this,t=dn(),r=t[po];r&&this._handleBlackboxPerformanceEntries(t,r),t.addEventListener&&t.addEventListener(po,(function(r){var n=r.detail;return e._handleBlackboxPerformanceEntries(t,n)}))},o._handleBlackboxPerformanceEntries=function(e,t){var r=this;t.filter((function(e){return e.then})).forEach((function(t){t.then((function(t){switch(t.entryType){case"loaded":r._webVitalsLoadedPromise.resolve(t);break;case"first-input":r._webVitalsFirstInputPromise.resolve(t);break;case"page-transitions":case"crux-cls-s":case"responsiveness":return void(t.eventName&&e.addEventListener&&e.addEventListener(t.eventName,(function(e){var t=e.detail;return r._sendBlackboxMeasurement(t)})))}r._sendBlackboxMeasurement(t)}))}))},o._sendBlackboxMeasurement=function(e){var t=this.dataItems.biBlackbox(e);if(t){var r,n=this.dataItems.blackboxPerformance(e),o=(new Pn).addItem(t).addItem(n);"loaded"===e.entryType&&(r={useBatch:!1}),this._report(o,"bpm",r),"crux"===e.entryType&&this.flush()}},o.getLoggerForWidget=function(t){var r=t.appName,n=t.appId,o=t.widgetId,i=t.version,s=t.timeoutHook,a=t.startHook,u=t.endHook,c=t.useGlobalLogger,l=t.paramsOverrides,d=t.phasesConfig;return new e(r||n+"_"+o,i||this.getAppVersion(),c?this.reporter:vn({biLoggerFactory:this.reporter._factory,preset:this._preset}),{isServerSide:this.isServerSide,appId:n,widgetId:o,sessionId:this.sessionId,phasesConfig:d||zn,isPersistent:this.isPersistent,timeoutHook:s,startHook:a,endHook:u,customParams:this._customParams,presetType:this._presetType,paramsOverrides:uo(uo({},this._constructorParamsOverrides),l),enableSampleRateForAppNames:this.enableSampleRateForAppNames})},o._getUnReportedErrorFlows=function(e){var t=this;return e.filter((function(e){return!t._firstErrorFiredInFlow[e]}))},o.reportErrorThrownOncePerFlow=function(){var e=this,t=this._getFlowsOfError(),r=this._getUnReportedErrorFlows(t);r.length&&r.forEach((function(t){e._firstErrorFiredInFlow[t]=!0;var r=e.dataSource.addItem({interactionName:t}).addItem(e.dataItems.biError());e._report(r)}))},o._errorHappenedInOneOfAppLoadFlows=function(){return this._errorHappenedInAppLoadFlow()||this._errorHappenedInAppLoadingPhasesFlow()},o._errorHappenedInAppLoadFlow=function(){var e=this._getAppLoadStartedIndication(),t=this._getAppLoadedIndication();return e&&!t},o._getAppLoadStartedIndication=function(){var e,t="[fedops] "+this.appName+" app-load-started",r=null==(e=Sn(t))?void 0:e[0],n=this._times.getLoadStartTime();return r||n},o._getAppLoadedIndication=function(){var e,t="[fedops] "+this.appName+" app-loaded";return(null==(e=Sn(t))?void 0:e[0])||this._appLoadedCalled[this.appName]},o._errorHappenedInAppLoadingPhasesFlow=function(e){for(var t,r=(void 0===e?{appId:this.appName}:e).appId,n=this._getAppLoadingPhaseMarksForApp({appId:r}),o=io(this._getPhaseNamesFromMarks(n));!(t=o()).done;){var i=t.value,s=this._getTimesOfPhase({phaseName:i,appPhasesMarks:n,appId:r}),a=s.startMarkTime,u=s.finishMarkTime;if(a&&!u)return!0}return!1},o._getFlowsOfError=function(){var e=this._errorHappenedInOneOfAppLoadFlows()?["app-load"]:[];return[].concat(e,this._getInteractionNamesWhereErrorHappened())},o._getInteractionNamesWhereErrorHappened=function(){var e=this._getInteractionNamesWhereErrorHappenedFromInstance();if(e.length)return e;var t=Object.keys(this._getInteractionsObjectFromWindow());return t.length?t:this._getInteractionNamesWhereErrorHappenedFromPerformanceMarks()},o._getInteractionNamesWhereErrorHappenedFromInstance=function(){return Object.keys(this._outgoingInteractions).map((function(e){return e.replace(/\[guid:\s[^\]]+\]\s/,"")}))},o._getInteractionNamesWhereErrorHappenedFromPerformanceMarks=function(){var t=this._getInteractionMarksOfCurrentApp();return e._getInteractionsThatDidntEndFromMarks(t)},o._getInteractionMarksOfCurrentApp=function(){var e=this;return bn().reduce((function(t,r){var n=function(e){var t=Dn.exec(e);if(t)return{appName:t[1],interactionName:t[2]}}(r.name);return n&&n.appName===e.appName&&(t[n.interactionName]=t[n.interactionName]||[],t[n.interactionName].push({startTime:r.startTime,name:r.name})),t}),{})},e._getInteractionsThatDidntEndFromMarks=function(t){var r=[];for(var n in t)if(t.hasOwnProperty(n)){var o=e._countStartedEndedInteractionMarks(t[n]),i=o.startedInteractions,s=o.endedInteractions;(!i&&!s||i-s!=0)&&r.push(n)}return r},e._countStartedEndedInteractionMarks=function(e){var t=0,r=0;return e.forEach((function(e){e.name.includes("started")?t++:e.name.includes("ended")&&r++})),{startedInteractions:t,endedInteractions:r}},o.registerPlatformTenants=function(e){this._platformTenantsPromise.resolve(e)},o._reportWebVitalsWhenAvailable=function(){var e=this;Promise.all([this._webVitalsLoadedPromise,this._platformTenantsPromise]).then((function(t){var r=t[0],n=t[1],o=r.cls,i=r.lcp;n.forEach((function(t){var r=e.dataSource.addItem(e.dataItems.webVitalsLoaded()).addItem(e.dataItems.appName({appName:t})).addItem({cls:o,lcp:i});e._report(r)}))})),Promise.all([this._webVitalsFirstInputPromise,this._platformTenantsPromise]).then((function(t){var r=t[0],n=t[1],o=r.delay;n.forEach((function(t){var r=e.dataSource.addItem(e.dataItems.webVitalsFirstInput()).addItem(e.dataItems.appName({appName:t})).addItem({fid:o});e._report(r)}))}))},t=e,(r=[{key:"dataSource",get:function(){return this.dataSourceBase.clone()}},{key:"sessionId",get:function(){return this.getParam("sessionId")},set:function(e){this.params.sessionId=e}}])&&lo(t.prototype,r),n&&lo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(r),!0).forEach((function(t){bo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _o(e,t){if(void 0===t&&(t={}),!e)return null;var r=e.replace(/\./g,"-").toLowerCase();Cn(r);var n=yo(yo({},t),{},{preset:cn(t.presetType)}),o=vn(n);return new mo(r,dn().__CI_APP_VERSION__||hn,o,n)}var wo=u(6832),Oo=u(9500);function Eo(e,t){0}class So{getExperiments(e){const t=this.experiments??e?.experiments;return Eo(),t}getFedopsLogger(e){const t=this.fedopsLogger??e?.fedopsLogger;return Eo(),t}getErrorMonitor(e){const t=this.errorMonitor??e?.errorMonitor;return Eo(),t}getI18n(e){const t=this.i18n??e?.i18n;return Eo(),t}getBILoggerFactory(e){const t=this.biLoggerFactory??e?.biLoggerFactory;return Eo(),t}getBILogger(e){const t=this.biLogger??e?.biLogger;return Eo(),t}getHttpClient(e){const t=this.httpClient??e?.httpClient;return Eo(),t}getEnvironment(e){const t=e?.environment;return Eo(),t}getErrorHandler(e){const t=e?.errorHandler;return Eo(),t}getDataCapsule(e){const t=this.dataCapsule??e?.dataCapsule;return Eo(),t}getCreateCurrencyFormatter(e){const t=this.createCurrencyFormatter??e?.createCurrencyFormatter;return Eo(),t}getFormatAddress(e){const t=this.formatAddress??e?.formatAddress;return Eo(),t}getAbTranslate(e){const t=this.abTranslate??e?.abTranslate;return Eo(),t}getPanoramaClient(e){const t=this.panoramaClient??e?.panoramaClient;return Eo(),t}}class Io{static verify(e){if(e instanceof Io)return e;throw new Error("This class must extend BaseStorage!")}extendScope(e){return e}}class Co extends Io{constructor({strategy:e,...t}){super(),this.storageStrategy=Io.verify(e),this._options=t}async setItem(e,t,r){const n=this._buildValidateOptions(this._options,r);return this.storageStrategy.setItem(e,t,n)}getItem(e,t){const r=this._buildValidateOptions(this._options,t);return this.storageStrategy.getItem(e,r)}removeItem(e,t){const r=this._buildValidateOptions(this._options,t);return this.storageStrategy.removeItem(e,r)}getAllItems(e){const t=this._buildValidateOptions(this._options,e);return this.storageStrategy.getAllItems(t)}_buildValidateOptions(e,t){if((t={...e,...t}).scope=this.storageStrategy.extendScope(t.scope),!function(e){return"string"==typeof e.namespace}(t))throw new Error("namespace is required and should be a string");return t}}const Ao={NOT_FOUND:new Error("Key was not found in capsule"),SERVER_ERROR:new Error("Failed to perform operarion on server"),LOCAL_STORAGE_UNSUPPORTED:new Error("LocalStorage is not supported"),COOKIE_CONSENT_DISALLOWED:new Error("The item cannot be set because the user has not approved the category it belongs to")};const xo="|",Po="#",No="capsule",ko=Ao.NOT_FOUND,To=Ao.SERVER_ERROR,Ro=Ao.LOCAL_STORAGE_UNSUPPORTED,Do=Ao.COOKIE_CONSENT_DISALLOWED,jo=["essential","functional","analytics","advertising"];function Lo(e){!function(e){if(!e)return;if(-1===jo.indexOf(e)){const e=jo.map((e=>`'${e}'`)).join(", ");throw new Error(`category must be one of ${e}`)}}(e);const t=function(){const{policy:e}="object"==typeof consentPolicyManager&&consentPolicyManager.getCurrentConsentPolicy&&consentPolicyManager.getCurrentConsentPolicy()||"object"==typeof Wix&&Wix.Utils&&Wix.Utils.getCurrentConsentPolicy&&Wix.Utils.getCurrentConsentPolicy()||{};return e}();if(void 0!==t&&!t[e])throw Do}function Mo(e){const[t,r]=e.split(Po),[,n,o]=t.split(xo);return void 0===o?{namespace:n,key:r}:{namespace:n,scope:o,key:r}}function Fo(e){return JSON.parse(e)}function Bo(e=No+xo){const t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n.startsWith(e)){const e=localStorage.getItem(n);t.push({size:n.length+e.length,originalKey:n,...Fo(e),...Mo(n)})}}return t}function Ho(e){return!!e.expiration&&e.createdAt+1e3*e.expiration<=Date.now()}function Uo(e,t=e.records[0]){return localStorage.removeItem(t.originalKey),{records:t===e.records[0]?e.records.slice(1):e.records.filter((({originalKey:e})=>e!==t.originalKey)),requiredSpace:e.requiredSpace-t.size}}function Zo(e,t){return e.lastUsed-t.lastUsed}function Wo(e){return e.records.length>0&&e.requiredSpace>0}function Vo(e){let t={records:Bo(),requiredSpace:e};t=function(e){return e.records.filter((e=>Ho(e))).forEach((t=>e=Uo(e,t))),e}(t),function(e){for(e.records.sort(Zo);Wo(e);)e=Uo(e)}(t)}class qo extends Io{async setItem(e,t,r){const n=zo(e,r),o=$o(t,r);r.category&&Lo(r.category);try{localStorage.setItem(n,o)}catch(e){Vo(n.length+o.length),localStorage.setItem(n,o)}}getItem(e,t){const r=zo(e,t);let n;try{n=localStorage.getItem(r)}catch(e){return Promise.reject(Ro)}return n=n&&Fo(n),n&&!Ho(n)?(function(e,t){const{expiration:r,createdAt:n}=t;localStorage.setItem(e,$o(t.value,{expiration:r,createdAt:n}))}(r,n),Promise.resolve(n.value)):Promise.reject(ko)}removeItem(e,t){return e=zo(e,t),localStorage.removeItem(e),Promise.resolve()}getAllItems(e){const t=Go(e),r={};return Bo(t).forEach((e=>{Ho(e)||(r[e.key]=e.value)})),Promise.resolve(r)}}function zo(e,t){return Go(t)+e}function Go(e){return[No,e.namespace,(t=e.scope,"string"==typeof t?t:JSON.stringify(t))].filter((e=>e)).join(xo)+Po;var t}function $o(e,t){const r={lastUsed:Date.now(),createdAt:t.createdAt||Date.now(),expiration:t.expiration,value:e};return JSON.stringify(r)}class Ko extends Io{async setItem(){}getItem(){return Promise.reject(ko)}removeItem(){return Promise.resolve()}getAllItems(){return Promise.resolve({})}}function Xo(e){return"undefined"==typeof document?"":(document.cookie.match(`${e}=([^;]*)`)||[""]).pop()??""}function Jo(){return Xo("wixClient").split("|")[6]||Xo("_wixCIDX")}class Qo extends Io{constructor({httpClient:e}){super(),this.httpClient=e}extendScope(e){return{userId:Jo(),..."string"==typeof e?{siteId:e}:e}}setItem(e,t,r){const n={nameSpace:r.namespace,key:e,blob:t};return"object"==typeof r.scope&&r.scope.siteId&&(n.siteId=r.scope.siteId),r.expiration&&(n.TTLInDays=Math.ceil(r.expiration/86400)),this.httpClient.post("/_api/wix-user-preferences-webapp/set",n).then((()=>{})).catch((e=>{throw console.error(e),To}))}removeItem(e,t){const r={nameSpace:t.namespace,key:e};return"object"==typeof t.scope&&t.scope.siteId&&(r.siteId=t.scope.siteId),this.httpClient.post("/_api/wix-user-preferences-webapp/delete",r).then((()=>{})).catch((()=>{throw To}))}getItem(e,t){const r="object"==typeof t.scope?t.scope.siteId:void 0,n=["/_api/wix-user-preferences-webapp",r?"getVolatilePrefForSite":"getVolatilePrefForKey",t.namespace,r,e].filter((e=>e)).join("/");return this.httpClient.get(n).then((t=>t.data[e])).catch((e=>{throw 404===e?.response?.status?ko:To}))}getAllItems(e){const t="object"==typeof e.scope?e.scope.siteId:void 0,r=["/_api/wix-user-preferences-webapp",t?"getVolatilePrefsForSite":"getVolatilePrefs",e.namespace,t].filter((e=>e)).join("/");return this.httpClient.get(r).then((e=>e.data)).catch((()=>{throw To}))}}const Yo="___DELETED___";class ei extends Io{constructor({remoteStrategy:e,localStrategy:t}){super(),function(e){return e&&e.constructor===Qo&&""===Jo()}(e)&&(t=new Ko),this.remoteStrategy=Io.verify(e),this.localStrategy=Io.verify(t||new qo)}extendScope(e){return this.remoteStrategy.extendScope(e)}_cacheItem(e,t,r){return this.localStrategy.setItem(e,t,Object.assign(r,{expiration:3600}))}setItem(e,t,r){return this.remoteStrategy.setItem(e,t,r).then((()=>this._cacheItem(e,t,r)))}removeItem(e,t){return this.remoteStrategy.removeItem(e,t).then((()=>this._cacheItem(e,Yo,t)))}getItem(e,t){return this.localStrategy.getItem(e,t).catch((()=>this._getRemoteAndCache(e,t))).then((function(e){if(e===Yo)throw ko;return e}))}getAllItems(e){return this.remoteStrategy.getAllItems(e).then((t=>Promise.all(Object.keys(t).map((r=>this._cacheItem(r,t[r],e)))).then((()=>t))))}_getRemoteAndCache(e,t){return this.remoteStrategy.getItem(e,t).then((r=>this._cacheItem(e,r,t).then((()=>r)))).catch((r=>{if(r===ko)return this._cacheItem(e,Yo,t).then((()=>{throw r}));throw r}))}}function ti({remoteStrategy:e,...t}){return new Co({...t,strategy:new ei({remoteStrategy:e})})}const ri=new Map,ni=e=>{const t=(r=e,Object.keys(r).filter((e=>void 0!==r[e])).sort().map((e=>`${e}=${r[e]}`)).join("&"));var r;if(ri.has(t))return ri.get(t);const n=(({language:e,country:t,...r})=>{if(void 0===Intl?.NumberFormat)throw new Error("Intl.NumberFormat is not available.");const n=(e=>e.split("-")[0])(e),o=t?`${n}-${t}`:e;return Intl.NumberFormat(o,{style:"currency",...r})})(e);return ri.set(t,n),n};function oi(e){return function(t){const r={...e,...t};return function({value:e,currency:t}){const n=ni({...r,currency:t}),o="string"==typeof e?Number(e):e;return r.parts?n.formatToParts(o):n.format(o)}}}ni.cache=ri;const ii={AC:"%N%n%O%n%A%n%C%n%Z",AD:"%N%n%O%n%A%n%Z %C",AE:"%N%n%O%n%A%n%S",AF:"%N%n%O%n%A%n%C%n%Z",AI:"%N%n%O%n%A%n%C%n%Z",AL:"%N%n%O%n%A%n%Z%n%C",AM:"%N%n%O%n%A%n%Z%n%C%n%S",AR:"%N%n%O%n%A%n%Z %C%n%S",AS:"%N%n%O%n%A%n%C %S %Z",AT:"%O%n%N%n%A%n%Z %C",AU:"%O%n%N%n%A%n%C %S %Z",AX:"%O%n%N%n%A%n%Z %C%n\xc5LAND",AZ:"%N%n%O%n%A%nAZ %Z %C",BA:"%N%n%O%n%A%n%Z %C",BB:"%N%n%O%n%A%n%C, %S %Z",BD:"%N%n%O%n%A%n%C - %Z",BE:"%O%n%N%n%A%n%Z %C",BF:"%N%n%O%n%A%n%C %X",BG:"%N%n%O%n%A%n%Z %C",BH:"%N%n%O%n%A%n%C %Z",BL:"%O%n%N%n%A%n%Z %C %X",BM:"%N%n%O%n%A%n%C %Z",BN:"%N%n%O%n%A%n%C %Z",BR:"%O%n%N%n%A%n%D%n%C-%S%n%Z",BS:"%N%n%O%n%A%n%C, %S",BT:"%N%n%O%n%A%n%C %Z",BY:"%O%n%N%n%A%n%Z, %C%n%S",CA:"%N%n%O%n%A%n%C %S %Z",CC:"%O%n%N%n%A%n%C %S %Z",CH:"%O%n%N%n%A%n%Z %C",CI:"%N%n%O%n%X %A %C %X",CL:"%N%n%O%n%A%n%Z %C%n%S",CN:"%Z%n%S%C%D%n%A%n%O%n%N",CO:"%N%n%O%n%A%n%D%n%C, %S, %Z",CR:"%N%n%O%n%A%n%S, %C%n%Z",CU:"%N%n%O%n%A%n%C %S%n%Z",CV:"%N%n%O%n%A%n%Z %C%n%S",CX:"%O%n%N%n%A%n%C %S %Z",CY:"%N%n%O%n%A%n%Z %C",CZ:"%N%n%O%n%A%n%Z %C",DE:"%N%n%O%n%A%n%Z %C",DK:"%N%n%O%n%A%n%Z %C",DO:"%N%n%O%n%A%n%Z %C",DZ:"%N%n%O%n%A%n%Z %C",EC:"%N%n%O%n%A%n%Z%n%C",EE:"%N%n%O%n%A%n%Z %C %S",EG:"%N%n%O%n%A%n%C%n%S%n%Z",EH:"%N%n%O%n%A%n%Z %C",ES:"%N%n%O%n%A%n%Z %C %S",ET:"%N%n%O%n%A%n%Z %C",FI:"%O%n%N%n%A%n%Z %C",FK:"%N%n%O%n%A%n%C%n%Z",FM:"%N%n%O%n%A%n%C %S %Z",FO:"%N%n%O%n%A%nFO%Z %C",FR:"%O%n%N%n%A%n%Z %C",GB:"%N%n%O%n%A%n%C%n%Z",GE:"%N%n%O%n%A%n%Z %C",GF:"%O%n%N%n%A%n%Z %C %X",GG:"%N%n%O%n%A%n%C%nGUERNSEY%n%Z",GI:"%N%n%O%n%A%nGIBRALTAR%n%Z",GL:"%N%n%O%n%A%n%Z %C",GN:"%N%n%O%n%Z %A %C",GP:"%O%n%N%n%A%n%Z %C %X",GR:"%N%n%O%n%A%n%Z %C",GS:"%N%n%O%n%A%n%n%C%n%Z",GT:"%N%n%O%n%A%n%Z- %C",GU:"%N%n%O%n%A%n%C %Z",GW:"%N%n%O%n%A%n%Z %C",HK:"%S%n%C%n%A%n%O%n%N",HM:"%O%n%N%n%A%n%C %S %Z",HN:"%N%n%O%n%A%n%C, %S%n%Z",HR:"%N%n%O%n%A%n%Z %C",HT:"%N%n%O%n%A%nHT%Z %C",HU:"%N%n%O%n%C%n%A%n%Z",ID:"%N%n%O%n%A%n%C%n%S %Z",IE:"%N%n%O%n%A%n%D%n%C%n%S%n%Z",IL:"%N%n%O%n%A%n%C %Z",IM:"%N%n%O%n%A%n%C%n%Z",IN:"%N%n%O%n%A%n%C %Z%n%S",IO:"%N%n%O%n%A%n%C%n%Z",IQ:"%O%n%N%n%A%n%C, %S%n%Z",IR:"%O%n%N%n%S%n%C, %D%n%A%n%Z",IS:"%N%n%O%n%A%n%Z %C",IT:"%N%n%O%n%A%n%Z %C %S",JE:"%N%n%O%n%A%n%C%nJERSEY%n%Z",JM:"%N%n%O%n%A%n%C%n%S %X",JO:"%N%n%O%n%A%n%C %Z",JP:"\u3012%Z%n%S%n%C%n%A%n%O%n%N%",KE:"%N%n%O%n%A%n%C%n%Z",KG:"%N%n%O%n%A%n%Z %C",KH:"%N%n%O%n%A%n%C %Z",KI:"%N%n%O%n%A%n%S%n%C",KN:"%N%n%O%n%A%n%C, %S",KP:"%Z%n%S%n%C%n%A%n%O%n%N",KR:"%S %C%D%n%A%n%O%n%N%n%Z",KW:"%N%n%O%n%A%n%Z %C",KY:"%N%n%O%n%A%n%S %Z",KZ:"%Z%n%S%n%C%n%A%n%O%n%N",LA:"%N%n%O%n%A%n%Z %C",LB:"%N%n%O%n%A%n%C %Z",LI:"%O%n%N%n%A%n%Z %C",LK:"%N%n%O%n%A%n%C%n%Z",LR:"%N%n%O%n%A%n%Z %C",LS:"%N%n%O%n%A%n%C %Z",LT:"%O%n%N%n%A%n%Z %C",LU:"%O%n%N%n%A%n%Z %C",LV:"%N%n%O%n%A%n%S%n%C, %Z",MA:"%N%n%O%n%A%n%Z %C",MC:"%N%n%O%n%A%n%Z %C %X",MD:"%N%n%O%n%A%n%Z %C",ME:"%N%n%O%n%A%n%Z %C",MF:"%O%n%N%n%A%n%Z %C %X",MG:"%N%n%O%n%A%n%Z %C",MH:"%N%n%O%n%A%n%C %S %Z",MK:"%N%n%O%n%A%n%Z %C",MM:"%N%n%O%n%A%n%C, %Z",MN:"%N%n%O%n%A%n%C%n%S %Z",MO:"%A%n%O%n%N",MP:"%N%n%O%n%A%n%C %S %Z",MQ:"%O%n%N%n%A%n%Z %C %X",MT:"%N%n%O%n%A%n%C %Z",MU:"%N%n%O%n%A%n%Z%n%C",MV:"%N%n%O%n%A%n%C %Z",MW:"%N%n%O%n%A%n%C %X",MX:"%N%n%O%n%A%n%D%n%Z %C, %S",MY:"%N%n%O%n%A%n%D%n%Z %C%n%S",MZ:"%N%n%O%n%A%n%Z %C%S",NA:"%N%n%O%n%A%n%C%n%Z",NC:"%O%n%N%n%A%n%Z %C %X",NE:"%N%n%O%n%A%n%Z %C",NF:"%O%n%N%n%A%n%C %S %Z",NG:"%N%n%O%n%A%n%D%n%C %Z%n%S",NI:"%N%n%O%n%A%n%Z%n%C, %S",NL:"%O%n%N%n%A%n%Z %C",NO:"%N%n%O%n%A%n%Z %C",NP:"%N%n%O%n%A%n%C %Z",NR:"%N%n%O%n%A%n%S",NZ:"%N%n%O%n%A%n%D%n%C %Z",OM:"%N%n%O%n%A%n%Z%n%C",PA:"%N%n%O%n%A%n%C%n%S",PE:"%N%n%O%n%A%n%C %Z%n%S",PF:"%N%n%O%n%A%n%Z %C %S",PG:"%N%n%O%n%A%n%C %Z %S",PH:"%N%n%O%n%A%n%D, %C%n%Z %S",PK:"%N%n%O%n%A%n%D%n%C-%Z",PL:"%N%n%O%n%A%n%Z %C",PM:"%O%n%N%n%A%n%Z %C %X",PN:"%N%n%O%n%A%n%C%n%Z",PR:"%N%n%O%n%A%n%C PR %Z",PT:"%N%n%O%n%A%n%Z %C",PW:"%N%n%O%n%A%n%C %S %Z",PY:"%N%n%O%n%A%n%Z %C",RE:"%O%n%N%n%A%n%Z %C %X",RO:"%N%n%O%n%A%n%Z %S %C",RS:"%N%n%O%n%A%n%Z %C",RU:"%N%n%O%n%A%n%C%n%S%n%Z",SA:"%N%n%O%n%A%n%C %Z",SC:"%N%n%O%n%A%n%C%n%S",SD:"%N%n%O%n%A%n%C%n%Z",SE:"%O%n%N%n%A%n%Z %C",SG:"%N%n%O%n%A%nSINGAPORE %Z",SH:"%N%n%O%n%A%n%C%n%Z",SI:"%N%n%O%n%A%n%Z %C",SJ:"%N%n%O%n%A%n%Z %C",SK:"%N%n%O%n%A%n%Z %C",SM:"%N%n%O%n%A%n%Z %C",SN:"%N%n%O%n%A%n%Z %C",SO:"%N%n%O%n%A%n%C, %S %Z",SR:"%N%n%O%n%A%n%C%n%S",SV:"%N%n%O%n%A%n%Z-%C%n%S",SZ:"%N%n%O%n%A%n%C%n%Z",TA:"%N%n%O%n%A%n%C%n%Z",TC:"%N%n%O%n%A%n%C%n%Z",TH:"%N%n%O%n%A%n%D %C%n%S %Z",TJ:"%N%n%O%n%A%n%Z %C",TM:"%N%n%O%n%A%n%Z %C",TN:"%N%n%O%n%A%n%Z %C",TR:"%N%n%O%n%A%n%Z %C/%S",TV:"%N%n%O%n%A%n%C%n%S",TW:"%Z%n%S%C%n%A%n%O%n%N",TZ:"%N%n%O%n%A%n%Z %C",UA:"%N%n%O%n%A%n%C%n%S%n%Z",UM:"%N%n%O%n%A%n%C %S %Z",US:"%N%n%O%n%A%n%C, %S %Z",UY:"%N%n%O%n%A%n%Z %C %S",UZ:"%N%n%O%n%A%n%Z %C%n%S",VA:"%N%n%O%n%A%n%Z %C",VC:"%N%n%O%n%A%n%C %Z",VE:"%N%n%O%n%A%n%C %Z, %S",VG:"%N%n%O%n%A%n%C%n%Z",VI:"%N%n%O%n%A%n%C %S %Z",VN:"%N%n%O%n%A%n%C%n%S %Z",WF:"%O%n%N%n%A%n%Z %C %X",XK:"%N%n%O%n%A%n%Z %C",YT:"%O%n%N%n%A%n%Z %C %X",ZA:"%N%n%O%n%A%n%D%n%C%n%Z",ZM:"%N%n%O%n%A%n%Z %C"},si={"%N":"name","%O":"organization","%A":"addressLines","%D":"dependentLocality","%C":"locality","%S":"administrativeArea","%Z":"postalCode","%X":"sortingCode","%R":"postalCountry"},ai=["AU","AT","BG","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IT","LV","LT","LU","NL","NZ","NO","PL","PT","RO","SK","SI","ES","SE","CH","TR","IE","JP","BR"],ui=(e,t)=>{const r=[],n=e.addressLine2??e.addressLine_2??void 0;if(e.streetAddress){const t=(({name:e,number:t,apt:r},n)=>{if(!e&&!t)return"";if(!e||!t)return e||t;const o=r?`${t}-${r}`:t;return ai.includes(n)?`${e} ${o}`.trim():`${o} ${e}`.trim()})(e.streetAddress,e.country);r.push(t)}else e.addressLine&&r.push(e.addressLine);return n&&r.push(n),{name:t?.fullName,organization:t?.company,postalCountry:e.country,administrativeArea:e.subdivision,locality:e.city,country:e.countryFullname,postalCode:e.postalCode,addressLines:r}},ci=e=>"%"===e[0]&&"%n"!==e,li=e=>si[e],di=(e,t)=>"addressLines"===t?void 0!==e.addressLines&&e.addressLines.length>0:void 0!==e[t]&&""!==e[t],pi=({address:e,addressContactDetails:t},{appendCountry:r=!0}={})=>{const n=ui(e,t),o=(e=>{const t=[];let r=0;for(;r<e.length;){if("%"===e[r])t.push(e.slice(r,r+2)),r+=1;else{let n=r;for(;"%"!==e[n]&&n<e.length;)n+=1;t.push(e.slice(r,n)),r=n-1}r+=1}return t})((e=>{const t=e?.toUpperCase();return t&&t in ii?ii[t]:"%N%n%O%n%A%n%C"})(e.country)),i=((e,t)=>{const r=[];let n=0;for(;n<t.length;){const o=t[n];if("%n"===o)r.push(o);else if(ci(o)){const t=li(o);di(e,t)&&r.push(o)}else{const i=0===n||!ci(t[n-1])||r.length>0&&ci(r[r.length-1]),s=n===o.length-1||"%n"===o[n+1]||di(e,li(t[n+1]));i&&s&&r.push(o)}n+=1}for(;r.length>0&&"%n"===r[0];)r.shift();return r})(n,o);return((e,t,r)=>{const n=[];let o="";for(const r of t)if("%n"===r)o.length>0&&(n.push(o),o="");else if(ci(r)){const t=li(r);if("postalCountry"===t)continue;if("addressLines"===t){e.addressLines&&e.addressLines.length>0&&(o+=e.addressLines[0],n.push(o),o="",2===e.addressLines.length&&n.push(e.addressLines[1]));continue}o+=e[t]}else o+=r;return o.length>0&&n.push(o),r.appendCountry&&e.country&&n.push(e.country),n})(n,i,{appendCountry:r})};class fi extends So{constructor({experiments:e,fedops:t,errorMonitor:r,httpClient:n,i18n:o,dataCapsule:i,errorHandler:s,parent:a}){super();const u=this.getEnvironment(a);this.errorHandler=s?new Ar({environment:u,biLoggerOrFactory:wo.factory,createExperiments:e=>new en(e),createI18n:e=>Ve({locale:u.language,...e}),createErrorMonitor:e=>Yt({Sentry:Oo,environment:Wt(),...e}),...s}):void 0,this.httpClient=n?Ut({...n,errorHandler:this.errorHandler}):null;const c=this.httpClient??a?.asPartial.httpClient;this.dataCapsule=i?new Co({...i,strategy:"userPreferences"===i.storageStrategy&&c?ti({remoteStrategy:new Qo({httpClient:c})}):new qo}):null,this.experiments=e?"scopes"in e?new en({scopes:e.scopes}):new Qr({experiments:e.bag}):null,this.fedopsLogger=t?_o(t.appName):null,this.errorMonitor=r?Yt({Sentry:Oo,environment:Wt(),...r}):null,this.i18n=o?Ve({locale:u.language,...o}):null,this.biLoggerFactory=wo.factory,this.biLogger=this.biLoggerFactory().logger(),this.createCurrencyFormatter=oi({language:u.language}),this.formatAddress=pi}}class hi{constructor({parent:e,...t}){this.createChildEssentials=(e={})=>new hi({...e,parent:this}),this._parent=e,this._delegate=new fi({...t,parent:this._parent})}get asPartial(){return this._delegate}get experiments(){return this._delegate.getExperiments(this._parent)}get fedopsLogger(){return this._delegate.getFedopsLogger(this._parent)}get errorMonitor(){return this._delegate.getErrorMonitor(this._parent)}get i18n(){return this._delegate.getI18n(this._parent)}get biLoggerFactory(){return this._delegate.getBILoggerFactory(this._parent)}get biLogger(){return this._delegate.getBILogger(this._parent)}get httpClient(){return this._delegate.getHttpClient(this._parent)}get errorHandler(){return this._delegate.getErrorHandler(this._parent)}get dataCapsule(){return this._delegate.getDataCapsule(this._parent)}get createCurrencyFormatter(){return this._delegate.getCreateCurrencyFormatter(this._parent)}get formatAddress(){return this._delegate.getFormatAddress(this._parent)}get abTranslate(){return this._delegate.getAbTranslate(this._parent)}get environment(){return this._parent.environment}get panoramaClient(){return this._delegate.getPanoramaClient(this._parent)}}const gi=(e,t)=>{const r=((e,t)=>{const r={};for(const[n,o]of Object.entries(e)){const e=/specs\.abTranslate\.(.*?)\.(.*)$/.exec(n);if(e){const n=e[2],[i,s]=n.split("abSpec-");let a;a=s?Array.from(new Set(Object.keys(t).filter((e=>e.includes(s))).map((e=>e.split("|abTranslate")[0])))):[i],a.forEach((e=>{if("0"!==o){const t=s?`|${s}`:"";r[e]=`${e}|abTranslate_${o}${t}`}else r[e]=e}))}}return r})(e,t),n={...t};for(const[e,o]of Object.entries(r)){const i=Object.prototype.hasOwnProperty.call(r,e),s=t[o];i&&s&&(n[e]=s)}return n},mi=(e,t)=>{const r=t?t.prototype:Object.getPrototypeOf(e),n=Object.getOwnPropertyNames(r);for(const t of n)"constructor"!==t&&"function"==typeof r[t]&&(e[t]=r[t].bind(e))},vi={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let yi;const bi=new Uint8Array(16);function _i(){if(!yi&&(yi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yi(bi)}const wi=[];for(let e=0;e<256;++e)wi.push((e+256).toString(16).slice(1));function Oi(e,t=0){return wi[e[t+0]]+wi[e[t+1]]+wi[e[t+2]]+wi[e[t+3]]+"-"+wi[e[t+4]]+wi[e[t+5]]+"-"+wi[e[t+6]]+wi[e[t+7]]+"-"+wi[e[t+8]]+wi[e[t+9]]+"-"+wi[e[t+10]]+wi[e[t+11]]+wi[e[t+12]]+wi[e[t+13]]+wi[e[t+14]]+wi[e[t+15]]}const Ei=function(e,t,r){if(vi.randomUUID&&!t&&!e)return vi.randomUUID();const n=(e=e||{}).random||(e.rng||_i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return Oi(n)};class Si{constructor(){this.transactionStartTimes={},this.phaseStartTimes={}}createKey(...e){return e.filter((e=>!!e)).join(" | ")}markTransactionStart(e,t,r,n){const o=this.createKey(e,t,r,n);this.transactionStartTimes[o]=Date.now()}markTransactionFinish(e,t,r,n){const o=this.createKey(e,t,r,n),i=Date.now(),s=this.transactionStartTimes[o]||i,a=Math.round(i-s);return this.transactionStartTimes[o]=0,a}markPhaseStart(e,t,r){const n=this.createKey(e,t,r);this.phaseStartTimes[n]=Date.now()}markPhaseFinish(e,t,r){const n=this.createKey(e,t,r),o=Date.now(),i=this.phaseStartTimes[n]||o,s=Math.round(o-i);return this.phaseStartTimes[n]=0,s}}const Ii=()=>new Si;class Ci{constructor(){this.sessionId="",this.reporter=null,this.batchQueue=null,this.durationTracker=Ii(),this.state=new Map,this.sessionStart=Date.now()}getSessionId(){return this.sessionId=this.sessionId||Ei(),this.sessionId}setSessionId(e){this.sessionId=e}getSessionTime(){return Date.now()-this.sessionStart}getReporter(){return this.reporter}setReporter(e){this.reporter=e}initBatchQueue(e){this.batchQueue=this.batchQueue??e}getBatchQueue(){return this.batchQueue}getDurationTracker(){return this.durationTracker}getStateValue(e){return this.state.get(e)}setStateValue(e,t){this.state.set(e,t)}clearState(){this.state.clear(),this.durationTracker=Ii()}}const Ai=()=>new Ci,xi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t)=>Object.entries(t??{}).reduce(((e,t)=>{let[r,n]=t;return void 0===e[r]&&void 0!==n&&(e[r]=n),e}),e)),{})},Pi=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return[...new Set(t.flat()).values()]}(...r.map((e=>Object.keys(e??{})))),i=[e,...r];return o.reduce(((e,t)=>{const r=i.map((e=>null==e?void 0:e[t])),n=xi(...r);var o;Object.values(n).filter((e=>void 0!==e)).length>0?(e=e??{})[t]=n:null==(o=e)||delete o[t];return e}),e?{...e}:e)};var Ni,ki,Ti,Ri;!function(e){e.SuccessRate="SuccessRate",e.SuccessRateQuality="SuccessRateQuality",e.Duration="Duration",e.ErrorRate="ErrorRate"}(Ni||(Ni={})),function(e){e.Alerting="alerting",e.Ok="ok"}(ki||(ki={})),function(e){e.Info="INFO",e.Warn="WARN",e.Error="ERROR",e.Debug="DEBUG"}(Ti||(Ti={})),function(e){e.Start="START",e.Finish="FINISH"}(Ri||(Ri={}));const Di={ComponentLoad:"PANORAMA_COMPONENT_LOAD",ComponentPhase:"PANORAMA_COMPONENT_PHASE"};var ji,Li;!function(e){e.Standalone="standalone",e.BusinessManager="business-manager",e.Viewer="viewer",e.Editor="editor",e.EditorSettings="editor:settings",e.Mobile="mobile",e.Standards="standards"}(ji||(ji={})),function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(Li||(Li={}));class Mi{constructor(e,t){this.baseClient=e,this.options=t,mi(this)}reportError(e,t){this.baseClient.reportError(e,t,this.options)}addBreadcrumb(e){this.baseClient.addBreadcrumb(e)}}class Fi{constructor(e){this.baseClient=e,mi(this)}info(e,t){this.baseClient.log(Ti.Info,e,t)}warn(e,t){this.baseClient.log(Ti.Warn,e,t)}error(e,t){this.baseClient.log(Ti.Error,e,t)}debug(e,t){this.baseClient.log(Ti.Debug,e,t)}}class Bi{constructor(e,t,r){if(this.baseClient=e,this.name=t,this.options=r,!(e=>!Object.values(Di).includes(e))(t))throw new Error(`"${t}" is an internal transaction and can't be used`);this.baseClient=e,mi(this)}start(e,t){return this.baseClient.reportTransactionStart(this.name,xi(t,this.options),e)}finish(e,t){return this.baseClient.reportTransactionFinish(this.name,xi(t,this.options),e)}}class Hi{constructor(e){let{baseClient:t}=e;se(this,"baseClient",void 0),this.baseClient=t,mi(this)}transaction(e,t){return new Bi(this.baseClient,e,t)}errorMonitor(e){return new Mi(this.baseClient,e)}logger(){return new Fi(this.baseClient)}}let Ui=function(e){return e[e.afterCreateClientForComponent=0]="afterCreateClientForComponent",e[e.beforeReport=1]="beforeReport",e[e.beforeReportTransactionStart=2]="beforeReportTransactionStart",e[e.afterReportTransactionStart=3]="afterReportTransactionStart",e[e.beforeReportTransactionFinish=4]="beforeReportTransactionFinish",e[e.afterReportTransactionFinish=5]="afterReportTransactionFinish",e[e.beforeReportPhaseStart=6]="beforeReportPhaseStart",e[e.afterReportPhaseStart=7]="afterReportPhaseStart",e[e.beforeReportPhaseFinish=8]="beforeReportPhaseFinish",e[e.afterReportPhaseFinish=9]="afterReportPhaseFinish",e[e.beforeReportError=10]="beforeReportError",e[e.afterReportError=11]="afterReportError",e[e.beforeAddBreadcrumb=12]="beforeAddBreadcrumb",e[e.afterAddBreadcrumb=13]="afterAddBreadcrumb",e[e.beforeReportLog=14]="beforeReportLog",e[e.afterReportLog=15]="afterReportLog",e[e.beforeUnhandledError=16]="beforeUnhandledError",e}({});class Zi{constructor(){se(this,"subscribers",{})}tap(e,t){this.subscribers[e]=this.subscribers[e]||[],this.subscribers[e].push(t)}invoke(e){const t=this.subscribers[e];if(!t)return!0;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(const e of t)if(!1===e(...n))return!1;return!0}}class Wi{constructor(e,t){this.name=e,this.baseClient=t,this.baseClient=t,mi(this)}start(e){return this.baseClient.reportPhaseStart(this.name,e)}finish(e){return this.baseClient.reportPhaseFinish(this.name,e)}}class Vi{constructor(e){let{hooksManager:t,baseClient:r}=e;se(this,"baseClient",void 0),se(this,"hooksManager",void 0),this.baseClient=r,this.hooksManager=t,mi(this)}onUnhandledError(e){this.hooksManager.tap(Ui.beforeUnhandledError,e)}reportLoadStart(e,t){const{ComponentLoad:r}=Di;return this.baseClient.reportTransactionStart(r,t,e)}reportLoadFinish(e,t){const{ComponentLoad:r}=Di;return this.baseClient.reportTransactionFinish(r,t,e)}phase(e){return new Wi(e,this.baseClient)}transaction(e,t){return new Bi(this.baseClient,e,t)}errorMonitor(e){return new Mi(this.baseClient,e)}logger(){return new Fi(this.baseClient)}createClientForComponent(){const e=new Hi({baseClient:this.baseClient});return this.hooksManager.invoke(Ui.afterCreateClientForComponent,e),e}}const qi=e=>{var t;if(!(e instanceof Error))return{};const r=qi(e.cause),n=e;return xi(r,{isWixHttpError:n.isWixHttpError,requestId:(null==(t=n.response)||null==(t=t.headers)?void 0:t["x-wix-request-id"])??n.requestId})},zi=e=>xi(qi(e),{isWixHttpError:!1,requestId:""}),Gi=32768,$i=864e5,Ki=e=>{const{errorStack:t,sessionTime:r}=e;if(t&&t.length>Gi){const r="...[truncated by Panorama client to 32kb]",n=t.substring(0,Gi-r.length);e={...e,errorStack:`${n}${r}`}}return r&&r>$i&&(e={...e,sessionTime:$i}),e},Xi=e=>({sessionId:e.getSessionId(),sessionTime:Math.round(e.getSessionTime())}),Ji=(e,t,r,n)=>{const{transactionName:o,transactionAction:i}=r,{sessionId:s,sessionTime:a}=Xi(e),u=Ti.Info,c=`Panorama ${o} ${i}`;return Ki({...t,...r,sessionId:s,sessionTime:a,logLevel:u,requestId:"",message:c,data:n})},Qi=(e,t,r,n)=>{const o=Di.ComponentPhase,{phaseName:i,transactionAction:s}=r,{sessionId:a,sessionTime:u}=Xi(e),c=Ti.Info,l=`Panorama ${i} phase ${s}`;return Ki({...t,...r,transactionName:o,sessionId:a,sessionTime:u,logLevel:c,requestId:"",message:l,data:n})};class Yi{constructor(e){var t=this;let{baseParams:r,globalConfig:n,reporter:o,hooksManager:i,data:s,isMuted:a}=e;se(this,"durationTracker",void 0),se(this,"baseParams",void 0),se(this,"globalConfig",void 0),se(this,"reporter",void 0),se(this,"hooksManager",void 0),se(this,"data",void 0),se(this,"isMuted",void 0),se(this,"getErrorMonitorDataWithDefaults",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.data.addDataScope(r).getData()})),this.baseParams=r,this.globalConfig=n,this.reporter=o,this.hooksManager=i,this.data=s,this.isMuted=a,this.durationTracker="function"==typeof n.getDurationTracker?n.getDurationTracker():Ii()}report(e){if(this.isMuted())return;const t=this.globalConfig.getReporter(),r=this.hooksManager.invoke(Ui.beforeReport,e);"function"!=typeof t?r&&this.reporter(e):t(e)}reportTransactionStart(e,t,r){void 0===t&&(t={});const{id:n}=t,o=this.data.addDataScope(r).getData();if(!this.hooksManager.invoke(Ui.beforeReportTransactionStart,e,o))return;const{fullArtifactId:i,componentId:s}=this.baseParams;this.durationTracker.markTransactionStart(i,s,e,n);const a=Ji(this.globalConfig,this.baseParams,{transactionName:e,transactionAction:Ri.Start},o);this.report(a),this.hooksManager.invoke(Ui.afterReportTransactionStart,e,a)}reportTransactionFinish(e,t,r){void 0===t&&(t={});const{id:n}=t,o=this.data.addDataScope(r).getData();if(!this.hooksManager.invoke(Ui.beforeReportTransactionFinish,e,o))return;const{fullArtifactId:i,componentId:s}=this.baseParams,a=this.durationTracker.markTransactionFinish(i,s,e,n),u=Ji(this.globalConfig,this.baseParams,{transactionName:e,transactionAction:Ri.Finish,transactionDuration:a},o);this.report(u),this.hooksManager.invoke(Ui.afterReportTransactionFinish,e,u)}reportPhaseStart(e,t){const r=this.data.addDataScope(t).getData();if(!this.hooksManager.invoke(Ui.beforeReportPhaseStart,e,r))return;const{fullArtifactId:n,componentId:o}=this.baseParams;this.durationTracker.markPhaseStart(n,o,e);const i=Qi(this.globalConfig,this.baseParams,{phaseName:e,transactionAction:Ri.Start},r);this.report(i),this.hooksManager.invoke(Ui.afterReportPhaseStart,e,i)}reportPhaseFinish(e,t){const r=this.data.addDataScope(t).getData();if(!this.hooksManager.invoke(Ui.beforeReportPhaseFinish,e,r))return;const{fullArtifactId:n,componentId:o}=this.baseParams,i=this.durationTracker.markPhaseFinish(n,o,e),s=Qi(this.globalConfig,this.baseParams,{phaseName:e,transactionAction:Ri.Finish,transactionDuration:i},r);this.report(s),this.hooksManager.invoke(Ui.afterReportPhaseFinish,e,s)}reportError(e,t,r){if(!(e instanceof Error))return;if(t=this.data.addDataScope([t,null==r?void 0:r.data]).getData(),!this.hooksManager.invoke(Ui.beforeReportError,e,t,r))return;const n=((e,t,r,n)=>{const{sessionId:o,sessionTime:i}=Xi(e),{constructor:s,message:a,stack:u=""}=r,c=Ti.Error,{requestId:l}=zi(r);return Ki({...t,sessionId:o,sessionTime:i,logLevel:c,requestId:l,data:n,errorName:(null==n?void 0:n.errorName)??s.name,errorStack:u,message:a})})(this.globalConfig,this.baseParams,e,t);this.report(n),this.hooksManager.invoke(Ui.afterReportError,e,t,r)}addBreadcrumb(e){this.hooksManager.invoke(Ui.beforeAddBreadcrumb,e)&&this.hooksManager.invoke(Ui.afterAddBreadcrumb,e)}log(e,t,r){if(!t)return;const n=this.data.addDataScope(r).getData(),o={message:t,data:n,logLevel:e};if(!this.hooksManager.invoke(Ui.beforeReportLog,e,t,n))return;const i=((e,t,r)=>{const{sessionId:n,sessionTime:o}=Xi(e);return Ki({...t,...r,sessionId:n,sessionTime:o,requestId:""})})(this.globalConfig,this.baseParams,o);this.report(i),this.hooksManager.invoke(Ui.afterReportLog,e,t,n)}}class es{constructor(e){se(this,"data",void 0),this.data=e}getEntriesToDeepDefaults(e){if(e)return Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return es.KEYS_TO_DEEP_DEFAULTS.includes(t)})))}addDataScope(e){const t=Array.isArray(e)?e:[e],r=Pi(...t.map((e=>this.getEntriesToDeepDefaults(e))),this.getEntriesToDeepDefaults(this.data));return new es(xi(r,...t,this.data))}getData(){return this.data}}se(es,"KEYS_TO_DEEP_DEFAULTS",["tags","context"]);class ts{constructor(e){this.options=e,se(this,"globalConfig",void 0),se(this,"reporter",(()=>!0)),se(this,"plugins",[]),se(this,"isMuted",!1),mi(this)}withGlobalConfig(e){return this.globalConfig=e,this}withReporter(e){return this.reporter=e,this}setMuted(e){return this.isMuted=e,this}use(e){return this.plugins.push(e),this}client(e){void 0===e&&(e={});const{pluginParams:t}=e,r=this.globalConfig??Ai(),n=this.reporter,o=new Zi,i=xi(e.baseParams,this.options.baseParams),s=new es(this.options.data).addDataScope(e.data),a=t??{},u=new Yi({baseParams:i,globalConfig:r,isMuted:()=>this.isMuted,reporter:n,hooksManager:o,data:s}),c=new Vi({baseClient:u,hooksManager:o});return this.plugins.forEach((e=>e({hooksManager:o,globalConfig:r,reporter:n,baseClient:u,baseParams:i,pluginParams:a}))),c}}let rs=function(e){return e.HANDLED="HANDLED",e.UNHANDLED="UNHANDLED",e}({}),ns=function(e){return e.WIX_SERVICE="WIX_SERVICE",e.WIX_APP="WIX_APP",e.WIX_CLI_APP="WIX_CLI_APP",e.WIX_CHAT="WIX_CHAT_WIDGET",e.BROWSER_EXTENSION="BROWSER_EXTENSION",e}({});const os=[{scriptType:ns.WIX_SERVICE,regex:()=>/\/services\/([^/]+)\/([^/]+)\//},{scriptType:ns.WIX_APP,regex:()=>/apps\.wix\.com\/([^/]+)\//},{scriptType:ns.WIX_CHAT,regex:()=>/unpkg-semver\/(wix-chatbot-widget)\//},{scriptType:ns.BROWSER_EXTENSION,regex:()=>/^chrome-extension:/}],is=e=>{if(!e.module_metadata)return null;const{artifactId:t,fingerprint:r}=e.module_metadata;return{artifactId:t,artifactVersion:r,scriptType:ns.WIX_CLI_APP}},ss=e=>{const{filename:t,raw:r}=e,n=t??r;return n?os.reduce(((e,t)=>{let{scriptType:r,regex:o}=t;if(!e){const t=o().exec(n);if(t){const[,n,o]=t;e={artifactId:n,artifactVersion:o,scriptType:r}}}return e}),null):null},as=e=>"string"!=typeof e?"":(e=>Array.isArray(e)?e[e.length-1]:void 0)(e.split("."))||"",us=(e,t)=>e.artifactId===t.artifactId,cs=e=>{if("undefined"==typeof window)return null;return new URLSearchParams(window.location.search).get(e)},ls=e=>"true"===cs(e);let ds=function(e){return e.PRODUCTION="production",e.DEVELOPMENT="development",e.BOT="bot",e.INVALID_USER_AGENT="invalid_useragent",e.SLED="sled",e.SERVER="server",e.TEST="test",e}({});const ps=e=>{const t=as(e);if(!t)return!1;const r=cs(`${t}-override`);if(r&&r.includes("localhost"))return!0;const n=(e=>{if("undefined"==typeof document)return null;const t=document.cookie.split(";").map((e=>e.trim())).find((e=>e.startsWith("wixStaticsVersions=")));if(!t)return null;const r=t.split("=")[1].trim().split("|").find((t=>t.startsWith(`${e}#`)));return r?r.split("#")[1]:null})(t);return!!n&&n.includes("localhost")};function fs(){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)return ds.PRODUCTION;if("undefined"==typeof window)try{return"production"}catch{return ds.SERVER}const{hostname:e}=window.location,{userAgent:t}=window.navigator,{cookie:r}=window.document,n=/(^|;)\s*automation\s*=\s*sled:/.test(r),o=/localhost|127\.0\.0\.1|::1|\.local|local\.wix\.com|^$/i.test(e),i=/Googlebot|AdsBot-Google-Mobile|bingbot|BingPreview|facebookexternalhit|Baiduspider|YandexBot/i.test(t),s=/BonEcho|NewsGator|SeaMonkey|iTunes|Epiphany|Konqueror|Sleipnir|IceWeasel/i.test(t);switch(!0){case n:return ds.SLED;case o:return ds.DEVELOPMENT;case i:return ds.BOT;case s:return ds.INVALID_USER_AGENT;default:return ds.PRODUCTION}}const hs=(e,t,r,n,o)=>{const i=((e,t,r)=>["%c%s %c%s %c%s %c%s","color: #D39874","Panorama logger:","color: #CAB6D3",`${e}`,"color: #B3CAD8",`${t}`,"color: #A6C6DB",`${r}`])(t,r,n);e===Ti.Info?console.info(...i):e===Ti.Warn?console.warn(...i):e===Ti.Error?console.error(...i):e===Ti.Debug?console.debug(...i):console.log(...i),o&&Object.keys(o).length&&console.table(o)},gs=[ds.DEVELOPMENT,ds.SLED],ms=()=>e=>{let{hooksManager:t,baseParams:{fullArtifactId:r,componentId:n}}=e;const o=fs(),i=ps(r),s=ls("enablePanoramaLogs"),a=(gs.includes(o)||i)&&!ls("forcePanoramaReport"),u=a&&s;u&&hs(Ti.Info,r,n,`Local mode detected${r?` for ${r}`:""}. Panorama will log reports in the console.`),t.tap(Ui.beforeReport,(e=>{const{data:t,message:r,fullArtifactId:n,componentId:o,logLevel:i}=e;if(u&&hs(i,n,o,r||"",t),a)return!1}))};let vs=function(e){return e.REROUTE="REROUTE",e.CONTINUE="CONTINUE",e.DROP="DROP",e}({}),ys=function(e){return e.ERROR_IS_HANDLED="ERROR_IS_HANDLED",e.HANDLER_MATCH="HANDLER_MATCH",e.NO_ARTIFACTS_IN_STACKTRACE="NO_ARTIFACTS_IN_STACKTRACE",e.NO_REGISTERED_ARTIFACTS_IN_STACKTRACE="NO_REGISTERED_ARTIFACTS_IN_STACKTRACE",e.BLACKLISTED_SCRIPT_TYPE="BLACKLISTED_SCRIPT_TYPE",e.EXACT_REROUTE_MATCH="EXACT_REROUTE_MATCH",e.HANDLER_REROUTE_MATCH="HANDLER_REROUTE_MATCH",e.FALLBACK_REROUTE_MATCH="FALLBACK_REROUTE_MATCH",e}({});const bs="__panoramaData",_s=[ns.BROWSER_EXTENSION],ws="sentryHubs",Os="sentryMainHub",Es="sentryGlobalHub",Ss=e=>(e.getStateValue(ws)||e.setStateValue(ws,new Map),e.getStateValue(ws)),Is=e=>e.getStateValue(Os)??null,Cs=e=>e.getStateValue(Es)??null,As=(e,t)=>Ss(t).get(e)??null,xs=e=>{const{artifactId:t,artifactVersion:r}=e;return`${t}@${r}`},Ps=e=>{if(!e)return[];const t=Object.values(e.getScope()??{}),r=["category","data","level","message","event_id","type"];try{for(const e of t){var n;if(Array.isArray(e)&&null!=(n=e[0])&&n.timestamp&&r.some((t=>{var r;return!(null==(r=e[0])||!r[t])})))return e}return[]}catch{return[]}},Ns=e=>{const t=[...Ps(Cs(e)),...Ps(Is(e))].map((e=>{let t;try{e.data&&(t=Object.entries(e.data).reduce(((e,t)=>{let[r,n]=t;return e[r]=Array.isArray(n)?n.map((e=>null==e?void 0:e.toString())):null==n?void 0:n.toString(),e}),{}))}catch{}return{...e,...t?{data:t}:{}}}));return t.slice(Math.max(0,t.length-100))};function ks(e,t){const{category:r}=e,n=r&&("ui.click"===r||"ui.input"===r),o=t&&t.event&&t.event.target;if(n&&o){const t=o.closest("[data-hook]");if(t){const r=t.getAttribute("data-hook");e.message=o===t?`${e.message} [data-hook="${r}"]`:`${e.message} parent:[data-hook="${r}"]`}}return e}const Ts=(e,t)=>(e.setContext(bs,{...t,exceptionType:(null==t?void 0:t.exceptionType)||rs.HANDLED}),null!=t&&t.severity&&e.setLevel(t.severity),e),Rs=e=>{const{artifactData:t,stackTraceArtifactsData:r,panoramaData:n,globalConfig:o}=e,{exceptionType:i}=n;if(i===rs.HANDLED)return{routingAction:vs.CONTINUE,routingActionReason:ys.ERROR_IS_HANDLED};if(0===r.length)return{routingAction:vs.CONTINUE,routingActionReason:ys.NO_ARTIFACTS_IN_STACKTRACE};if((e=>e.some((e=>{let{scriptType:t}=e;return _s.includes(t)})))(r))return{routingAction:vs.DROP,routingActionReason:ys.BLACKLISTED_SCRIPT_TYPE};if(!((e,t)=>t.length>0&&e.artifactId!==t[0].artifactId)(t,r))return{routingAction:vs.CONTINUE,routingActionReason:ys.HANDLER_MATCH};const s=((e,t)=>{for(const r of e){const e=As(r.artifactId,t);if(e)return{hub:e,artifactData:r}}return null})(r,o);if(!s)return{routingAction:vs.DROP,routingActionReason:ys.NO_REGISTERED_ARTIFACTS_IN_STACKTRACE};const{hub:a,artifactData:u}=s;if(us(t,u))return{routingAction:vs.CONTINUE,routingActionReason:ys.HANDLER_REROUTE_MATCH};const c=us(u,r[0])?ys.EXACT_REROUTE_MATCH:ys.FALLBACK_REROUTE_MATCH;return{routingAction:vs.REROUTE,routingActionReason:c,targetHub:a}},Ds=(e,t)=>{var r;const n=[],o=new Map,i=(null==(r=e.exception)||null==(r=r.values)||null==(r=r[0])||null==(r=r.stacktrace)?void 0:r.frames)||(e=>{if(!(e instanceof Error))return[];const{stack:t}=e;return(null==t?void 0:t.split("\n").map((e=>({raw:e}))).reverse())||[]})(null==t?void 0:t.originalException);for(let e=i.length-1;e>=0;e--){const t=is(i[e])??ss(i[e]);if(!t)continue;const{artifactId:r,artifactVersion:s}=t,a=r+s;o.has(a)||(o.set(a,!0),n.push(t))}return n},js=(e,t,r)=>({hub:t(e),sentry:e,sentryBeforeSend:r}),Ls=e=>e.load(),Ms=e=>!!e.hub,Fs=e=>{const{artifactData:t,pluginParams:r,globalConfig:n}=e,{sentryTransport:o,sentryDsn:i,sentryEnvironment:s}=r;let a,{sentry:u}=r;if(!u||!i)return{hub:null};const c=e=>{a=e},l=e=>{const r=!e.makeFetchTransport,n=r||o?o:e.makeFetchTransport,u=r?void 0:e.defaultStackParser,c=r?[...e.defaultIntegrations]:[...e.getDefaultIntegrations({}),..."function"==typeof e.moduleMetadataIntegration?[e.moduleMetadataIntegration()]:[]];return new e.Hub(new e.BrowserClient({dsn:i,environment:s??fs(),release:xs(t),transport:n,stackParser:u,integrations:c,normalizeDepth:4,beforeBreadcrumb:ks,beforeSend:(e,t)=>"function"==typeof a?a(e,t):e,debug:!0}))};return u=n.getStateValue("sentryResolved")??u,u.BrowserClient?js(u,l,c):((e,t,r,n)=>{let o;const i=new Promise((e=>{o=e})),s={load:()=>(e.getStateValue("sentryLazyLoaderTriggered")||(e.setStateValue("sentryLazyLoaderTriggered",!0),t.forceLoad()),i),wait:()=>i,sentryBeforeSend:n};return t.onLoad((t=>{e.setStateValue("sentryResolved",t),o(Object.assign(s,js(t,r,n)))})),s})(n,u,l,c)},Bs=(e,t)=>{const{artifactData:r,baseParams:n,pluginParams:o,globalConfig:i}=t,{fullArtifactId:s,componentId:a,uuid:u,msid:c}=n,{sentryDsn:l,sentryMain:d}=o,{artifactId:p}=r,f=e=>{const{hub:t,sentry:r}=e;if(t.setUser({id:u??""}),t.setTags({fullArtifactId:s,componentId:a,msid:c,sessionId:i.getSessionId()}),!Is(i)&&d){if(!Cs(i)){const e=r.getCurrentHub();e.getClient()&&((e,t)=>{t.setStateValue(Es,e)})(e,i)}r.makeMain(t),((e,t)=>{t.setStateValue(Os,e)})(t,i)}((e,t,r)=>{Ss(r).set(t,e)})(t,p,i),((e,t,r)=>{Ss(r).set(t,e)})(t,l,i)};Ms(e)?f(e):(e=>e.wait())(e).then(f)},Hs=(e,t)=>{const{artifactData:r,pluginParams:n,baseClient:o,globalConfig:i,hooksManager:s}=t,{sentryBeforeSend:a}=e,u=(e=>(t,r)=>{if(!(t instanceof Error))return;const n={...r};delete n.originalErrorName;try{e.reportError(t,n)}catch(t){(e=>(t,r,n)=>{try{e.log(t,r,n)}catch(e){}})(e)(Ti.Error,"[panorama-sentry-plugin] Failed to report error to Panorama",{...n,error:null==t?void 0:t.toString()})}})(o);a(((e,t)=>{const a=((e,t)=>{if(!(t instanceof Error)){const r=new Error("string"==typeof t?t:e.message);return delete r.stack,r}return t})(e,null==t?void 0:t.originalException);if((e=>{var t;return!(null!=(t=e.contexts)&&t[bs])})(e)&&!s.invoke(Ui.beforeUnhandledError,a))return null;const c=Ds(e,t);let l=(e=>{var t;let r={};return null!=(t=e.contexts)&&t[bs]&&(r={...r,...e.contexts[bs]},delete e.contexts[bs]),r.exceptionType=r.exceptionType||rs.UNHANDLED,r})(e);const{routingAction:d}=l;let p=!1,f=!1;if(d===vs.REROUTE)p=!0,f=!0;else{const{routingAction:t,routingActionReason:n,targetHub:o}=Rs({artifactData:r,stackTraceArtifactsData:c,panoramaData:l,globalConfig:i});switch(l={...l,routingAction:t,routingActionReason:n},t){case vs.REROUTE:p=!1,f=!1,o.withScope((t=>{var n;Ts(t,{...l,originalHandler:r,originalErrorName:null==(n=e.exception)||null==(n=n.values)||null==(n=n[0])?void 0:n.type}),o.captureException((e=>{const{message:t,stack:r,cause:n}=e;return Object.assign(Object.create(Object.getPrototypeOf(e)),{name:`${Date.now()+Math.random()}`,message:t,stack:r,cause:n})})(a))}));break;case vs.CONTINUE:p=!0,f=!0;break;case vs.DROP:p=!0,f=!1}}return p&&(l=((e,t,r)=>{let{stackTraceArtifactsData:n}=r;return{...e,externalId:t.event_id,environment:e.environment??t.environment,stackTraceArtifacts:n}})(l,e,{stackTraceArtifactsData:c}),u(a,l)),f?(n.sentryGetReleaseFromStacktrace&&(e=((e,t,r)=>{const n=((e,t)=>{for(const r of t){const{artifactId:t}=r;if(t===e.artifactId)return r}return null})(t,r);if(!n)return e;const o=xs(n);return{...e,release:o}})(e,r,c)),e=((e,t)=>({...e,breadcrumbs:Ns(t)}))(e,i),e=((e,t,r)=>{var n;const o=r.getErrorMonitorDataWithDefaults({tags:{exceptionType:t.exceptionType}},{tags:t.tags,context:t.context,environment:t.environment},{tags:e.tags,context:e.contexts,environment:e.environment});return e={...e,tags:null==o?void 0:o.tags,contexts:null==o?void 0:o.context,environment:null==o?void 0:o.environment},t.originalErrorName&&null!=(n=e.exception)&&null!=(n=n.values)&&n[0]&&(e.exception.values[0].type=t.originalErrorName),e})(e,l,o),e=((e,t)=>{const{requestId:r}=zi(t);return{...e,tags:{...e.tags,...r?{requestId:r}:{}}}})(e,a),e):null})),s.tap(Ui.beforeReportError,((t,r,n)=>{if(null!=r&&r.externalId)return;const o=e=>{let o=e.hub;const{sentryLookupDsn:s,sentryEnvironment:a}=(null==n?void 0:n.pluginParams)??{};if(s){const e=((e,t)=>Ss(t).get(e)??null)(s,i);e&&(o=e)}o.withScope((e=>{Ts(e,xi(r,{environment:a})),o.captureException(t)}))};return Ms(e)?o(e):Ls(e).then(o),!1})),s.tap(Ui.beforeAddBreadcrumb,(t=>{const r=()=>{const e=Cs(i)??Is(i);null==e||e.addBreadcrumb(t)};Ms(e)?r():Ls(e).then(r)}))},Us=function(e){return void 0===e&&(e={}),t=>{let{baseParams:r,pluginParams:n,baseClient:o,hooksManager:i,globalConfig:s}=t;n=xi(n,e);const a=(e=>{const{fullArtifactId:t,artifactVersion:r}=e;return{artifactId:as(t),artifactVersion:r,scriptType:ns.WIX_SERVICE}})(r),u=Fs({artifactData:a,pluginParams:n,globalConfig:s});(e=>null===e.hub)(u)||(Bs(u,{artifactData:a,baseParams:r,pluginParams:n,globalConfig:s}),Hs(u,{artifactData:a,pluginParams:n,baseClient:o,hooksManager:i,globalConfig:s}))}};var Zs=u(3259),Ws=u.n(Zs);class Vs{constructor(e){this.options=e,se(this,"queue",[]),se(this,"flushThrottled",void 0),this.flushThrottled=Ws()((()=>this.flush()),e.throttleDuration,{leading:!1})}flush(){const e=this.queue.splice(0);this.options.flushHandler(e)}enqueue(e){this.queue.push(e),this.queue.length===this.options.maxBatchSize?(this.flushThrottled.cancel(),this.flush()):this.flushThrottled()}}const qs=100,zs=["dataCenter","isCached","isRollout","isDacRollout","isSavRollout","isHeadless","isSsr"],Gs=(e,t)=>r=>{try{const n=Array.isArray(r)?r:[r],o=JSON.stringify({messages:n}),i={method:"POST",body:o};if(t)return t(e,i).catch((e=>{console.error(e)})),!0;const s=navigator.sendBeacon(e,o);return s||(fetch(e,i),((e,t)=>{var r,n;const o=new URL("https://frog.wix.com/panorama"),i=e.length,s=t.length,a=e.map((e=>{let{logLevel:t,fullArtifactId:r,componentId:n,message:o}=e;return[t,r,n,o].join("|")})).join(",");[["src",11],["evid",114700],["sessionId",null==(r=e[0])?void 0:r.sessionId],["platform",null==(n=e[0])?void 0:n.platform],["batchLength",i],["batchSize",s],["batchItems",a],["_",Date.now()]].forEach((e=>{let[t,r]=e;return o.searchParams.set(t,(r??"").toString())})),(new Image).src=o.toString()})(n,o),!0)}catch(e){return console.error(e),!1}},$s=e=>{const{baseParams:t,pluginParams:r,pageParams:n,data:o,reporterOptions:i}=e,{useBatch:s=!0,sentry:a,sentryDsn:u,sentryMain:c,sentryEnvironment:l,sentryTransport:d}=r??{},{fetchFn:p}=i??{},f=function(e){return void 0===e&&(e={}),new ts(e)}({baseParams:t,data:o}).use(function(e){return void 0===e&&(e={}),t=>{let{hooksManager:r}=t;const{pageUrl:n}=e;r.tap(Ui.beforeReport,(e=>{(n||"undefined"!=typeof window)&&(e.httpReferrer=n??window.location.href)}))}}(n)).use((h=zs,e=>{let{hooksManager:t}=e;t.tap(Ui.beforeReport,(e=>{h.forEach((t=>{const{data:r}=e;r&&void 0!==r[t]&&(e[t]=r[t],r[t]=void 0)}))}))})).use(ms()).use(Us({sentry:a,sentryDsn:u,sentryMain:c,sentryEnvironment:l,sentryTransport:d})).withReporter(Gs("https://panorama.wixapps.net/api/v1/bulklog",p));var h;return s&&f.use(function(e,t){return void 0===t&&(t={}),r=>{let{hooksManager:n,globalConfig:o,reporter:i}=r;if(o.getReporter())return;const{maxBatchSize:s=qs}=t;o.initBatchQueue(new Vs({throttleDuration:e,maxBatchSize:s,flushHandler:i})),n.tap(Ui.beforeReport,(e=>(o.getBatchQueue().enqueue(e),!1)))}}(300)),f.use=void 0,f},Ks=()=>Ai();class Xs{constructor(e){var t,n;r()(this,"options",void 0),r()(this,"environment",void 0),r()(this,"httpClient",void 0),r()(this,"dataCapsule",void 0),r()(this,"experiments",void 0),r()(this,"fedopsLogger",void 0),r()(this,"errorMonitor",void 0),r()(this,"i18n",void 0),r()(this,"createCurrencyFormatter",void 0),r()(this,"formatAddress",void 0),r()(this,"abTranslate",void 0),r()(this,"panoramaClient",void 0),r()(this,"biLogger",void 0),r()(this,"errorHandler",void 0),r()(this,"createChildEssentials",(e=>new hi({...e,parent:this}))),this.options=e;const{environment:o,httpClient:i,dataCapsule:s,experiments:a,errorMonitor:u}=e;this.environment={version:"0.0.0",...o},this.biLogger=this.createBiLogger(),this.errorHandler=new Ar({showError:e.showError,biLoggerOrFactory:this.biLogger,createErrorMonitor:e=>this.createChildEssentials({errorMonitor:e}).errorMonitor,createI18n:e=>this.createChildEssentials({i18n:e}).i18n,environment:o,biDefaultsOverrides:{hostingEnvironment:"giza"}}),this.httpClient=Ut({artifactId:o.artifactId,errorHandler:null!=(t=e.platformExperiments)&&t.enabled("specs.os.EnableErrorHandlerInGiza")?this.errorHandler:void 0,...i}),this.dataCapsule=new Co({...s,strategy:new qo}),this.experiments=new Qr({experiments:(null==a?void 0:a.bag)??{}}),this.fedopsLogger=_o(o.componentId),this.errorMonitor=Yt({Sentry:e.Sentry,environment:Wt(),artifactId:o.artifactId,...u,tags:{...u.tags??{},accountLanguage:o.language}}),this.i18n=Ve({locale:o.language,asyncMessagesLoader:async()=>({}),useSuspense:!0,disableAutoInit:!0}),this.createCurrencyFormatter=oi({language:o.language}),this.formatAddress=pi,this.abTranslate=gi;let c=$s({baseParams:{componentId:o.componentId,uuid:o.userId,msid:o.metaSiteId,fullArtifactId:o.fullArtifactId,artifactVersion:o.version,appDefId:o.appId}});null!=(n=e.panorama)&&n.globalConfig&&(c=c.withGlobalConfig(e.panorama.globalConfig)),this.panoramaClient=c.client({pluginParams:{sentry:e.Sentry,sentryDsn:e.errorMonitor.dsn}})}createBiLogger(){const{artifactId:e}=this.options.environment,{globalBatchQueue:t,defaults:r={},getBsi:n}=this.options.biLogger??{},o=(0,wo.factory)();t&&o.setGlobalBatchQueue(t),o.updateDefaults({...r,...e&&{_artifact_name:e}}),n&&o.withNonEssentialContext({bsi:()=>n()});const i=o.logger();return Object.defineProperty(i,"updateDefaults",{value:function(e){return o.updateDefaults(e)}}),i}get asPartial(){return this}get biLoggerFactory(){throw new Error("`biLoggerFactory` is not implemented for Giza ComponentEssentials")}}function Js(e){return new Xs(e)}var Qs=u(1024);const{useContext:Ys,Provider:ea,Context:ta,Consumer:ra}=function(e){const t=(0,Qs.createContext)(null),r=t.Provider,n=t.Consumer;return{Context:t,Provider:r,Consumer:n,useContext:()=>{const e=(0,Qs.useContext)(t);return e}}}(),na=ea,oa=Ys})(),f})()));
//# sourceMappingURL=api.umd.min.js.map